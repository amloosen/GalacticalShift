{"ast":null,"code":"var _jsxFileName = \"/Users/alisaloosen/Documents/GitHub/GalacticalShift/src/Components/TrainingIntro.js\";\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { DATABASE_URL } from \"./config\";\nimport styles from \"./style/taskStyle.module.css\";\nimport Cockpit from \"./img/CockpitBlank.jpg\"; /////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// GLOBAL FUNCTIONS\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction shuffle(array) {\n  var currentIndex = array.length,\n      temporaryValue,\n      randomIndex; // While there remain elements to shuffle...\n\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1; // And swap it with the current element.\n\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n} //shuffling 2 or more arrays in the same order\n\n\nvar isArray = Array.isArray || function (value) {\n  return {}.toString.call(value) !== \"[object Array]\";\n};\n\nfunction shuffleSame() {\n  var arrLength = 0;\n  var argsLength = arguments.length;\n  var rnd, tmp, argsIndex;\n\n  for (var index = 0; index < argsLength; index += 1) {\n    if (!isArray(arguments[index])) {\n      throw new TypeError(\"Argument is not an array.\");\n    }\n\n    if (index === 0) {\n      arrLength = arguments[0].length;\n    }\n\n    if (arrLength !== arguments[index].length) {\n      throw new RangeError(\"Array lengths do not match.\");\n    }\n  }\n\n  while (arrLength) {\n    rnd = Math.round(Math.random() * arrLength);\n    arrLength -= 1;\n\n    for (argsIndex = 0; argsIndex < argsLength; argsIndex += 1) {\n      tmp = arguments[argsIndex][arrLength];\n      arguments[argsIndex][arrLength] = arguments[argsIndex][rnd];\n      arguments[argsIndex][rnd] = tmp;\n    }\n  }\n} //element-wise multiplication for vector\n\n\nfunction multVec(a, b) {\n  return a.map((e, i) => e * b[i]);\n} // vector of random numbers within a range\n\n\nfunction randVec(num, min, max) {\n  var arr = [];\n\n  while (arr.length < num) {\n    var minT = Math.ceil(min);\n    var maxT = Math.floor(max);\n    var r = Math.floor(Math.random() * (maxT - minT + 1)) + minT;\n    arr.push(r);\n  }\n\n  return arr;\n} // the index for NOT answers\n\n\nfunction otherVec(vect) {\n  var arr1 = [];\n  var arr2 = [];\n\n  for (var index = 0; index < vect.length; index += 1) {\n    var chosenValue;\n    var altValue;\n    var num = vect[index];\n\n    if (num === 1) {\n      chosenValue = Math.random() <= 0.5 ? 2 : 3;\n\n      if (chosenValue === 2) {\n        altValue = 3;\n      } else {\n        altValue = 2;\n      }\n    } else if (num === 2) {\n      chosenValue = Math.random() <= 0.5 ? 1 : 3;\n\n      if (chosenValue === 1) {\n        altValue = 3;\n      } else {\n        altValue = 1;\n      }\n    } else if (num === 3) {\n      chosenValue = Math.random() <= 0.5 ? 2 : 1;\n\n      if (chosenValue === 2) {\n        altValue = 1;\n      } else {\n        altValue = 2;\n      }\n    }\n\n    arr1[index] = chosenValue;\n    arr2[index] = altValue;\n  }\n\n  return [arr1, arr2];\n} // flip sign of elements in vector, and * the multiplier if the real ans is 0\n\n\nfunction flipSign(vect, vect2) {\n  var arr = [];\n\n  for (var index = 0; index < vect.length; index += 1) {\n    var posNum;\n\n    if (vect[index] === 0) {\n      posNum = 1 * vect2[index];\n    } else {\n      posNum = vect[index] * -1;\n    }\n\n    arr[index] = posNum;\n  }\n\n  return arr;\n} // if it is zero, and * the multiplier if the real ans is 0\n\n\nfunction flipZero(vect, vect2) {\n  var arr = [];\n\n  for (var index = 0; index < vect.length; index += 1) {\n    var posNum;\n\n    if (vect[index] === 0) {\n      posNum = -1 * vect2[index];\n    } else {\n      posNum = 0;\n    }\n\n    arr[index] = posNum;\n  }\n\n  return arr;\n} /////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n\n\nvar trialTotal = 9;\nvar outcomeVal = [1, -1, 0];\nvar outcomeIndx = [0, 1, 2]; /////////////////////////////////////////////////////////////////////////////////\n// Plan the outcome memory test here\n// There will be 9 trials, they have to pass 65%?\n\nvar outcomeMultLog = [1, 1, 2, 2, 3, 3, 4, 4, 5];\nvar outcomeIndxLog = outcomeIndx.concat(outcomeIndx.concat(outcomeIndx)); // [0,2,1,2,1,0...]\n\nvar outcomeValPreLog = outcomeVal.concat(outcomeVal.concat(outcomeVal)); // [0,-1,1,-1,1,0...]\n\nshuffle(outcomeMultLog);\nshuffleSame(outcomeIndxLog, outcomeValPreLog);\noutcomeIndxLog = outcomeIndxLog.filter(function (val) {\n  return val !== undefined;\n});\noutcomeValPreLog = outcomeValPreLog.filter(function (val) {\n  return val !== undefined;\n}); // the actual values for the answers\n\nvar outcomeValLog = multVec(outcomeValPreLog, outcomeMultLog); //[0,-1,1,-1,1,0...] * [1,2,3,1,4...] = [0,-2,3,-1,4...]\n\nvar outcomeNotValLog1 = flipSign(outcomeValLog, outcomeMultLog); //wrong answer 1\n\nvar outcomeNotValLog2 = flipZero(outcomeValLog, outcomeMultLog); //wrong answer 2\n\nvar outcomeAnsLog = randVec(trialTotal, 1, 3); // [1,3,2,1,2,3...] gives position of answer\n\nvar outcomeNotAnsLog = otherVec(outcomeAnsLog); // gives two arrays of wrong answer position for other two options\n\nvar outcomeNotAnsLog1 = outcomeNotAnsLog[0]; // var outcomeNotAnsLog2 = outcomeNotAnsLog[1];\n/////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// REACT COMPONENT START\n\nclass TrainingIntro extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._handleInstructKey = event => {\n      var key_pressed;\n\n      switch (event.keyCode) {\n        case 37:\n          //    this is left arrow\n          key_pressed = 4;\n          this.handleInstructLocal(key_pressed);\n          break;\n\n        case 39:\n          //    this is right arrow\n          key_pressed = 5;\n          this.handleInstructLocal(key_pressed);\n          break;\n\n        case 32:\n          //    this is SPACEBAR\n          key_pressed = 10;\n          this.handleInstructLocal(key_pressed);\n          break;\n\n        default:\n      }\n    };\n\n    this._handleTestKey = event => {\n      var pressed;\n      var time_pressed;\n\n      switch (event.keyCode) {\n        case 49:\n          pressed = 1;\n          time_pressed = Math.round(performance.now());\n          this.testCheck(pressed, time_pressed);\n          break;\n\n        case 50:\n          pressed = 2;\n          time_pressed = Math.round(performance.now());\n          this.testCheck(pressed, time_pressed);\n          break;\n\n        case 51:\n          pressed = 3;\n          time_pressed = Math.round(performance.now());\n          this.testCheck(pressed, time_pressed);\n          break;\n        //this is keycode for numpad\n\n        case 97:\n          pressed = 1;\n          time_pressed = Math.round(performance.now());\n          this.testCheck(pressed, time_pressed);\n          break;\n\n        case 98:\n          pressed = 2;\n          time_pressed = Math.round(performance.now());\n          this.testCheck(pressed, time_pressed);\n          break;\n\n        case 99:\n          pressed = 3;\n          time_pressed = Math.round(performance.now());\n          this.testCheck(pressed, time_pressed);\n          break;\n\n        default:\n      }\n    };\n\n    this._handleDebugKey = event => {\n      var pressed;\n\n      switch (event.keyCode) {\n        case 32:\n          //    this is SPACEBAR\n          pressed = 10;\n          this.handleDebugKeyLocal(pressed);\n          break;\n\n        default:\n      }\n    };\n\n    const userID = this.props.location.state.userID;\n    const date = this.props.location.state.date;\n    const startTime = this.props.location.state.startTime;\n    const shuttlePic = this.props.location.state.shuttlePic;\n    const shuttleWord = this.props.location.state.shuttleWord;\n    const img_fix = this.props.location.state.img_fix;\n    const img_astrodude1 = this.props.location.state.img_astrodude1;\n    const img_astrodude2 = this.props.location.state.img_astrodude2;\n    const img_astrodude3 = this.props.location.state.img_astrodude3;\n    const img_counter = this.props.location.state.img_counter;\n    const img_coinSmall = this.props.location.state.img_coinSmall;\n    const img_coin = this.props.location.state.img_coin;\n    const img_pathInstruct1 = this.props.location.state.img_pathInstruct1;\n    const stateHolder = this.props.location.state.stateHolder;\n    const statePic = this.props.location.state.statePic;\n    const stateWord = this.props.location.state.stateWord;\n    const outcomePic = this.props.location.state.outcomePic;\n    const outcomeWord = this.props.location.state.outcomeWord;\n    var currentDate = new Date(); // maybe change to local\n\n    var timeString = currentDate.toTimeString(); /////////////////////////////////////////////////////////////////////////////////\n    // SET COMPONENT STATES\n\n    this.state = {\n      userID: userID,\n      date: date,\n      startTime: startTime,\n      sectionTime: timeString,\n      taskSessionTry: 1,\n      taskSession: \"TrainingIntro\",\n      instructScreenText: 1,\n      shuttlePic: shuttlePic,\n      shuttleWord: shuttleWord,\n      img_fix: img_fix,\n      img_astrodude1: img_astrodude1,\n      img_astrodude2: img_astrodude2,\n      img_astrodude3: img_astrodude3,\n      img_counter: img_counter,\n      img_coinSmall: img_coinSmall,\n      img_coin: img_coin,\n      img_pathInstruct1: img_pathInstruct1,\n      stateHolder: stateHolder,\n      statePic: statePic,\n      stateWord: stateWord,\n      outcomePic: outcomePic,\n      outcomeWord: outcomeWord,\n      outcomeVal: outcomeVal,\n      // [1, -1, 0];\n      outcomeIndx: outcomeIndx,\n      outcomeIndxLog: outcomeIndxLog,\n      outcomeMultLog: outcomeMultLog,\n      outcomeValPreLog: outcomeValPreLog,\n      outcomeValLog: outcomeValLog,\n      outcomeNotValLog1: outcomeNotValLog1,\n      outcomeNotValLog2: outcomeNotValLog2,\n      outcomeAnsLog: outcomeAnsLog,\n      outcomeNotAnsLog1: outcomeNotAnsLog1,\n      // outcomeNotAnsLog2: outcomeNotAnsLog2,\n      trialNum: 1,\n      trialTotal: trialTotal,\n      trialRT: 0,\n      trialTime: 0,\n      trialKeypress: 0,\n      trialCorLog: [],\n      trialScore: 0,\n      trialCor: null,\n      instructScreen: true,\n      testScreen: false,\n      debug: false //if true, skip this section\n\n    };\n    this.handleInstructLocal = this.handleInstructLocal.bind(this);\n    this.handleDebugKeyLocal = this.handleDebugKeyLocal.bind(this);\n    this.testCheck = this.testCheck.bind(this);\n    this.testStart = this.testStart.bind(this);\n    /* prevents page from going down when space bar is hit .*/\n\n    window.addEventListener(\"keydown\", function (e) {\n      if (e.keyCode === 32 && e.target === document.body) {\n        e.preventDefault();\n      }\n    });\n  } /////////////////////////////////////////////////////////////////////////////////\n  // END COMPONENT STATE\n  // This handles instruction screen within the component USING KEYBOARD\n\n\n  handleInstructLocal(key_pressed) {\n    var curText = this.state.instructScreenText;\n    var whichButton = key_pressed;\n\n    if (whichButton === 4 && curText > 1) {\n      this.setState({\n        instructScreenText: curText - 1\n      });\n    } else if (whichButton === 5 && curText < 6) {\n      this.setState({\n        instructScreenText: curText + 1\n      });\n    } else if (curText === 6 && whichButton === 10) {\n      //startmissionOne\n      setTimeout(function () {\n        this.missionOne();\n      }.bind(this), 0);\n    } else if (curText === 7 && whichButton === 10) {\n      //restart\n      this.setState({\n        instructScreenText: 1\n      });\n    } else if (curText === 8 && whichButton === 10) {\n      //go to pathtask\n      setTimeout(function () {\n        this.nextMission();\n      }.bind(this), 0);\n    }\n  } // handle key key_pressed\n\n\n  handleDebugKeyLocal(pressed) {\n    var whichButton = pressed;\n\n    if (whichButton === 10) {\n      setTimeout(function () {\n        this.nextMission();\n      }.bind(this), 0);\n    }\n  }\n\n  /////////////////////////////////////////////////////////////////////////////////\n  // END COMPONENT PROPS\n  missionOne() {\n    var trialTime = Math.round(performance.now());\n    this.setState({\n      instructScreen: false,\n      testScreen: true,\n      trialNum: 1,\n      trialTime: trialTime,\n      trialRT: 0,\n      trialKeypress: 0,\n      trialCorLog: [],\n      trialScore: 0\n    });\n  }\n\n  testStart(trialNum) {\n    // which picture\n    var whichOutcomePic = this.state.outcomeIndxLog[trialNum - 1]; //how many pics\n\n    var numOutcomePic = this.state.outcomeMultLog[trialNum - 1]; //value of the answer\n\n    var outcomeVal1 = this.state.outcomeValLog[trialNum - 1];\n    var outcomeVal2 = this.state.outcomeNotValLog1[trialNum - 1];\n    var outcomeVal3 = this.state.outcomeNotValLog2[trialNum - 1]; // position of the answer\n\n    var outcomePos1 = this.state.outcomeAnsLog[trialNum - 1];\n    var outcomePos2 = this.state.outcomeNotAnsLog1[trialNum - 1]; // var outcomePos3 = this.state.outcomeNotAnsLog2[trialNum - 1];\n\n    var ansOne;\n    var ansTwo;\n    var ansThree; // console.log(this.state.outcomeValLog);\n    // console.log(this.state.outcomeNotValLog1);\n    // console.log(this.state.outcomeNotValLog1);\n    // console.log(this.state.outcomeAnsLog);\n    // console.log(this.state.outcomeNotAnsLog1);\n    // console.log(this.state.outcomeNotAnsLog2);\n\n    if (outcomePos1 === 1) {\n      ansOne = outcomeVal1;\n    } else {\n      if (outcomePos2 === 1) {\n        ansOne = outcomeVal2;\n      } else {\n        ansOne = outcomeVal3;\n      }\n    }\n\n    if (outcomePos1 === 2) {\n      ansTwo = outcomeVal1;\n    } else {\n      if (outcomePos2 === 2) {\n        ansTwo = outcomeVal2;\n      } else {\n        ansTwo = outcomeVal3;\n      }\n    }\n\n    if (outcomePos1 === 3) {\n      ansThree = outcomeVal1;\n    } else {\n      if (outcomePos2 === 3) {\n        ansThree = outcomeVal2;\n      } else {\n        ansThree = outcomeVal3;\n      }\n    } // console.log(ansOne);\n    // console.log(ansTwo);\n    // console.log(ansThree);\n\n\n    let text = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.counter,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_counter,\n          alt: \"counter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 11\n        }, this), this.state.trialNum, \"/\", this.state.trialTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: \"How many coins will I gain or lose?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [numOutcomePic, \" X \\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: styles.state,\n            src: this.state.outcomePic[whichOutcomePic],\n            alt: \"outcome\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 14\n          }, this), \"]: \", ansOne, \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: styles.coin,\n            src: this.state.img_coinSmall,\n            alt: \"coin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 13\n          }, this), \"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 20\n          }, this), \"]: \", ansTwo, \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: styles.coin,\n            src: this.state.img_coinSmall,\n            alt: \"coin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 13\n          }, this), \"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 20\n          }, this), \"]: \", ansThree, \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: styles.coin,\n            src: this.state.img_coinSmall,\n            alt: \"coin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: \"[Press the correct number key]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 12\n    }, this);\n  } // function to go to next quiz question and check score\n\n\n  testCheck(pressed, time_pressed) {\n    var trialNum = this.state.trialNum; //quiz question number (this needs to be rest to 1)\n\n    var trialRT = time_pressed - this.state.trialTime;\n    var corAns = this.state.outcomeAnsLog[trialNum - 1];\n    var trialCorLog = this.state.trialCorLog; //[1,1,1,0...]\n\n    var trialScore = this.state.trialScore; //sum of the correct answers\n\n    var trialCor = this.state.trialCor;\n\n    if (pressed === corAns) {\n      trialCor = 1;\n      trialCorLog[trialNum - 1] = 1;\n      trialScore = trialScore + 1;\n    } else {\n      trialCor = 0;\n      trialCorLog[trialNum - 1] = 0;\n    }\n\n    this.setState({\n      trialKeypress: pressed,\n      trialRT: trialRT,\n      trialCor: trialCor,\n      trialCorLog: trialCorLog,\n      trialScore: trialScore\n    });\n    setTimeout(function () {\n      this.trialSave();\n    }.bind(this), 5);\n  }\n\n  condSave() {\n    var userID = this.state.userID;\n    var currentDate = new Date(); // maybe change to local\n\n    var sectionTime = currentDate.toTimeString();\n    var trialTime = Math.round(performance.now());\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      // this is when they start the expt\n      sectionTime: sectionTime,\n      //this is if they somehow refresh the page...\n      trialTime: trialTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      structNum: null,\n      outcomeWord: this.state.outcomeWord,\n      outcomeVal: this.state.outcomeVal,\n      outcomeIndx: this.state.outcomeIndx,\n      stateWord: null,\n      stateIndx: null,\n      pathOne: null,\n      pathTwo: null,\n      pathThree: null,\n      tutForcedPaths: null,\n      tutSafePathOutcome: null,\n      tutRiskyPathOutcome1: null,\n      tutRiskyPathOutcome2: null,\n      tutSafePathProb: null,\n      tutRiskyPathProb1: null,\n      tutRiskyPathProb2: null,\n      tutOptChoice: null,\n      tutForceChoice: null,\n      tutPlanChoice: null,\n      tutShowPath: null,\n      tutOutcomeStruct: null,\n      taskSafePathOutcome: null,\n      taskRiskyPathOutcome1: null,\n      taskRiskyPathOutcome2: null,\n      taskSafePathProb: null,\n      taskRiskyPathProb1: null,\n      taskRiskyPathProb2: null,\n      taskOptChoice: null,\n      taskForceChoice: null,\n      taskPlanChoice: null,\n      taskShowPath: null,\n      taskOutcomeStruct: null\n    };\n    console.log(saveString);\n\n    try {\n      fetch(`${DATABASE_URL}/cond_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(saveString)\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n  }\n\n  trialSave() {\n    var userID = this.state.userID;\n    var trialPicIndx = this.state.outcomeIndxLog[this.state.trialNum - 1];\n    var trialPicWord = this.state.outcomeWord[trialPicIndx];\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      // this is when they start the expt\n      sectionTime: this.state.sectionTime,\n      //this is if they somehow refresh the page...\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      trialTime: this.state.trialTime,\n      trialNum: this.state.trialNum,\n      trialPicIndx: trialPicIndx,\n      trialPicWord: trialPicWord,\n      trialPicNum: this.state.outcomeMultLog[this.state.trialNum - 1],\n      trialPicValue: this.state.outcomeValLog[this.state.trialNum - 1],\n      trialPicAns: this.state.outcomeAnsLog[this.state.trialNum - 1],\n      trialRT: this.state.trialRT,\n      trialKeypress: this.state.trialKeypress,\n      trialCor: this.state.trialCor,\n      trialScore: this.state.trialScore\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/outcome_test/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(saveString)\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    } //lag a bit to make sure statestate is saved\n\n\n    setTimeout(function () {\n      this.trialNext();\n    }.bind(this), 10);\n  }\n\n  trialNext() {\n    var trialNum = this.state.trialNum + 1;\n    var trialTime = Math.round(performance.now());\n    this.setState({\n      trialTime: trialTime,\n      trialNum: trialNum,\n      trialKeypress: 0,\n      trialCor: null\n    });\n  }\n\n  missionOneRestart() {\n    //resetVariables\n    var taskSessionTry = this.state.taskSessionTry + 1;\n    var outcomeMultLog = this.state.outcomeMultLog;\n    var outcomeIndxLog = this.state.outcomeIndxLog;\n    var outcomeValPreLog = this.state.outcomeValPreLog;\n    shuffle(outcomeMultLog);\n    shuffleSame(outcomeIndxLog, outcomeValPreLog);\n    outcomeIndxLog = outcomeIndxLog.filter(function (val) {\n      return val !== undefined;\n    });\n    outcomeValPreLog = outcomeValPreLog.filter(function (val) {\n      return val !== undefined;\n    }); // the actual values for the answers\n\n    var outcomeValLog = multVec(outcomeValPreLog, outcomeMultLog); //[0,-1,1,-1,1,0...] * [1,2,3,1,4...] = [0,-2,3,-1,4...]\n\n    var outcomeNotValLog1 = flipSign(outcomeValLog, outcomeMultLog); //wrong answer 1\n\n    var outcomeNotValLog2 = flipZero(outcomeValLog, outcomeMultLog); //wrong answer 2\n\n    var outcomeAnsLog = randVec(this.state.trialTotal, 1, 3); // [1,3,2,1,2,3...] gives position of answer\n\n    var outcomeNotAnsLog = otherVec(outcomeAnsLog); // gives two arrays of wrong answer position for other two options\n\n    var outcomeNotAnsLog1 = outcomeNotAnsLog[0]; // var outcomeNotAnsLog2 = outcomeNotAnsLog[1];\n    // console.log(outcomeAnsLog);\n    // console.log(outcomeNotAnsLog);\n\n    this.setState({\n      taskSessionTry: taskSessionTry,\n      instructScreen: true,\n      testScreen: false,\n      instructScreenText: 7,\n      //this changes the test ans, but DOES NOT change the outcomeVal\n      outcomeIndxLog: outcomeIndxLog,\n      outcomeMultLog: outcomeMultLog,\n      outcomeValPreLog: outcomeValPreLog,\n      outcomeValLog: outcomeValLog,\n      outcomeNotValLog1: outcomeNotValLog1,\n      outcomeNotValLog2: outcomeNotValLog2,\n      outcomeAnsLog: outcomeAnsLog,\n      outcomeNotAnsLog1: outcomeNotAnsLog1 // outcomeNotAnsLog2: outcomeNotAnsLog2,\n\n    }); //send the TrainingIntro conditions?\n\n    setTimeout(function () {\n      this.condSave();\n    }.bind(this), 0);\n  }\n\n  passMission() {\n    this.setState({\n      instructScreen: true,\n      testScreen: false,\n      instructScreenText: 8\n    });\n  }\n\n  nextMission() {\n    document.removeEventListener(\"keyup\", this._handleInstructKey);\n    document.removeEventListener(\"keyup\", this._handleDebugKey);\n    this.props.history.push({\n      pathname: `/PathTask`,\n      state: {\n        userID: this.state.userID,\n        date: this.state.date,\n        startTime: this.state.startTime,\n        shuttlePic: this.state.shuttlePic,\n        shuttleWord: this.state.shuttleWord,\n        img_fix: this.state.img_fix,\n        img_astrodude1: this.state.img_astrodude1,\n        img_astrodude2: this.state.img_astrodude2,\n        img_astrodude3: this.state.img_astrodude3,\n        img_counter: this.state.img_counter,\n        img_coinSmall: this.state.img_coinSmall,\n        img_coin: this.state.img_coin,\n        img_pathInstruct1: this.state.img_pathInstruct1,\n        stateHolder: this.state.stateHolder,\n        statePic: this.state.statePic,\n        stateWord: this.state.stateWord,\n        outcomePic: this.state.outcomePic,\n        outcomeWord: this.state.outcomeWord,\n        outcomeVal: this.state.outcomeVal,\n        outcomeIndx: this.state.outcomeIndx\n      }\n    });\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0); //send the TrainingIntro conditions?\n\n    setTimeout(function () {\n      this.condSave();\n    }.bind(this), 0);\n    setTimeout(function () {\n      this.setState({\n        mounted: 1\n      });\n    }.bind(this), 5000);\n  }\n\n  componentWillUnmount() {\n    // fix Warning: Can't perform a React state update on an unmounted component\n    this.setState = (state, callback) => {\n      return;\n    };\n  } //////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////\n  // render time\n\n\n  render() {\n    let text;\n\n    if (this.state.debug === false) {\n      if (this.state.instructScreen === true) {\n        if (this.state.instructScreenText === 1) {\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"Hello and welcome to the space mission control centre!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 853,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 856,\n                columnNumber: 17\n              }, this), \"Welcome onboard!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 858,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 858,\n                columnNumber: 24\n              }, this), \"For today's mission, we will be taking shuttles to different\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 17\n              }, this), \"spaceships where we will end up in an outcome room onboard.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 863,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 863,\n                columnNumber: 24\n              }, this), \"One of these rooms will let us \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"earn coins\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 864,\n                columnNumber: 48\n              }, this), \",\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 865,\n                columnNumber: 17\n              }, this), \"while one of these rooms will cause us to\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"lose coins\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 867,\n                columnNumber: 17\n              }, this), \".\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 868,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 868,\n                columnNumber: 24\n              }, this), \"The more coins you find, the higher your bonus will be,\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 870,\n                columnNumber: 17\n              }, this), \"up to a maximum of \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\xA34\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 871,\n                columnNumber: 36\n              }, this), \"!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 872,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 872,\n                columnNumber: 24\n              }, this), \"Before we begin, you will need to learn several things.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 874,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 874,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  children: \"(Use the \\u2190 \\u2192 keys to navigate the pages.)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 876,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 875,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"NEXT \\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 879,\n                  columnNumber: 20\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 878,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 852,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 851,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 2) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"TUTORIAL I\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 888,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 889,\n                columnNumber: 17\n              }, this), \"The first is, when we board a spaceship, we will end up in these outcome rooms, each presented by a picture:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 892,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 892,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.state,\n                  src: this.state.outcomePic[0],\n                  alt: \"outcome1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 894,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0or\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.state,\n                  src: this.state.outcomePic[1],\n                  alt: \"outcome2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 900,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0or\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.state,\n                  src: this.state.outcomePic[2],\n                  alt: \"outcome3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 906,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 893,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 912,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u2190 BACK\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 914,\n                  columnNumber: 20\n                }, this), \"] [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"NEXT \\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 914,\n                  columnNumber: 46\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 913,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 887,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 886,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 3) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"TUTORIAL I\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 923,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 924,\n                columnNumber: 17\n              }, this), \"If we enter this room:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 926,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.state,\n                  src: this.state.outcomePic[0],\n                  alt: \"outcome1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 928,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 927,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 934,\n                columnNumber: 17\n              }, this), \"This room is valuable and we can find coins within it.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 936,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 936,\n                columnNumber: 24\n              }, this), \"In other words, if we see a 3 next to a\", \" \", this.state.outcomeWord[0], \", we earn 3\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                className: styles.coin,\n                src: this.state.img_coinSmall,\n                alt: \"coin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 939,\n                columnNumber: 17\n              }, this), \".\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 945,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 945,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u2190 BACK\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 947,\n                  columnNumber: 20\n                }, this), \"] [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"NEXT \\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 947,\n                  columnNumber: 46\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 946,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 922,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 921,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 4) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"TUTORIAL I\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 956,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 957,\n                columnNumber: 17\n              }, this), \"However, if we enter this room:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 959,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.state,\n                  src: this.state.outcomePic[1],\n                  alt: \"outcome2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 961,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 960,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 967,\n                columnNumber: 17\n              }, this), \"This room is undesirable, and we will be fined coins.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 969,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 969,\n                columnNumber: 24\n              }, this), \"In other words, if we find a 2 next to a\", \" \", this.state.outcomeWord[1], \", we lose 2\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                className: styles.coin,\n                src: this.state.img_coinSmall,\n                alt: \"coin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 972,\n                columnNumber: 17\n              }, this), \".\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 978,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 978,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u2190 BACK\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 980,\n                  columnNumber: 20\n                }, this), \"] [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"NEXT \\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 980,\n                  columnNumber: 46\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 979,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 955,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 954,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 5) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"TUTORIAL I\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 989,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 990,\n                columnNumber: 17\n              }, this), \"Alternatively, if we enter this room:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 992,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.state,\n                  src: this.state.outcomePic[2],\n                  alt: \"outcome3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 994,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 993,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1000,\n                columnNumber: 17\n              }, this), \"This room is neutral, and we will not gain or lose coins.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1002,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1002,\n                columnNumber: 24\n              }, this), \"In other words, even if we find a 5 next to a\", \" \", this.state.outcomeWord[2], \", we earn/lose 0\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                className: styles.coin,\n                src: this.state.img_coinSmall,\n                alt: \"coin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1005,\n                columnNumber: 17\n              }, this), \".\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1011,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1011,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u2190 BACK\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1013,\n                  columnNumber: 20\n                }, this), \"] [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"NEXT \\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1013,\n                  columnNumber: 46\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1012,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 988,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 987,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 6) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"TUTORIAL I\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1022,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1023,\n                columnNumber: 17\n              }, this), \"For your first tutorial, let us check if you understood the different consequences of\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1026,\n                columnNumber: 17\n              }, this), \"entering each of the three outcome rooms.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1028,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1028,\n                columnNumber: 24\n              }, this), \"When we enter a room, you simply have to tell us how many coins you gain or lose.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1031,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1031,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"Press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"SPACEBAR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1033,\n                  columnNumber: 30\n                }, this), \"] to start the tutorial.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1032,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u2190 BACK\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1036,\n                  columnNumber: 20\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1035,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1021,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1020,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 7) {\n          // IF YOU FAIL THE TEST, YOU RESTART\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"TUTORIAL I\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1047,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1048,\n                columnNumber: 17\n              }, this), \"Unforuntately, you only had \", this.state.trialScore, \"/\", this.state.trialTotal, \" correct!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1051,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1051,\n                columnNumber: 24\n              }, this), \"Let us go through the instructions and try again.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1053,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1053,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"Press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"SPACEBAR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1055,\n                  columnNumber: 30\n                }, this), \"] to try again.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1054,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1046,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1045,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 8) {\n          // IF YOU PASS THE TEST\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"TUTORIAL I\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1067,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1068,\n                columnNumber: 17\n              }, this), \"Great, you had \", this.state.trialScore, \"/\", this.state.trialTotal, \"\\xA0correct!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1071,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1071,\n                columnNumber: 24\n              }, this), \"In summary, these outcome rooms lead to:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.outcomePic[0],\n                  alt: \"outcome1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1074,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0 = \\xA0+\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.coin,\n                  src: this.state.img_coinSmall,\n                  alt: \"coin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1080,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0 (gain)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1086,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.outcomePic[1],\n                  alt: \"outcome2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1087,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0 = \\xA0-\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.coin,\n                  src: this.state.img_coinSmall,\n                  alt: \"coin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1093,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0 (lose)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1099,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.outcomePic[2],\n                  alt: \"outcome3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1100,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0 = \\xA0none\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1073,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1107,\n                columnNumber: 17\n              }, this), \"You are ready to move on to the next tutorial.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1109,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1109,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"Press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"SPACEBAR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1111,\n                  columnNumber: 30\n                }, this), \"] to continue.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1110,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1066,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1065,\n            columnNumber: 13\n          }, this);\n        }\n      } else if (this.state.instructScreen === false) {\n        // out of the instructions, this is the quiz\n        if (this.state.testScreen === true) {\n          document.removeEventListener(\"keyup\", this._handleInstructKey);\n\n          if (this.state.trialNum <= this.state.trialTotal) {\n            document.addEventListener(\"keyup\", this._handleTestKey);\n            text = /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\" \", this.testStart(this.state.trialNum)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1124,\n              columnNumber: 20\n            }, this);\n          } else {\n            // finish the quiz\n            document.removeEventListener(\"keyup\", this._handleTestKey);\n\n            if (this.state.trialScore / this.state.trialTotal > 0.65) {\n              //if score more than 65%, move on to the next section\n              setTimeout(function () {\n                this.passMission();\n              }.bind(this), 0);\n            } else {\n              //if you fail, then you do the quiz again...\n              setTimeout(function () {\n                this.missionOneRestart();\n              }.bind(this), 0);\n            }\n          }\n        } else {\n          //Error..........\n          console.log(\"ERROR - LOOP BROKEN OR LEAKY\");\n        }\n      }\n    } else if (this.state.debug === true) {\n      document.addEventListener(\"keyup\", this._handleDebugKey);\n      text = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.main,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.center,\n            children: \"DEBUG MODE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.centerTwo,\n            children: [\"Press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"SPACEBAR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1160,\n              columnNumber: 26\n            }, this), \"] to skip to next section.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1159,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1155,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1154,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.cockpit,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.astro1,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: this.state.img_astrodude1,\n          alt: \"astrodude\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1170,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.textblock,\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1168,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(TrainingIntro);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/alisaloosen/Documents/GitHub/GalacticalShift/src/Components/TrainingIntro.js"],"names":["React","withRouter","DATABASE_URL","styles","Cockpit","shuffle","array","currentIndex","length","temporaryValue","randomIndex","Math","floor","random","isArray","Array","value","toString","call","shuffleSame","arrLength","argsLength","arguments","rnd","tmp","argsIndex","index","TypeError","RangeError","round","multVec","a","b","map","e","i","randVec","num","min","max","arr","minT","ceil","maxT","r","push","otherVec","vect","arr1","arr2","chosenValue","altValue","flipSign","vect2","posNum","flipZero","trialTotal","outcomeVal","outcomeIndx","outcomeMultLog","outcomeIndxLog","concat","outcomeValPreLog","filter","val","undefined","outcomeValLog","outcomeNotValLog1","outcomeNotValLog2","outcomeAnsLog","outcomeNotAnsLog","outcomeNotAnsLog1","TrainingIntro","Component","constructor","props","_handleInstructKey","event","key_pressed","keyCode","handleInstructLocal","_handleTestKey","pressed","time_pressed","performance","now","testCheck","_handleDebugKey","handleDebugKeyLocal","userID","location","state","date","startTime","shuttlePic","shuttleWord","img_fix","img_astrodude1","img_astrodude2","img_astrodude3","img_counter","img_coinSmall","img_coin","img_pathInstruct1","stateHolder","statePic","stateWord","outcomePic","outcomeWord","currentDate","Date","timeString","toTimeString","sectionTime","taskSessionTry","taskSession","instructScreenText","trialNum","trialRT","trialTime","trialKeypress","trialCorLog","trialScore","trialCor","instructScreen","testScreen","debug","bind","testStart","window","addEventListener","target","document","body","preventDefault","curText","whichButton","setState","setTimeout","missionOne","nextMission","whichOutcomePic","numOutcomePic","outcomeVal1","outcomeVal2","outcomeVal3","outcomePos1","outcomePos2","ansOne","ansTwo","ansThree","text","main","counter","centerTwo","coin","corAns","trialSave","condSave","saveString","structNum","stateIndx","pathOne","pathTwo","pathThree","tutForcedPaths","tutSafePathOutcome","tutRiskyPathOutcome1","tutRiskyPathOutcome2","tutSafePathProb","tutRiskyPathProb1","tutRiskyPathProb2","tutOptChoice","tutForceChoice","tutPlanChoice","tutShowPath","tutOutcomeStruct","taskSafePathOutcome","taskRiskyPathOutcome1","taskRiskyPathOutcome2","taskSafePathProb","taskRiskyPathProb1","taskRiskyPathProb2","taskOptChoice","taskForceChoice","taskPlanChoice","taskShowPath","taskOutcomeStruct","console","log","fetch","method","headers","Accept","JSON","stringify","trialPicIndx","trialPicWord","trialPicNum","trialPicValue","trialPicAns","trialNext","missionOneRestart","passMission","removeEventListener","history","pathname","componentDidMount","scrollTo","mounted","componentWillUnmount","callback","render","center","stateSmall","cockpit","astro1","textblock"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,YAAT,QAA6B,UAA7B;AAEA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,OAAP,MAAoB,wBAApB,C,CAEA;AACA;AACA;;;;AACA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AACtB,MAAIC,YAAY,GAAGD,KAAK,CAACE,MAAzB;AAAA,MACEC,cADF;AAAA,MAEEC,WAFF,CADsB,CAKtB;;AACA,SAAO,MAAMH,YAAb,EAA2B;AACzB;AACAG,IAAAA,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBN,YAA3B,CAAd;AACAA,IAAAA,YAAY,IAAI,CAAhB,CAHyB,CAKzB;;AACAE,IAAAA,cAAc,GAAGH,KAAK,CAACC,YAAD,CAAtB;AACAD,IAAAA,KAAK,CAACC,YAAD,CAAL,GAAsBD,KAAK,CAACI,WAAD,CAA3B;AACAJ,IAAAA,KAAK,CAACI,WAAD,CAAL,GAAqBD,cAArB;AACD;;AAED,SAAOH,KAAP;AACD,C,CAED;;;AACA,IAAIQ,OAAO,GACTC,KAAK,CAACD,OAAN,IACA,UAAUE,KAAV,EAAiB;AACf,SAAO,GAAGC,QAAH,CAAYC,IAAZ,CAAiBF,KAAjB,MAA4B,gBAAnC;AACD,CAJH;;AAMA,SAASG,WAAT,GAAuB;AACrB,MAAIC,SAAS,GAAG,CAAhB;AACA,MAAIC,UAAU,GAAGC,SAAS,CAACd,MAA3B;AACA,MAAIe,GAAJ,EAASC,GAAT,EAAcC,SAAd;;AAEA,OAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGL,UAA5B,EAAwCK,KAAK,IAAI,CAAjD,EAAoD;AAClD,QAAI,CAACZ,OAAO,CAACQ,SAAS,CAACI,KAAD,CAAV,CAAZ,EAAgC;AAC9B,YAAM,IAAIC,SAAJ,CAAc,2BAAd,CAAN;AACD;;AAED,QAAID,KAAK,KAAK,CAAd,EAAiB;AACfN,MAAAA,SAAS,GAAGE,SAAS,CAAC,CAAD,CAAT,CAAad,MAAzB;AACD;;AAED,QAAIY,SAAS,KAAKE,SAAS,CAACI,KAAD,CAAT,CAAiBlB,MAAnC,EAA2C;AACzC,YAAM,IAAIoB,UAAJ,CAAe,6BAAf,CAAN;AACD;AACF;;AAED,SAAOR,SAAP,EAAkB;AAChBG,IAAAA,GAAG,GAAGZ,IAAI,CAACkB,KAAL,CAAWlB,IAAI,CAACE,MAAL,KAAgBO,SAA3B,CAAN;AACAA,IAAAA,SAAS,IAAI,CAAb;;AACA,SAAKK,SAAS,GAAG,CAAjB,EAAoBA,SAAS,GAAGJ,UAAhC,EAA4CI,SAAS,IAAI,CAAzD,EAA4D;AAC1DD,MAAAA,GAAG,GAAGF,SAAS,CAACG,SAAD,CAAT,CAAqBL,SAArB,CAAN;AACAE,MAAAA,SAAS,CAACG,SAAD,CAAT,CAAqBL,SAArB,IAAkCE,SAAS,CAACG,SAAD,CAAT,CAAqBF,GAArB,CAAlC;AACAD,MAAAA,SAAS,CAACG,SAAD,CAAT,CAAqBF,GAArB,IAA4BC,GAA5B;AACD;AACF;AACF,C,CAED;;;AACA,SAASM,OAAT,CAAiBC,CAAjB,EAAoBC,CAApB,EAAuB;AACrB,SAAOD,CAAC,CAACE,GAAF,CAAM,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGF,CAAC,CAACG,CAAD,CAArB,CAAP;AACD,C,CAED;;;AACA,SAASC,OAAT,CAAiBC,GAAjB,EAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC9B,MAAIC,GAAG,GAAG,EAAV;;AAEA,SAAOA,GAAG,CAAChC,MAAJ,GAAa6B,GAApB,EAAyB;AACvB,QAAII,IAAI,GAAG9B,IAAI,CAAC+B,IAAL,CAAUJ,GAAV,CAAX;AACA,QAAIK,IAAI,GAAGhC,IAAI,CAACC,KAAL,CAAW2B,GAAX,CAAX;AACA,QAAIK,CAAC,GAAGjC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiB8B,IAAI,GAAGF,IAAP,GAAc,CAA/B,CAAX,IAAgDA,IAAxD;AACAD,IAAAA,GAAG,CAACK,IAAJ,CAASD,CAAT;AACD;;AACD,SAAOJ,GAAP;AACD,C,CAED;;;AAEA,SAASM,QAAT,CAAkBC,IAAlB,EAAwB;AACtB,MAAIC,IAAI,GAAG,EAAX;AACA,MAAIC,IAAI,GAAG,EAAX;;AAEA,OAAK,IAAIvB,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGqB,IAAI,CAACvC,MAAjC,EAAyCkB,KAAK,IAAI,CAAlD,EAAqD;AACnD,QAAIwB,WAAJ;AACA,QAAIC,QAAJ;AAEA,QAAId,GAAG,GAAGU,IAAI,CAACrB,KAAD,CAAd;;AAEA,QAAIW,GAAG,KAAK,CAAZ,EAAe;AACba,MAAAA,WAAW,GAAGvC,IAAI,CAACE,MAAL,MAAiB,GAAjB,GAAuB,CAAvB,GAA2B,CAAzC;;AACA,UAAIqC,WAAW,KAAK,CAApB,EAAuB;AACrBC,QAAAA,QAAQ,GAAG,CAAX;AACD,OAFD,MAEO;AACLA,QAAAA,QAAQ,GAAG,CAAX;AACD;AACF,KAPD,MAOO,IAAId,GAAG,KAAK,CAAZ,EAAe;AACpBa,MAAAA,WAAW,GAAGvC,IAAI,CAACE,MAAL,MAAiB,GAAjB,GAAuB,CAAvB,GAA2B,CAAzC;;AACA,UAAIqC,WAAW,KAAK,CAApB,EAAuB;AACrBC,QAAAA,QAAQ,GAAG,CAAX;AACD,OAFD,MAEO;AACLA,QAAAA,QAAQ,GAAG,CAAX;AACD;AACF,KAPM,MAOA,IAAId,GAAG,KAAK,CAAZ,EAAe;AACpBa,MAAAA,WAAW,GAAGvC,IAAI,CAACE,MAAL,MAAiB,GAAjB,GAAuB,CAAvB,GAA2B,CAAzC;;AACA,UAAIqC,WAAW,KAAK,CAApB,EAAuB;AACrBC,QAAAA,QAAQ,GAAG,CAAX;AACD,OAFD,MAEO;AACLA,QAAAA,QAAQ,GAAG,CAAX;AACD;AACF;;AACDH,IAAAA,IAAI,CAACtB,KAAD,CAAJ,GAAcwB,WAAd;AACAD,IAAAA,IAAI,CAACvB,KAAD,CAAJ,GAAcyB,QAAd;AACD;;AAED,SAAO,CAACH,IAAD,EAAOC,IAAP,CAAP;AACD,C,CAED;;;AACA,SAASG,QAAT,CAAkBL,IAAlB,EAAwBM,KAAxB,EAA+B;AAC7B,MAAIb,GAAG,GAAG,EAAV;;AACA,OAAK,IAAId,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGqB,IAAI,CAACvC,MAAjC,EAAyCkB,KAAK,IAAI,CAAlD,EAAqD;AACnD,QAAI4B,MAAJ;;AAEA,QAAIP,IAAI,CAACrB,KAAD,CAAJ,KAAgB,CAApB,EAAuB;AACrB4B,MAAAA,MAAM,GAAG,IAAID,KAAK,CAAC3B,KAAD,CAAlB;AACD,KAFD,MAEO;AACL4B,MAAAA,MAAM,GAAGP,IAAI,CAACrB,KAAD,CAAJ,GAAc,CAAC,CAAxB;AACD;;AAEDc,IAAAA,GAAG,CAACd,KAAD,CAAH,GAAa4B,MAAb;AACD;;AACD,SAAOd,GAAP;AACD,C,CAED;;;AACA,SAASe,QAAT,CAAkBR,IAAlB,EAAwBM,KAAxB,EAA+B;AAC7B,MAAIb,GAAG,GAAG,EAAV;;AACA,OAAK,IAAId,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGqB,IAAI,CAACvC,MAAjC,EAAyCkB,KAAK,IAAI,CAAlD,EAAqD;AACnD,QAAI4B,MAAJ;;AAEA,QAAIP,IAAI,CAACrB,KAAD,CAAJ,KAAgB,CAApB,EAAuB;AACrB4B,MAAAA,MAAM,GAAG,CAAC,CAAD,GAAKD,KAAK,CAAC3B,KAAD,CAAnB;AACD,KAFD,MAEO;AACL4B,MAAAA,MAAM,GAAG,CAAT;AACD;;AAEDd,IAAAA,GAAG,CAACd,KAAD,CAAH,GAAa4B,MAAb;AACD;;AACD,SAAOd,GAAP;AACD,C,CAED;AACA;;;AAEA,IAAIgB,UAAU,GAAG,CAAjB;AAEA,IAAIC,UAAU,GAAG,CAAC,CAAD,EAAI,CAAC,CAAL,EAAQ,CAAR,CAAjB;AACA,IAAIC,WAAW,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAlB,C,CAEA;AACA;AAEA;;AACA,IAAIC,cAAc,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,CAArB;AACA,IAAIC,cAAc,GAAGF,WAAW,CAACG,MAAZ,CAAmBH,WAAW,CAACG,MAAZ,CAAmBH,WAAnB,CAAnB,CAArB,C,CAA0E;;AAC1E,IAAII,gBAAgB,GAAGL,UAAU,CAACI,MAAX,CAAkBJ,UAAU,CAACI,MAAX,CAAkBJ,UAAlB,CAAlB,CAAvB,C,CAAyE;;AAEzEpD,OAAO,CAACsD,cAAD,CAAP;AACAxC,WAAW,CAACyC,cAAD,EAAiBE,gBAAjB,CAAX;AAEAF,cAAc,GAAGA,cAAc,CAACG,MAAf,CAAsB,UAAUC,GAAV,EAAe;AACpD,SAAOA,GAAG,KAAKC,SAAf;AACD,CAFgB,CAAjB;AAGAH,gBAAgB,GAAGA,gBAAgB,CAACC,MAAjB,CAAwB,UAAUC,GAAV,EAAe;AACxD,SAAOA,GAAG,KAAKC,SAAf;AACD,CAFkB,CAAnB,C,CAIA;;AACA,IAAIC,aAAa,GAAGpC,OAAO,CAACgC,gBAAD,EAAmBH,cAAnB,CAA3B,C,CAA+D;;AAC/D,IAAIQ,iBAAiB,GAAGf,QAAQ,CAACc,aAAD,EAAgBP,cAAhB,CAAhC,C,CAAiE;;AACjE,IAAIS,iBAAiB,GAAGb,QAAQ,CAACW,aAAD,EAAgBP,cAAhB,CAAhC,C,CAAiE;;AAEjE,IAAIU,aAAa,GAAGjC,OAAO,CAACoB,UAAD,EAAa,CAAb,EAAgB,CAAhB,CAA3B,C,CAA+C;;AAC/C,IAAIc,gBAAgB,GAAGxB,QAAQ,CAACuB,aAAD,CAA/B,C,CAAgD;;AAChD,IAAIE,iBAAiB,GAAGD,gBAAgB,CAAC,CAAD,CAAxC,C,CACA;AAEA;AACA;AACA;;AACA,MAAME,aAAN,SAA4BxE,KAAK,CAACyE,SAAlC,CAA4C;AAC1CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAoInBC,kBApImB,GAoIGC,KAAD,IAAW;AAC9B,UAAIC,WAAJ;;AAEA,cAAQD,KAAK,CAACE,OAAd;AACE,aAAK,EAAL;AACE;AACAD,UAAAA,WAAW,GAAG,CAAd;AACA,eAAKE,mBAAL,CAAyBF,WAAzB;AACA;;AACF,aAAK,EAAL;AACE;AACAA,UAAAA,WAAW,GAAG,CAAd;AACA,eAAKE,mBAAL,CAAyBF,WAAzB;AACA;;AACF,aAAK,EAAL;AACE;AACAA,UAAAA,WAAW,GAAG,EAAd;AACA,eAAKE,mBAAL,CAAyBF,WAAzB;AACA;;AACF;AAhBF;AAkBD,KAzJkB;;AAAA,SA2JnBG,cA3JmB,GA2JDJ,KAAD,IAAW;AAC1B,UAAIK,OAAJ;AACA,UAAIC,YAAJ;;AAEA,cAAQN,KAAK,CAACE,OAAd;AACE,aAAK,EAAL;AACEG,UAAAA,OAAO,GAAG,CAAV;AACAC,UAAAA,YAAY,GAAGxE,IAAI,CAACkB,KAAL,CAAWuD,WAAW,CAACC,GAAZ,EAAX,CAAf;AACA,eAAKC,SAAL,CAAeJ,OAAf,EAAwBC,YAAxB;AACA;;AACF,aAAK,EAAL;AACED,UAAAA,OAAO,GAAG,CAAV;AACAC,UAAAA,YAAY,GAAGxE,IAAI,CAACkB,KAAL,CAAWuD,WAAW,CAACC,GAAZ,EAAX,CAAf;AACA,eAAKC,SAAL,CAAeJ,OAAf,EAAwBC,YAAxB;AACA;;AACF,aAAK,EAAL;AACED,UAAAA,OAAO,GAAG,CAAV;AACAC,UAAAA,YAAY,GAAGxE,IAAI,CAACkB,KAAL,CAAWuD,WAAW,CAACC,GAAZ,EAAX,CAAf;AACA,eAAKC,SAAL,CAAeJ,OAAf,EAAwBC,YAAxB;AACA;AACF;;AACA,aAAK,EAAL;AACED,UAAAA,OAAO,GAAG,CAAV;AACAC,UAAAA,YAAY,GAAGxE,IAAI,CAACkB,KAAL,CAAWuD,WAAW,CAACC,GAAZ,EAAX,CAAf;AACA,eAAKC,SAAL,CAAeJ,OAAf,EAAwBC,YAAxB;AACA;;AACF,aAAK,EAAL;AACED,UAAAA,OAAO,GAAG,CAAV;AACAC,UAAAA,YAAY,GAAGxE,IAAI,CAACkB,KAAL,CAAWuD,WAAW,CAACC,GAAZ,EAAX,CAAf;AACA,eAAKC,SAAL,CAAeJ,OAAf,EAAwBC,YAAxB;AACA;;AACF,aAAK,EAAL;AACED,UAAAA,OAAO,GAAG,CAAV;AACAC,UAAAA,YAAY,GAAGxE,IAAI,CAACkB,KAAL,CAAWuD,WAAW,CAACC,GAAZ,EAAX,CAAf;AACA,eAAKC,SAAL,CAAeJ,OAAf,EAAwBC,YAAxB;AACA;;AACF;AAhCF;AAkCD,KAjMkB;;AAAA,SAgNnBI,eAhNmB,GAgNAV,KAAD,IAAW;AAC3B,UAAIK,OAAJ;;AAEA,cAAQL,KAAK,CAACE,OAAd;AACE,aAAK,EAAL;AACE;AACAG,UAAAA,OAAO,GAAG,EAAV;AACA,eAAKM,mBAAL,CAAyBN,OAAzB;AACA;;AACF;AANF;AAQD,KA3NkB;;AAGjB,UAAMO,MAAM,GAAG,KAAKd,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0BF,MAAzC;AACA,UAAMG,IAAI,GAAG,KAAKjB,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0BC,IAAvC;AACA,UAAMC,SAAS,GAAG,KAAKlB,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0BE,SAA5C;AAEA,UAAMC,UAAU,GAAG,KAAKnB,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0BG,UAA7C;AACA,UAAMC,WAAW,GAAG,KAAKpB,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0BI,WAA9C;AACA,UAAMC,OAAO,GAAG,KAAKrB,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0BK,OAA1C;AACA,UAAMC,cAAc,GAAG,KAAKtB,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0BM,cAAjD;AACA,UAAMC,cAAc,GAAG,KAAKvB,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0BO,cAAjD;AACA,UAAMC,cAAc,GAAG,KAAKxB,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0BQ,cAAjD;AACA,UAAMC,WAAW,GAAG,KAAKzB,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0BS,WAA9C;AACA,UAAMC,aAAa,GAAG,KAAK1B,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0BU,aAAhD;AACA,UAAMC,QAAQ,GAAG,KAAK3B,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0BW,QAA3C;AACA,UAAMC,iBAAiB,GAAG,KAAK5B,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0BY,iBAApD;AACA,UAAMC,WAAW,GAAG,KAAK7B,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0Ba,WAA9C;AAEA,UAAMC,QAAQ,GAAG,KAAK9B,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0Bc,QAA3C;AACA,UAAMC,SAAS,GAAG,KAAK/B,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0Be,SAA5C;AACA,UAAMC,UAAU,GAAG,KAAKhC,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0BgB,UAA7C;AACA,UAAMC,WAAW,GAAG,KAAKjC,KAAL,CAAWe,QAAX,CAAoBC,KAApB,CAA0BiB,WAA9C;AAEA,QAAIC,WAAW,GAAG,IAAIC,IAAJ,EAAlB,CAxBiB,CAwBa;;AAC9B,QAAIC,UAAU,GAAGF,WAAW,CAACG,YAAZ,EAAjB,CAzBiB,CA2BjB;AACA;;AACA,SAAKrB,KAAL,GAAa;AACXF,MAAAA,MAAM,EAAEA,MADG;AAEXG,MAAAA,IAAI,EAAEA,IAFK;AAGXC,MAAAA,SAAS,EAAEA,SAHA;AAIXoB,MAAAA,WAAW,EAAEF,UAJF;AAKXG,MAAAA,cAAc,EAAE,CALL;AAMXC,MAAAA,WAAW,EAAE,eANF;AAOXC,MAAAA,kBAAkB,EAAE,CAPT;AASXtB,MAAAA,UAAU,EAAEA,UATD;AAUXC,MAAAA,WAAW,EAAEA,WAVF;AAWXC,MAAAA,OAAO,EAAEA,OAXE;AAYXC,MAAAA,cAAc,EAAEA,cAZL;AAaXC,MAAAA,cAAc,EAAEA,cAbL;AAcXC,MAAAA,cAAc,EAAEA,cAdL;AAeXC,MAAAA,WAAW,EAAEA,WAfF;AAgBXC,MAAAA,aAAa,EAAEA,aAhBJ;AAiBXC,MAAAA,QAAQ,EAAEA,QAjBC;AAkBXC,MAAAA,iBAAiB,EAAEA,iBAlBR;AAmBXC,MAAAA,WAAW,EAAEA,WAnBF;AAoBXC,MAAAA,QAAQ,EAAEA,QApBC;AAqBXC,MAAAA,SAAS,EAAEA,SArBA;AAsBXC,MAAAA,UAAU,EAAEA,UAtBD;AAuBXC,MAAAA,WAAW,EAAEA,WAvBF;AAyBXnD,MAAAA,UAAU,EAAEA,UAzBD;AAyBa;AACxBC,MAAAA,WAAW,EAAEA,WA1BF;AA4BXE,MAAAA,cAAc,EAAEA,cA5BL;AA6BXD,MAAAA,cAAc,EAAEA,cA7BL;AA8BXG,MAAAA,gBAAgB,EAAEA,gBA9BP;AA+BXI,MAAAA,aAAa,EAAEA,aA/BJ;AAgCXC,MAAAA,iBAAiB,EAAEA,iBAhCR;AAiCXC,MAAAA,iBAAiB,EAAEA,iBAjCR;AAmCXC,MAAAA,aAAa,EAAEA,aAnCJ;AAoCXE,MAAAA,iBAAiB,EAAEA,iBApCR;AAqCX;AAEA8C,MAAAA,QAAQ,EAAE,CAvCC;AAwCX7D,MAAAA,UAAU,EAAEA,UAxCD;AAyCX8D,MAAAA,OAAO,EAAE,CAzCE;AA0CXC,MAAAA,SAAS,EAAE,CA1CA;AA2CXC,MAAAA,aAAa,EAAE,CA3CJ;AA4CXC,MAAAA,WAAW,EAAE,EA5CF;AA6CXC,MAAAA,UAAU,EAAE,CA7CD;AA8CXC,MAAAA,QAAQ,EAAE,IA9CC;AAgDXC,MAAAA,cAAc,EAAE,IAhDL;AAiDXC,MAAAA,UAAU,EAAE,KAjDD;AAmDXC,MAAAA,KAAK,EAAE,KAnDI,CAmDG;;AAnDH,KAAb;AAsDA,SAAK9C,mBAAL,GAA2B,KAAKA,mBAAL,CAAyB+C,IAAzB,CAA8B,IAA9B,CAA3B;AACA,SAAKvC,mBAAL,GAA2B,KAAKA,mBAAL,CAAyBuC,IAAzB,CAA8B,IAA9B,CAA3B;AACA,SAAKzC,SAAL,GAAiB,KAAKA,SAAL,CAAeyC,IAAf,CAAoB,IAApB,CAAjB;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AAEA;;AACAE,IAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,UAAUhG,CAAV,EAAa;AAC9C,UAAIA,CAAC,CAAC6C,OAAF,KAAc,EAAd,IAAoB7C,CAAC,CAACiG,MAAF,KAAaC,QAAQ,CAACC,IAA9C,EAAoD;AAClDnG,QAAAA,CAAC,CAACoG,cAAF;AACD;AACF,KAJD;AAKD,GA/FyC,CAgG1C;AACA;AAEA;;;AACAtD,EAAAA,mBAAmB,CAACF,WAAD,EAAc;AAC/B,QAAIyD,OAAO,GAAG,KAAK5C,KAAL,CAAWyB,kBAAzB;AACA,QAAIoB,WAAW,GAAG1D,WAAlB;;AAEA,QAAI0D,WAAW,KAAK,CAAhB,IAAqBD,OAAO,GAAG,CAAnC,EAAsC;AACpC,WAAKE,QAAL,CAAc;AAAErB,QAAAA,kBAAkB,EAAEmB,OAAO,GAAG;AAAhC,OAAd;AACD,KAFD,MAEO,IAAIC,WAAW,KAAK,CAAhB,IAAqBD,OAAO,GAAG,CAAnC,EAAsC;AAC3C,WAAKE,QAAL,CAAc;AAAErB,QAAAA,kBAAkB,EAAEmB,OAAO,GAAG;AAAhC,OAAd;AACD,KAFM,MAEA,IAAIA,OAAO,KAAK,CAAZ,IAAiBC,WAAW,KAAK,EAArC,EAAyC;AAC9C;AACAE,MAAAA,UAAU,CACR,YAAY;AACV,aAAKC,UAAL;AACD,OAFD,CAEEZ,IAFF,CAEO,IAFP,CADQ,EAIR,CAJQ,CAAV;AAMD,KARM,MAQA,IAAIQ,OAAO,KAAK,CAAZ,IAAiBC,WAAW,KAAK,EAArC,EAAyC;AAC9C;AACA,WAAKC,QAAL,CAAc;AACZrB,QAAAA,kBAAkB,EAAE;AADR,OAAd;AAGD,KALM,MAKA,IAAImB,OAAO,KAAK,CAAZ,IAAiBC,WAAW,KAAK,EAArC,EAAyC;AAC9C;AACAE,MAAAA,UAAU,CACR,YAAY;AACV,aAAKE,WAAL;AACD,OAFD,CAEEb,IAFF,CAEO,IAFP,CADQ,EAIR,CAJQ,CAAV;AAMD;AACF,GAlIyC,CAoI1C;;;AAgEAvC,EAAAA,mBAAmB,CAACN,OAAD,EAAU;AAC3B,QAAIsD,WAAW,GAAGtD,OAAlB;;AAEA,QAAIsD,WAAW,KAAK,EAApB,EAAwB;AACtBE,MAAAA,UAAU,CACR,YAAY;AACV,aAAKE,WAAL;AACD,OAFD,CAEEb,IAFF,CAEO,IAFP,CADQ,EAIR,CAJQ,CAAV;AAMD;AACF;;AAcD;AACA;AAEAY,EAAAA,UAAU,GAAG;AACX,QAAIpB,SAAS,GAAG5G,IAAI,CAACkB,KAAL,CAAWuD,WAAW,CAACC,GAAZ,EAAX,CAAhB;AACA,SAAKoD,QAAL,CAAc;AACZb,MAAAA,cAAc,EAAE,KADJ;AAEZC,MAAAA,UAAU,EAAE,IAFA;AAGZR,MAAAA,QAAQ,EAAE,CAHE;AAIZE,MAAAA,SAAS,EAAEA,SAJC;AAKZD,MAAAA,OAAO,EAAE,CALG;AAMZE,MAAAA,aAAa,EAAE,CANH;AAOZC,MAAAA,WAAW,EAAE,EAPD;AAQZC,MAAAA,UAAU,EAAE;AARA,KAAd;AAUD;;AAEDM,EAAAA,SAAS,CAACX,QAAD,EAAW;AAClB;AAEA,QAAIwB,eAAe,GAAG,KAAKlD,KAAL,CAAW/B,cAAX,CAA0ByD,QAAQ,GAAG,CAArC,CAAtB,CAHkB,CAKlB;;AACA,QAAIyB,aAAa,GAAG,KAAKnD,KAAL,CAAWhC,cAAX,CAA0B0D,QAAQ,GAAG,CAArC,CAApB,CANkB,CAQlB;;AACA,QAAI0B,WAAW,GAAG,KAAKpD,KAAL,CAAWzB,aAAX,CAAyBmD,QAAQ,GAAG,CAApC,CAAlB;AACA,QAAI2B,WAAW,GAAG,KAAKrD,KAAL,CAAWxB,iBAAX,CAA6BkD,QAAQ,GAAG,CAAxC,CAAlB;AACA,QAAI4B,WAAW,GAAG,KAAKtD,KAAL,CAAWvB,iBAAX,CAA6BiD,QAAQ,GAAG,CAAxC,CAAlB,CAXkB,CAalB;;AACA,QAAI6B,WAAW,GAAG,KAAKvD,KAAL,CAAWtB,aAAX,CAAyBgD,QAAQ,GAAG,CAApC,CAAlB;AACA,QAAI8B,WAAW,GAAG,KAAKxD,KAAL,CAAWpB,iBAAX,CAA6B8C,QAAQ,GAAG,CAAxC,CAAlB,CAfkB,CAgBlB;;AAEA,QAAI+B,MAAJ;AACA,QAAIC,MAAJ;AACA,QAAIC,QAAJ,CApBkB,CAsBlB;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAIJ,WAAW,KAAK,CAApB,EAAuB;AACrBE,MAAAA,MAAM,GAAGL,WAAT;AACD,KAFD,MAEO;AACL,UAAII,WAAW,KAAK,CAApB,EAAuB;AACrBC,QAAAA,MAAM,GAAGJ,WAAT;AACD,OAFD,MAEO;AACLI,QAAAA,MAAM,GAAGH,WAAT;AACD;AACF;;AAED,QAAIC,WAAW,KAAK,CAApB,EAAuB;AACrBG,MAAAA,MAAM,GAAGN,WAAT;AACD,KAFD,MAEO;AACL,UAAII,WAAW,KAAK,CAApB,EAAuB;AACrBE,QAAAA,MAAM,GAAGL,WAAT;AACD,OAFD,MAEO;AACLK,QAAAA,MAAM,GAAGJ,WAAT;AACD;AACF;;AAED,QAAIC,WAAW,KAAK,CAApB,EAAuB;AACrBI,MAAAA,QAAQ,GAAGP,WAAX;AACD,KAFD,MAEO;AACL,UAAII,WAAW,KAAK,CAApB,EAAuB;AACrBG,QAAAA,QAAQ,GAAGN,WAAX;AACD,OAFD,MAEO;AACLM,QAAAA,QAAQ,GAAGL,WAAX;AACD;AACF,KAzDiB,CA2DlB;AACA;AACA;;;AAEA,QAAIM,IAAI,gBACN;AAAK,MAAA,SAAS,EAAEpJ,MAAM,CAACqJ,IAAvB;AAAA,8BACE;AAAK,QAAA,SAAS,EAAErJ,MAAM,CAACsJ,OAAvB;AAAA,gCACE;AACE,UAAA,SAAS,EAAEtJ,MAAM,CAACsJ,OADpB;AAEE,UAAA,GAAG,EAAE,KAAK9D,KAAL,CAAWS,WAFlB;AAGE,UAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,gBADF,EAMG,KAAKT,KAAL,CAAW0B,QANd,OAMyB,KAAK1B,KAAL,CAAWnC,UANpC;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eASE;AAAA,gCACE;AAAM,UAAA,SAAS,EAAErD,MAAM,CAACuJ,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AAAM,UAAA,SAAS,EAAEvJ,MAAM,CAACuJ,SAAxB;AAAA,qBACGZ,aADH,kCAEE;AACE,YAAA,SAAS,EAAE3I,MAAM,CAACwF,KADpB;AAEE,YAAA,GAAG,EAAE,KAAKA,KAAL,CAAWgB,UAAX,CAAsBkC,eAAtB,CAFP;AAGE,YAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eAaE;AAAM,UAAA,SAAS,EAAE1I,MAAM,CAACuJ,SAAxB;AAAA,uCACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADH,SACyBN,MADzB,EACiC,GADjC,eAEE;AACE,YAAA,SAAS,EAAEjJ,MAAM,CAACwJ,IADpB;AAEE,YAAA,GAAG,EAAE,KAAKhE,KAAL,CAAWU,aAFlB;AAGE,YAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,kBAFF,eAOE;AAAA;AAAA;AAAA;AAAA,kBAPF,oBAOS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPT,SAO+BgD,MAP/B,EAOuC,GAPvC,eAQE;AACE,YAAA,SAAS,EAAElJ,MAAM,CAACwJ,IADpB;AAEE,YAAA,GAAG,EAAE,KAAKhE,KAAL,CAAWU,aAFlB;AAGE,YAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,kBARF,eAaE;AAAA;AAAA;AAAA;AAAA,kBAbF,oBAaS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbT,SAa+BiD,QAb/B,EAayC,GAbzC,eAcE;AACE,YAAA,SAAS,EAAEnJ,MAAM,CAACwJ,IADpB;AAEE,YAAA,GAAG,EAAE,KAAKhE,KAAL,CAAWU,aAFlB;AAGE,YAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,kBAdF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbF,eAiCE;AAAM,UAAA,SAAS,EAAElG,MAAM,CAACuJ,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjCF;AAAA;AAAA;AAAA;AAAA;AAAA,cATF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;;AAiDA,wBAAO;AAAA,gBAAMH;AAAN;AAAA;AAAA;AAAA;AAAA,YAAP;AACD,GA/VyC,CAiW1C;;;AACAjE,EAAAA,SAAS,CAACJ,OAAD,EAAUC,YAAV,EAAwB;AAC/B,QAAIkC,QAAQ,GAAG,KAAK1B,KAAL,CAAW0B,QAA1B,CAD+B,CACK;;AACpC,QAAIC,OAAO,GAAGnC,YAAY,GAAG,KAAKQ,KAAL,CAAW4B,SAAxC;AACA,QAAIqC,MAAM,GAAG,KAAKjE,KAAL,CAAWtB,aAAX,CAAyBgD,QAAQ,GAAG,CAApC,CAAb;AACA,QAAII,WAAW,GAAG,KAAK9B,KAAL,CAAW8B,WAA7B,CAJ+B,CAIW;;AAC1C,QAAIC,UAAU,GAAG,KAAK/B,KAAL,CAAW+B,UAA5B,CAL+B,CAKS;;AACxC,QAAIC,QAAQ,GAAG,KAAKhC,KAAL,CAAWgC,QAA1B;;AAEA,QAAIzC,OAAO,KAAK0E,MAAhB,EAAwB;AACtBjC,MAAAA,QAAQ,GAAG,CAAX;AACAF,MAAAA,WAAW,CAACJ,QAAQ,GAAG,CAAZ,CAAX,GAA4B,CAA5B;AACAK,MAAAA,UAAU,GAAGA,UAAU,GAAG,CAA1B;AACD,KAJD,MAIO;AACLC,MAAAA,QAAQ,GAAG,CAAX;AACAF,MAAAA,WAAW,CAACJ,QAAQ,GAAG,CAAZ,CAAX,GAA4B,CAA5B;AACD;;AAED,SAAKoB,QAAL,CAAc;AACZjB,MAAAA,aAAa,EAAEtC,OADH;AAEZoC,MAAAA,OAAO,EAAEA,OAFG;AAGZK,MAAAA,QAAQ,EAAEA,QAHE;AAIZF,MAAAA,WAAW,EAAEA,WAJD;AAKZC,MAAAA,UAAU,EAAEA;AALA,KAAd;AAQAgB,IAAAA,UAAU,CACR,YAAY;AACV,WAAKmB,SAAL;AACD,KAFD,CAEE9B,IAFF,CAEO,IAFP,CADQ,EAIR,CAJQ,CAAV;AAMD;;AAED+B,EAAAA,QAAQ,GAAG;AACT,QAAIrE,MAAM,GAAG,KAAKE,KAAL,CAAWF,MAAxB;AACA,QAAIoB,WAAW,GAAG,IAAIC,IAAJ,EAAlB,CAFS,CAEqB;;AAC9B,QAAIG,WAAW,GAAGJ,WAAW,CAACG,YAAZ,EAAlB;AACA,QAAIO,SAAS,GAAG5G,IAAI,CAACkB,KAAL,CAAWuD,WAAW,CAACC,GAAZ,EAAX,CAAhB;AAEA,QAAI0E,UAAU,GAAG;AACftE,MAAAA,MAAM,EAAE,KAAKE,KAAL,CAAWF,MADJ;AAEfG,MAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,IAFF;AAGfC,MAAAA,SAAS,EAAE,KAAKF,KAAL,CAAWE,SAHP;AAGkB;AACjCoB,MAAAA,WAAW,EAAEA,WAJE;AAIW;AAC1BM,MAAAA,SAAS,EAAEA,SALI;AAMfJ,MAAAA,WAAW,EAAE,KAAKxB,KAAL,CAAWwB,WANT;AAOfD,MAAAA,cAAc,EAAE,KAAKvB,KAAL,CAAWuB,cAPZ;AAQf8C,MAAAA,SAAS,EAAE,IARI;AAUfpD,MAAAA,WAAW,EAAE,KAAKjB,KAAL,CAAWiB,WAVT;AAWfnD,MAAAA,UAAU,EAAE,KAAKkC,KAAL,CAAWlC,UAXR;AAYfC,MAAAA,WAAW,EAAE,KAAKiC,KAAL,CAAWjC,WAZT;AAafgD,MAAAA,SAAS,EAAE,IAbI;AAcfuD,MAAAA,SAAS,EAAE,IAdI;AAefC,MAAAA,OAAO,EAAE,IAfM;AAgBfC,MAAAA,OAAO,EAAE,IAhBM;AAiBfC,MAAAA,SAAS,EAAE,IAjBI;AAmBfC,MAAAA,cAAc,EAAE,IAnBD;AAoBfC,MAAAA,kBAAkB,EAAE,IApBL;AAqBfC,MAAAA,oBAAoB,EAAE,IArBP;AAsBfC,MAAAA,oBAAoB,EAAE,IAtBP;AAuBfC,MAAAA,eAAe,EAAE,IAvBF;AAwBfC,MAAAA,iBAAiB,EAAE,IAxBJ;AAyBfC,MAAAA,iBAAiB,EAAE,IAzBJ;AA0BfC,MAAAA,YAAY,EAAE,IA1BC;AA2BfC,MAAAA,cAAc,EAAE,IA3BD;AA4BfC,MAAAA,aAAa,EAAE,IA5BA;AA6BfC,MAAAA,WAAW,EAAE,IA7BE;AA8BfC,MAAAA,gBAAgB,EAAE,IA9BH;AAgCfC,MAAAA,mBAAmB,EAAE,IAhCN;AAiCfC,MAAAA,qBAAqB,EAAE,IAjCR;AAkCfC,MAAAA,qBAAqB,EAAE,IAlCR;AAmCfC,MAAAA,gBAAgB,EAAE,IAnCH;AAoCfC,MAAAA,kBAAkB,EAAE,IApCL;AAqCfC,MAAAA,kBAAkB,EAAE,IArCL;AAsCfC,MAAAA,aAAa,EAAE,IAtCA;AAuCfC,MAAAA,eAAe,EAAE,IAvCF;AAwCfC,MAAAA,cAAc,EAAE,IAxCD;AAyCfC,MAAAA,YAAY,EAAE,IAzCC;AA0CfC,MAAAA,iBAAiB,EAAE;AA1CJ,KAAjB;AA6CAC,IAAAA,OAAO,CAACC,GAAR,CAAY9B,UAAZ;;AAEA,QAAI;AACF+B,MAAAA,KAAK,CAAE,GAAE5L,YAAa,aAAhB,GAA+BuF,MAAhC,EAAwC;AAC3CsG,QAAAA,MAAM,EAAE,MADmC;AAE3CC,QAAAA,OAAO,EAAE;AACPC,UAAAA,MAAM,EAAE,kBADD;AAEP,0BAAgB;AAFT,SAFkC;AAM3C5D,QAAAA,IAAI,EAAE6D,IAAI,CAACC,SAAL,CAAepC,UAAf;AANqC,OAAxC,CAAL;AAQD,KATD,CASE,OAAO7H,CAAP,EAAU;AACV0J,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD;AACF;;AAEDhC,EAAAA,SAAS,GAAG;AACV,QAAIpE,MAAM,GAAG,KAAKE,KAAL,CAAWF,MAAxB;AACA,QAAI2G,YAAY,GAAG,KAAKzG,KAAL,CAAW/B,cAAX,CAA0B,KAAK+B,KAAL,CAAW0B,QAAX,GAAsB,CAAhD,CAAnB;AACA,QAAIgF,YAAY,GAAG,KAAK1G,KAAL,CAAWiB,WAAX,CAAuBwF,YAAvB,CAAnB;AAEA,QAAIrC,UAAU,GAAG;AACftE,MAAAA,MAAM,EAAE,KAAKE,KAAL,CAAWF,MADJ;AAEfG,MAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,IAFF;AAGfC,MAAAA,SAAS,EAAE,KAAKF,KAAL,CAAWE,SAHP;AAGkB;AACjCoB,MAAAA,WAAW,EAAE,KAAKtB,KAAL,CAAWsB,WAJT;AAIsB;AACrCE,MAAAA,WAAW,EAAE,KAAKxB,KAAL,CAAWwB,WALT;AAMfD,MAAAA,cAAc,EAAE,KAAKvB,KAAL,CAAWuB,cANZ;AAOfK,MAAAA,SAAS,EAAE,KAAK5B,KAAL,CAAW4B,SAPP;AAQfF,MAAAA,QAAQ,EAAE,KAAK1B,KAAL,CAAW0B,QARN;AASf+E,MAAAA,YAAY,EAAEA,YATC;AAUfC,MAAAA,YAAY,EAAEA,YAVC;AAWfC,MAAAA,WAAW,EAAE,KAAK3G,KAAL,CAAWhC,cAAX,CAA0B,KAAKgC,KAAL,CAAW0B,QAAX,GAAsB,CAAhD,CAXE;AAYfkF,MAAAA,aAAa,EAAE,KAAK5G,KAAL,CAAWzB,aAAX,CAAyB,KAAKyB,KAAL,CAAW0B,QAAX,GAAsB,CAA/C,CAZA;AAafmF,MAAAA,WAAW,EAAE,KAAK7G,KAAL,CAAWtB,aAAX,CAAyB,KAAKsB,KAAL,CAAW0B,QAAX,GAAsB,CAA/C,CAbE;AAcfC,MAAAA,OAAO,EAAE,KAAK3B,KAAL,CAAW2B,OAdL;AAefE,MAAAA,aAAa,EAAE,KAAK7B,KAAL,CAAW6B,aAfX;AAgBfG,MAAAA,QAAQ,EAAE,KAAKhC,KAAL,CAAWgC,QAhBN;AAiBfD,MAAAA,UAAU,EAAE,KAAK/B,KAAL,CAAW+B;AAjBR,KAAjB;;AAoBA,QAAI;AACFoE,MAAAA,KAAK,CAAE,GAAE5L,YAAa,gBAAhB,GAAkCuF,MAAnC,EAA2C;AAC9CsG,QAAAA,MAAM,EAAE,MADsC;AAE9CC,QAAAA,OAAO,EAAE;AACPC,UAAAA,MAAM,EAAE,kBADD;AAEP,0BAAgB;AAFT,SAFqC;AAM9C5D,QAAAA,IAAI,EAAE6D,IAAI,CAACC,SAAL,CAAepC,UAAf;AANwC,OAA3C,CAAL;AAQD,KATD,CASE,OAAO7H,CAAP,EAAU;AACV0J,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD,KApCS,CAsCV;;;AACAnD,IAAAA,UAAU,CACR,YAAY;AACV,WAAK+D,SAAL;AACD,KAFD,CAEE1E,IAFF,CAEO,IAFP,CADQ,EAIR,EAJQ,CAAV;AAMD;;AAED0E,EAAAA,SAAS,GAAG;AACV,QAAIpF,QAAQ,GAAG,KAAK1B,KAAL,CAAW0B,QAAX,GAAsB,CAArC;AACA,QAAIE,SAAS,GAAG5G,IAAI,CAACkB,KAAL,CAAWuD,WAAW,CAACC,GAAZ,EAAX,CAAhB;AAEA,SAAKoD,QAAL,CAAc;AACZlB,MAAAA,SAAS,EAAEA,SADC;AAEZF,MAAAA,QAAQ,EAAEA,QAFE;AAGZG,MAAAA,aAAa,EAAE,CAHH;AAIZG,MAAAA,QAAQ,EAAE;AAJE,KAAd;AAMD;;AAED+E,EAAAA,iBAAiB,GAAG;AAClB;AACA,QAAIxF,cAAc,GAAG,KAAKvB,KAAL,CAAWuB,cAAX,GAA4B,CAAjD;AAEA,QAAIvD,cAAc,GAAG,KAAKgC,KAAL,CAAWhC,cAAhC;AACA,QAAIC,cAAc,GAAG,KAAK+B,KAAL,CAAW/B,cAAhC;AACA,QAAIE,gBAAgB,GAAG,KAAK6B,KAAL,CAAW7B,gBAAlC;AAEAzD,IAAAA,OAAO,CAACsD,cAAD,CAAP;AACAxC,IAAAA,WAAW,CAACyC,cAAD,EAAiBE,gBAAjB,CAAX;AAEAF,IAAAA,cAAc,GAAGA,cAAc,CAACG,MAAf,CAAsB,UAAUC,GAAV,EAAe;AACpD,aAAOA,GAAG,KAAKC,SAAf;AACD,KAFgB,CAAjB;AAGAH,IAAAA,gBAAgB,GAAGA,gBAAgB,CAACC,MAAjB,CAAwB,UAAUC,GAAV,EAAe;AACxD,aAAOA,GAAG,KAAKC,SAAf;AACD,KAFkB,CAAnB,CAdkB,CAkBlB;;AACA,QAAIC,aAAa,GAAGpC,OAAO,CAACgC,gBAAD,EAAmBH,cAAnB,CAA3B,CAnBkB,CAmB6C;;AAC/D,QAAIQ,iBAAiB,GAAGf,QAAQ,CAACc,aAAD,EAAgBP,cAAhB,CAAhC,CApBkB,CAoB+C;;AACjE,QAAIS,iBAAiB,GAAGb,QAAQ,CAACW,aAAD,EAAgBP,cAAhB,CAAhC,CArBkB,CAqB+C;;AAEjE,QAAIU,aAAa,GAAGjC,OAAO,CAAC,KAAKuD,KAAL,CAAWnC,UAAZ,EAAwB,CAAxB,EAA2B,CAA3B,CAA3B,CAvBkB,CAuBwC;;AAC1D,QAAIc,gBAAgB,GAAGxB,QAAQ,CAACuB,aAAD,CAA/B,CAxBkB,CAwB8B;;AAChD,QAAIE,iBAAiB,GAAGD,gBAAgB,CAAC,CAAD,CAAxC,CAzBkB,CA0BlB;AAEA;AACA;;AAEA,SAAKmE,QAAL,CAAc;AACZvB,MAAAA,cAAc,EAAEA,cADJ;AAEZU,MAAAA,cAAc,EAAE,IAFJ;AAGZC,MAAAA,UAAU,EAAE,KAHA;AAIZT,MAAAA,kBAAkB,EAAE,CAJR;AAMZ;AACAxD,MAAAA,cAAc,EAAEA,cAPJ;AAQZD,MAAAA,cAAc,EAAEA,cARJ;AASZG,MAAAA,gBAAgB,EAAEA,gBATN;AAUZI,MAAAA,aAAa,EAAEA,aAVH;AAWZC,MAAAA,iBAAiB,EAAEA,iBAXP;AAYZC,MAAAA,iBAAiB,EAAEA,iBAZP;AAaZC,MAAAA,aAAa,EAAEA,aAbH;AAcZE,MAAAA,iBAAiB,EAAEA,iBAdP,CAeZ;;AAfY,KAAd,EA/BkB,CAiDlB;;AACAmE,IAAAA,UAAU,CACR,YAAY;AACV,WAAKoB,QAAL;AACD,KAFD,CAEE/B,IAFF,CAEO,IAFP,CADQ,EAIR,CAJQ,CAAV;AAMD;;AAED4E,EAAAA,WAAW,GAAG;AACZ,SAAKlE,QAAL,CAAc;AACZb,MAAAA,cAAc,EAAE,IADJ;AAEZC,MAAAA,UAAU,EAAE,KAFA;AAGZT,MAAAA,kBAAkB,EAAE;AAHR,KAAd;AAKD;;AAEDwB,EAAAA,WAAW,GAAG;AACZR,IAAAA,QAAQ,CAACwE,mBAAT,CAA6B,OAA7B,EAAsC,KAAKhI,kBAA3C;AACAwD,IAAAA,QAAQ,CAACwE,mBAAT,CAA6B,OAA7B,EAAsC,KAAKrH,eAA3C;AACA,SAAKZ,KAAL,CAAWkI,OAAX,CAAmBhK,IAAnB,CAAwB;AACtBiK,MAAAA,QAAQ,EAAG,WADW;AAEtBnH,MAAAA,KAAK,EAAE;AACLF,QAAAA,MAAM,EAAE,KAAKE,KAAL,CAAWF,MADd;AAELG,QAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,IAFZ;AAGLC,QAAAA,SAAS,EAAE,KAAKF,KAAL,CAAWE,SAHjB;AAKLC,QAAAA,UAAU,EAAE,KAAKH,KAAL,CAAWG,UALlB;AAMLC,QAAAA,WAAW,EAAE,KAAKJ,KAAL,CAAWI,WANnB;AAOLC,QAAAA,OAAO,EAAE,KAAKL,KAAL,CAAWK,OAPf;AAQLC,QAAAA,cAAc,EAAE,KAAKN,KAAL,CAAWM,cARtB;AASLC,QAAAA,cAAc,EAAE,KAAKP,KAAL,CAAWO,cATtB;AAULC,QAAAA,cAAc,EAAE,KAAKR,KAAL,CAAWQ,cAVtB;AAWLC,QAAAA,WAAW,EAAE,KAAKT,KAAL,CAAWS,WAXnB;AAYLC,QAAAA,aAAa,EAAE,KAAKV,KAAL,CAAWU,aAZrB;AAaLC,QAAAA,QAAQ,EAAE,KAAKX,KAAL,CAAWW,QAbhB;AAcLC,QAAAA,iBAAiB,EAAE,KAAKZ,KAAL,CAAWY,iBAdzB;AAeLC,QAAAA,WAAW,EAAE,KAAKb,KAAL,CAAWa,WAfnB;AAiBLC,QAAAA,QAAQ,EAAE,KAAKd,KAAL,CAAWc,QAjBhB;AAkBLC,QAAAA,SAAS,EAAE,KAAKf,KAAL,CAAWe,SAlBjB;AAmBLC,QAAAA,UAAU,EAAE,KAAKhB,KAAL,CAAWgB,UAnBlB;AAoBLC,QAAAA,WAAW,EAAE,KAAKjB,KAAL,CAAWiB,WApBnB;AAqBLnD,QAAAA,UAAU,EAAE,KAAKkC,KAAL,CAAWlC,UArBlB;AAsBLC,QAAAA,WAAW,EAAE,KAAKiC,KAAL,CAAWjC;AAtBnB;AAFe,KAAxB;AA2BD;;AAEDqJ,EAAAA,iBAAiB,GAAG;AAClB9E,IAAAA,MAAM,CAAC+E,QAAP,CAAgB,CAAhB,EAAmB,CAAnB,EADkB,CAElB;;AAEAtE,IAAAA,UAAU,CACR,YAAY;AACV,WAAKoB,QAAL;AACD,KAFD,CAEE/B,IAFF,CAEO,IAFP,CADQ,EAIR,CAJQ,CAAV;AAOAW,IAAAA,UAAU,CACR,YAAY;AACV,WAAKD,QAAL,CAAc;AACZwE,QAAAA,OAAO,EAAE;AADG,OAAd;AAGD,KAJD,CAIElF,IAJF,CAIO,IAJP,CADQ,EAMR,IANQ,CAAV;AAQD;;AAEDmF,EAAAA,oBAAoB,GAAG;AACrB;AACA,SAAKzE,QAAL,GAAgB,CAAC9C,KAAD,EAAQwH,QAAR,KAAqB;AACnC;AACD,KAFD;AAGD,GA7nByC,CA+nB1C;AACA;AACA;;;AAEAC,EAAAA,MAAM,GAAG;AACP,QAAI7D,IAAJ;;AAEA,QAAI,KAAK5D,KAAL,CAAWmC,KAAX,KAAqB,KAAzB,EAAgC;AAC9B,UAAI,KAAKnC,KAAL,CAAWiC,cAAX,KAA8B,IAAlC,EAAwC;AACtC,YAAI,KAAKjC,KAAL,CAAWyB,kBAAX,KAAkC,CAAtC,EAAyC;AACvCgB,UAAAA,QAAQ,CAACF,gBAAT,CAA0B,OAA1B,EAAmC,KAAKtD,kBAAxC;AACA2E,UAAAA,IAAI,gBACF;AAAK,YAAA,SAAS,EAAEpJ,MAAM,CAACqJ,IAAvB;AAAA,mCACE;AAAA,sCACE;AAAM,gBAAA,SAAS,EAAErJ,MAAM,CAACkN,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAIE;AAAA;AAAA;AAAA;AAAA,sBAJF,mCAME;AAAA;AAAA;AAAA;AAAA,sBANF,oBAMS;AAAA;AAAA;AAAA;AAAA,sBANT,+EASE;AAAA;AAAA;AAAA;AAAA,sBATF,8EAWE;AAAA;AAAA;AAAA;AAAA,sBAXF,oBAWS;AAAA;AAAA;AAAA;AAAA,sBAXT,kDAYiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAZjC,oBAaE;AAAA;AAAA;AAAA;AAAA,sBAbF,+CAc4C,GAd5C,eAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAfF,oBAgBE;AAAA;AAAA;AAAA;AAAA,sBAhBF,oBAgBS;AAAA;AAAA;AAAA;AAAA,sBAhBT,0EAkBE;AAAA;AAAA;AAAA;AAAA,sBAlBF,sCAmBqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAnBrB,oBAoBE;AAAA;AAAA;AAAA;AAAA,sBApBF,oBAoBS;AAAA;AAAA;AAAA;AAAA,sBApBT,0EAsBE;AAAA;AAAA;AAAA;AAAA,sBAtBF,oBAsBS;AAAA;AAAA;AAAA;AAAA,sBAtBT,eAuBE;AAAM,gBAAA,SAAS,EAAElN,MAAM,CAACuJ,SAAxB;AAAA,uCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAvBF,eA0BE;AAAM,gBAAA,SAAS,EAAEvJ,MAAM,CAACuJ,SAAxB;AAAA,6CACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADH;AAAA;AAAA;AAAA;AAAA;AAAA,sBA1BF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF;AAkCD,SApCD,MAoCO,IAAI,KAAK/D,KAAL,CAAWyB,kBAAX,KAAkC,CAAtC,EAAyC;AAC9CmC,UAAAA,IAAI,gBACF;AAAK,YAAA,SAAS,EAAEpJ,MAAM,CAACqJ,IAAvB;AAAA,mCACE;AAAA,sCACE;AAAM,gBAAA,SAAS,EAAErJ,MAAM,CAACkN,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA;AAAA;AAAA;AAAA,sBAFF,+HAKE;AAAA;AAAA;AAAA;AAAA,sBALF,oBAKS;AAAA;AAAA;AAAA;AAAA,sBALT,eAME;AAAM,gBAAA,SAAS,EAAElN,MAAM,CAACuJ,SAAxB;AAAA,wCACE;AACE,kBAAA,SAAS,EAAEvJ,MAAM,CAACwF,KADpB;AAEE,kBAAA,GAAG,EAAE,KAAKA,KAAL,CAAWgB,UAAX,CAAsB,CAAtB,CAFP;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,wBADF,qDAOE;AACE,kBAAA,SAAS,EAAExG,MAAM,CAACwF,KADpB;AAEE,kBAAA,GAAG,EAAE,KAAKA,KAAL,CAAWgB,UAAX,CAAsB,CAAtB,CAFP;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,wBAPF,qDAaE;AACE,kBAAA,SAAS,EAAExG,MAAM,CAACwF,KADpB;AAEE,kBAAA,GAAG,EAAE,KAAKA,KAAL,CAAWgB,UAAX,CAAsB,CAAtB,CAFP;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,wBAbF;AAAA;AAAA;AAAA;AAAA;AAAA,sBANF,eAyBE;AAAA;AAAA;AAAA;AAAA,sBAzBF,eA0BE;AAAM,gBAAA,SAAS,EAAExG,MAAM,CAACuJ,SAAxB;AAAA,6CACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADH,sBAC6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAD7B;AAAA;AAAA;AAAA;AAAA;AAAA,sBA1BF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF;AAkCD,SAnCM,MAmCA,IAAI,KAAK/D,KAAL,CAAWyB,kBAAX,KAAkC,CAAtC,EAAyC;AAC9CmC,UAAAA,IAAI,gBACF;AAAK,YAAA,SAAS,EAAEpJ,MAAM,CAACqJ,IAAvB;AAAA,mCACE;AAAA,sCACE;AAAM,gBAAA,SAAS,EAAErJ,MAAM,CAACkN,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA;AAAA;AAAA;AAAA,sBAFF,yCAIE;AAAA;AAAA;AAAA;AAAA,sBAJF,eAKE;AAAM,gBAAA,SAAS,EAAElN,MAAM,CAACuJ,SAAxB;AAAA,uCACE;AACE,kBAAA,SAAS,EAAEvJ,MAAM,CAACwF,KADpB;AAEE,kBAAA,GAAG,EAAE,KAAKA,KAAL,CAAWgB,UAAX,CAAsB,CAAtB,CAFP;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBALF,eAYE;AAAA;AAAA;AAAA;AAAA,sBAZF,yEAcE;AAAA;AAAA;AAAA;AAAA,sBAdF,oBAcS;AAAA;AAAA;AAAA;AAAA,sBAdT,6CAe0C,GAf1C,EAgBG,KAAKhB,KAAL,CAAWiB,WAAX,CAAuB,CAAvB,CAhBH,iBAgByC,GAhBzC,eAiBE;AACE,gBAAA,SAAS,EAAEzG,MAAM,CAACwJ,IADpB;AAEE,gBAAA,GAAG,EAAE,KAAKhE,KAAL,CAAWU,aAFlB;AAGE,gBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,sBAjBF,oBAuBE;AAAA;AAAA;AAAA;AAAA,sBAvBF,oBAuBS;AAAA;AAAA;AAAA;AAAA,sBAvBT,eAwBE;AAAM,gBAAA,SAAS,EAAElG,MAAM,CAACuJ,SAAxB;AAAA,6CACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADH,sBAC6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAD7B;AAAA;AAAA;AAAA;AAAA;AAAA,sBAxBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF;AAgCD,SAjCM,MAiCA,IAAI,KAAK/D,KAAL,CAAWyB,kBAAX,KAAkC,CAAtC,EAAyC;AAC9CmC,UAAAA,IAAI,gBACF;AAAK,YAAA,SAAS,EAAEpJ,MAAM,CAACqJ,IAAvB;AAAA,mCACE;AAAA,sCACE;AAAM,gBAAA,SAAS,EAAErJ,MAAM,CAACkN,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA;AAAA;AAAA;AAAA,sBAFF,kDAIE;AAAA;AAAA;AAAA;AAAA,sBAJF,eAKE;AAAM,gBAAA,SAAS,EAAElN,MAAM,CAACuJ,SAAxB;AAAA,uCACE;AACE,kBAAA,SAAS,EAAEvJ,MAAM,CAACwF,KADpB;AAEE,kBAAA,GAAG,EAAE,KAAKA,KAAL,CAAWgB,UAAX,CAAsB,CAAtB,CAFP;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBALF,eAYE;AAAA;AAAA;AAAA;AAAA,sBAZF,wEAcE;AAAA;AAAA;AAAA;AAAA,sBAdF,oBAcS;AAAA;AAAA;AAAA;AAAA,sBAdT,8CAe2C,GAf3C,EAgBG,KAAKhB,KAAL,CAAWiB,WAAX,CAAuB,CAAvB,CAhBH,iBAgByC,GAhBzC,eAiBE;AACE,gBAAA,SAAS,EAAEzG,MAAM,CAACwJ,IADpB;AAEE,gBAAA,GAAG,EAAE,KAAKhE,KAAL,CAAWU,aAFlB;AAGE,gBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,sBAjBF,oBAuBE;AAAA;AAAA;AAAA;AAAA,sBAvBF,oBAuBS;AAAA;AAAA;AAAA;AAAA,sBAvBT,eAwBE;AAAM,gBAAA,SAAS,EAAElG,MAAM,CAACuJ,SAAxB;AAAA,6CACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADH,sBAC6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAD7B;AAAA;AAAA;AAAA;AAAA;AAAA,sBAxBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF;AAgCD,SAjCM,MAiCA,IAAI,KAAK/D,KAAL,CAAWyB,kBAAX,KAAkC,CAAtC,EAAyC;AAC9CmC,UAAAA,IAAI,gBACF;AAAK,YAAA,SAAS,EAAEpJ,MAAM,CAACqJ,IAAvB;AAAA,mCACE;AAAA,sCACE;AAAM,gBAAA,SAAS,EAAErJ,MAAM,CAACkN,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA;AAAA;AAAA;AAAA,sBAFF,wDAIE;AAAA;AAAA;AAAA;AAAA,sBAJF,eAKE;AAAM,gBAAA,SAAS,EAAElN,MAAM,CAACuJ,SAAxB;AAAA,uCACE;AACE,kBAAA,SAAS,EAAEvJ,MAAM,CAACwF,KADpB;AAEE,kBAAA,GAAG,EAAE,KAAKA,KAAL,CAAWgB,UAAX,CAAsB,CAAtB,CAFP;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBALF,eAYE;AAAA;AAAA;AAAA;AAAA,sBAZF,4EAcE;AAAA;AAAA;AAAA;AAAA,sBAdF,oBAcS;AAAA;AAAA;AAAA;AAAA,sBAdT,mDAegD,GAfhD,EAgBG,KAAKhB,KAAL,CAAWiB,WAAX,CAAuB,CAAvB,CAhBH,sBAgB8C,GAhB9C,eAiBE;AACE,gBAAA,SAAS,EAAEzG,MAAM,CAACwJ,IADpB;AAEE,gBAAA,GAAG,EAAE,KAAKhE,KAAL,CAAWU,aAFlB;AAGE,gBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,sBAjBF,oBAuBE;AAAA;AAAA;AAAA;AAAA,sBAvBF,oBAuBS;AAAA;AAAA;AAAA;AAAA,sBAvBT,eAwBE;AAAM,gBAAA,SAAS,EAAElG,MAAM,CAACuJ,SAAxB;AAAA,6CACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADH,sBAC6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAD7B;AAAA;AAAA;AAAA;AAAA;AAAA,sBAxBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF;AAgCD,SAjCM,MAiCA,IAAI,KAAK/D,KAAL,CAAWyB,kBAAX,KAAkC,CAAtC,EAAyC;AAC9CmC,UAAAA,IAAI,gBACF;AAAK,YAAA,SAAS,EAAEpJ,MAAM,CAACqJ,IAAvB;AAAA,mCACE;AAAA,sCACE;AAAM,gBAAA,SAAS,EAAErJ,MAAM,CAACkN,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA;AAAA;AAAA;AAAA,sBAFF,wGAKE;AAAA;AAAA;AAAA;AAAA,sBALF,4DAOE;AAAA;AAAA;AAAA;AAAA,sBAPF,oBAOS;AAAA;AAAA;AAAA;AAAA,sBAPT,oGAUE;AAAA;AAAA;AAAA;AAAA,sBAVF,oBAUS;AAAA;AAAA;AAAA;AAAA,sBAVT,eAWE;AAAM,gBAAA,SAAS,EAAElN,MAAM,CAACuJ,SAAxB;AAAA,uDACa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADb;AAAA;AAAA;AAAA;AAAA;AAAA,sBAXF,eAcE;AAAM,gBAAA,SAAS,EAAEvJ,MAAM,CAACuJ,SAAxB;AAAA,6CACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADH;AAAA;AAAA;AAAA;AAAA;AAAA,sBAdF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF;AAsBD,SAvBM,MAuBA,IAAI,KAAK/D,KAAL,CAAWyB,kBAAX,KAAkC,CAAtC,EAAyC;AAC9C;AACAgB,UAAAA,QAAQ,CAACF,gBAAT,CAA0B,OAA1B,EAAmC,KAAKtD,kBAAxC;AACA2E,UAAAA,IAAI,gBACF;AAAK,YAAA,SAAS,EAAEpJ,MAAM,CAACqJ,IAAvB;AAAA,mCACE;AAAA,sCACE;AAAM,gBAAA,SAAS,EAAErJ,MAAM,CAACkN,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA;AAAA;AAAA;AAAA,sBAFF,kCAG+B,KAAK1H,KAAL,CAAW+B,UAH1C,OAIG,KAAK/B,KAAL,CAAWnC,UAJd,4BAKE;AAAA;AAAA;AAAA;AAAA,sBALF,oBAKS;AAAA;AAAA;AAAA;AAAA,sBALT,oEAOE;AAAA;AAAA;AAAA;AAAA,sBAPF,oBAOS;AAAA;AAAA;AAAA;AAAA,sBAPT,eAQE;AAAM,gBAAA,SAAS,EAAErD,MAAM,CAACuJ,SAAxB;AAAA,uDACa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADb;AAAA;AAAA;AAAA;AAAA;AAAA,sBARF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF;AAgBD,SAnBM,MAmBA,IAAI,KAAK/D,KAAL,CAAWyB,kBAAX,KAAkC,CAAtC,EAAyC;AAC9C;AACAgB,UAAAA,QAAQ,CAACF,gBAAT,CAA0B,OAA1B,EAAmC,KAAKtD,kBAAxC;AAEA2E,UAAAA,IAAI,gBACF;AAAK,YAAA,SAAS,EAAEpJ,MAAM,CAACqJ,IAAvB;AAAA,mCACE;AAAA,sCACE;AAAM,gBAAA,SAAS,EAAErJ,MAAM,CAACkN,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA;AAAA;AAAA;AAAA,sBAFF,qBAGkB,KAAK1H,KAAL,CAAW+B,UAH7B,OAG0C,KAAK/B,KAAL,CAAWnC,UAHrD,+BAKE;AAAA;AAAA;AAAA;AAAA,sBALF,oBAKS;AAAA;AAAA;AAAA;AAAA,sBALT,2DAOE;AAAM,gBAAA,SAAS,EAAErD,MAAM,CAACuJ,SAAxB;AAAA,wCACE;AACE,kBAAA,SAAS,EAAEvJ,MAAM,CAACmN,UADpB;AAEE,kBAAA,GAAG,EAAE,KAAK3H,KAAL,CAAWgB,UAAX,CAAsB,CAAtB,CAFP;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,wBADF,sBAMyB,GANzB,eAOE;AACE,kBAAA,SAAS,EAAExG,MAAM,CAACwJ,IADpB;AAEE,kBAAA,GAAG,EAAE,KAAKhE,KAAL,CAAWU,aAFlB;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,wBAPF,kCAaE;AAAA;AAAA;AAAA;AAAA,wBAbF,eAcE;AACE,kBAAA,SAAS,EAAElG,MAAM,CAACmN,UADpB;AAEE,kBAAA,GAAG,EAAE,KAAK3H,KAAL,CAAWgB,UAAX,CAAsB,CAAtB,CAFP;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,wBAdF,sBAmByB,GAnBzB,eAoBE;AACE,kBAAA,SAAS,EAAExG,MAAM,CAACwJ,IADpB;AAEE,kBAAA,GAAG,EAAE,KAAKhE,KAAL,CAAWU,aAFlB;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,wBApBF,kCA0BE;AAAA;AAAA;AAAA;AAAA,wBA1BF,eA2BE;AACE,kBAAA,SAAS,EAAElG,MAAM,CAACmN,UADpB;AAEE,kBAAA,GAAG,EAAE,KAAK3H,KAAL,CAAWgB,UAAX,CAAsB,CAAtB,CAFP;AAGE,kBAAA,GAAG,EAAC;AAHN;AAAA;AAAA;AAAA;AAAA,wBA3BF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPF,eAyCE;AAAA;AAAA;AAAA;AAAA,sBAzCF,iEA2CE;AAAA;AAAA;AAAA;AAAA,sBA3CF,oBA2CS;AAAA;AAAA;AAAA;AAAA,sBA3CT,eA4CE;AAAM,gBAAA,SAAS,EAAExG,MAAM,CAACuJ,SAAxB;AAAA,uDACa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADb;AAAA;AAAA;AAAA;AAAA;AAAA,sBA5CF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF;AAoDD;AACF,OA9QD,MA8QO,IAAI,KAAK/D,KAAL,CAAWiC,cAAX,KAA8B,KAAlC,EAAyC;AAC9C;AACA,YAAI,KAAKjC,KAAL,CAAWkC,UAAX,KAA0B,IAA9B,EAAoC;AAClCO,UAAAA,QAAQ,CAACwE,mBAAT,CAA6B,OAA7B,EAAsC,KAAKhI,kBAA3C;;AAEA,cAAI,KAAKe,KAAL,CAAW0B,QAAX,IAAuB,KAAK1B,KAAL,CAAWnC,UAAtC,EAAkD;AAChD4E,YAAAA,QAAQ,CAACF,gBAAT,CAA0B,OAA1B,EAAmC,KAAKjD,cAAxC;AACAsE,YAAAA,IAAI,gBAAG;AAAA,8BAAO,KAAKvB,SAAL,CAAe,KAAKrC,KAAL,CAAW0B,QAA1B,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACD,WAHD,MAGO;AACL;AACAe,YAAAA,QAAQ,CAACwE,mBAAT,CAA6B,OAA7B,EAAsC,KAAK3H,cAA3C;;AACA,gBAAI,KAAKU,KAAL,CAAW+B,UAAX,GAAwB,KAAK/B,KAAL,CAAWnC,UAAnC,GAAgD,IAApD,EAA0D;AACxD;AACAkF,cAAAA,UAAU,CACR,YAAY;AACV,qBAAKiE,WAAL;AACD,eAFD,CAEE5E,IAFF,CAEO,IAFP,CADQ,EAIR,CAJQ,CAAV;AAMD,aARD,MAQO;AACL;AACAW,cAAAA,UAAU,CACR,YAAY;AACV,qBAAKgE,iBAAL;AACD,eAFD,CAEE3E,IAFF,CAEO,IAFP,CADQ,EAIR,CAJQ,CAAV;AAMD;AACF;AACF,SA3BD,MA2BO;AACL;AACA6D,UAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACD;AACF;AACF,KAjTD,MAiTO,IAAI,KAAKlG,KAAL,CAAWmC,KAAX,KAAqB,IAAzB,EAA+B;AACpCM,MAAAA,QAAQ,CAACF,gBAAT,CAA0B,OAA1B,EAAmC,KAAK3C,eAAxC;AACAgE,MAAAA,IAAI,gBACF;AAAK,QAAA,SAAS,EAAEpJ,MAAM,CAACqJ,IAAvB;AAAA,+BACE;AAAA,kCACE;AAAM,YAAA,SAAS,EAAErJ,MAAM,CAACkN,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA,kBAFF,eAIE;AAAM,YAAA,SAAS,EAAElN,MAAM,CAACuJ,SAAxB;AAAA,mDACa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADb;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AAYD;;AAED,wBACE;AAAK,MAAA,SAAS,EAAEvJ,MAAM,CAACoN,OAAvB;AAAA,8BACE;AAAM,QAAA,SAAS,EAAEpN,MAAM,CAACqN,MAAxB;AAAA,+BACE;AAAK,UAAA,GAAG,EAAE,KAAK7H,KAAL,CAAWM,cAArB;AAAqC,UAAA,GAAG,EAAC;AAAzC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAK,QAAA,SAAS,EAAE9F,MAAM,CAACsN,SAAvB;AAAA,kBAAmClE;AAAnC;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAQD;;AA/8ByC;;AAk9B5C,oBAAetJ,UAAU,CAACuE,aAAD,CAAzB","sourcesContent":["import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { DATABASE_URL } from \"./config\";\n\nimport styles from \"./style/taskStyle.module.css\";\nimport Cockpit from \"./img/CockpitBlank.jpg\";\n\n/////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// GLOBAL FUNCTIONS\nfunction shuffle(array) {\n  var currentIndex = array.length,\n    temporaryValue,\n    randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\n//shuffling 2 or more arrays in the same order\nvar isArray =\n  Array.isArray ||\n  function (value) {\n    return {}.toString.call(value) !== \"[object Array]\";\n  };\n\nfunction shuffleSame() {\n  var arrLength = 0;\n  var argsLength = arguments.length;\n  var rnd, tmp, argsIndex;\n\n  for (var index = 0; index < argsLength; index += 1) {\n    if (!isArray(arguments[index])) {\n      throw new TypeError(\"Argument is not an array.\");\n    }\n\n    if (index === 0) {\n      arrLength = arguments[0].length;\n    }\n\n    if (arrLength !== arguments[index].length) {\n      throw new RangeError(\"Array lengths do not match.\");\n    }\n  }\n\n  while (arrLength) {\n    rnd = Math.round(Math.random() * arrLength);\n    arrLength -= 1;\n    for (argsIndex = 0; argsIndex < argsLength; argsIndex += 1) {\n      tmp = arguments[argsIndex][arrLength];\n      arguments[argsIndex][arrLength] = arguments[argsIndex][rnd];\n      arguments[argsIndex][rnd] = tmp;\n    }\n  }\n}\n\n//element-wise multiplication for vector\nfunction multVec(a, b) {\n  return a.map((e, i) => e * b[i]);\n}\n\n// vector of random numbers within a range\nfunction randVec(num, min, max) {\n  var arr = [];\n\n  while (arr.length < num) {\n    var minT = Math.ceil(min);\n    var maxT = Math.floor(max);\n    var r = Math.floor(Math.random() * (maxT - minT + 1)) + minT;\n    arr.push(r);\n  }\n  return arr;\n}\n\n// the index for NOT answers\n\nfunction otherVec(vect) {\n  var arr1 = [];\n  var arr2 = [];\n\n  for (var index = 0; index < vect.length; index += 1) {\n    var chosenValue;\n    var altValue;\n\n    var num = vect[index];\n\n    if (num === 1) {\n      chosenValue = Math.random() <= 0.5 ? 2 : 3;\n      if (chosenValue === 2) {\n        altValue = 3;\n      } else {\n        altValue = 2;\n      }\n    } else if (num === 2) {\n      chosenValue = Math.random() <= 0.5 ? 1 : 3;\n      if (chosenValue === 1) {\n        altValue = 3;\n      } else {\n        altValue = 1;\n      }\n    } else if (num === 3) {\n      chosenValue = Math.random() <= 0.5 ? 2 : 1;\n      if (chosenValue === 2) {\n        altValue = 1;\n      } else {\n        altValue = 2;\n      }\n    }\n    arr1[index] = chosenValue;\n    arr2[index] = altValue;\n  }\n\n  return [arr1, arr2];\n}\n\n// flip sign of elements in vector, and * the multiplier if the real ans is 0\nfunction flipSign(vect, vect2) {\n  var arr = [];\n  for (var index = 0; index < vect.length; index += 1) {\n    var posNum;\n\n    if (vect[index] === 0) {\n      posNum = 1 * vect2[index];\n    } else {\n      posNum = vect[index] * -1;\n    }\n\n    arr[index] = posNum;\n  }\n  return arr;\n}\n\n// if it is zero, and * the multiplier if the real ans is 0\nfunction flipZero(vect, vect2) {\n  var arr = [];\n  for (var index = 0; index < vect.length; index += 1) {\n    var posNum;\n\n    if (vect[index] === 0) {\n      posNum = -1 * vect2[index];\n    } else {\n      posNum = 0;\n    }\n\n    arr[index] = posNum;\n  }\n  return arr;\n}\n\n/////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n\nvar trialTotal = 9;\n\nvar outcomeVal = [1, -1, 0];\nvar outcomeIndx = [0, 1, 2];\n\n/////////////////////////////////////////////////////////////////////////////////\n// Plan the outcome memory test here\n\n// There will be 9 trials, they have to pass 65%?\nvar outcomeMultLog = [1, 1, 2, 2, 3, 3, 4, 4, 5];\nvar outcomeIndxLog = outcomeIndx.concat(outcomeIndx.concat(outcomeIndx)); // [0,2,1,2,1,0...]\nvar outcomeValPreLog = outcomeVal.concat(outcomeVal.concat(outcomeVal)); // [0,-1,1,-1,1,0...]\n\nshuffle(outcomeMultLog);\nshuffleSame(outcomeIndxLog, outcomeValPreLog);\n\noutcomeIndxLog = outcomeIndxLog.filter(function (val) {\n  return val !== undefined;\n});\noutcomeValPreLog = outcomeValPreLog.filter(function (val) {\n  return val !== undefined;\n});\n\n// the actual values for the answers\nvar outcomeValLog = multVec(outcomeValPreLog, outcomeMultLog); //[0,-1,1,-1,1,0...] * [1,2,3,1,4...] = [0,-2,3,-1,4...]\nvar outcomeNotValLog1 = flipSign(outcomeValLog, outcomeMultLog); //wrong answer 1\nvar outcomeNotValLog2 = flipZero(outcomeValLog, outcomeMultLog); //wrong answer 2\n\nvar outcomeAnsLog = randVec(trialTotal, 1, 3); // [1,3,2,1,2,3...] gives position of answer\nvar outcomeNotAnsLog = otherVec(outcomeAnsLog); // gives two arrays of wrong answer position for other two options\nvar outcomeNotAnsLog1 = outcomeNotAnsLog[0];\n// var outcomeNotAnsLog2 = outcomeNotAnsLog[1];\n\n/////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// REACT COMPONENT START\nclass TrainingIntro extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const userID = this.props.location.state.userID;\n    const date = this.props.location.state.date;\n    const startTime = this.props.location.state.startTime;\n\n    const shuttlePic = this.props.location.state.shuttlePic;\n    const shuttleWord = this.props.location.state.shuttleWord;\n    const img_fix = this.props.location.state.img_fix;\n    const img_astrodude1 = this.props.location.state.img_astrodude1;\n    const img_astrodude2 = this.props.location.state.img_astrodude2;\n    const img_astrodude3 = this.props.location.state.img_astrodude3;\n    const img_counter = this.props.location.state.img_counter;\n    const img_coinSmall = this.props.location.state.img_coinSmall;\n    const img_coin = this.props.location.state.img_coin;\n    const img_pathInstruct1 = this.props.location.state.img_pathInstruct1;\n    const stateHolder = this.props.location.state.stateHolder;\n\n    const statePic = this.props.location.state.statePic;\n    const stateWord = this.props.location.state.stateWord;\n    const outcomePic = this.props.location.state.outcomePic;\n    const outcomeWord = this.props.location.state.outcomeWord;\n\n    var currentDate = new Date(); // maybe change to local\n    var timeString = currentDate.toTimeString();\n\n    /////////////////////////////////////////////////////////////////////////////////\n    // SET COMPONENT STATES\n    this.state = {\n      userID: userID,\n      date: date,\n      startTime: startTime,\n      sectionTime: timeString,\n      taskSessionTry: 1,\n      taskSession: \"TrainingIntro\",\n      instructScreenText: 1,\n\n      shuttlePic: shuttlePic,\n      shuttleWord: shuttleWord,\n      img_fix: img_fix,\n      img_astrodude1: img_astrodude1,\n      img_astrodude2: img_astrodude2,\n      img_astrodude3: img_astrodude3,\n      img_counter: img_counter,\n      img_coinSmall: img_coinSmall,\n      img_coin: img_coin,\n      img_pathInstruct1: img_pathInstruct1,\n      stateHolder: stateHolder,\n      statePic: statePic,\n      stateWord: stateWord,\n      outcomePic: outcomePic,\n      outcomeWord: outcomeWord,\n\n      outcomeVal: outcomeVal, // [1, -1, 0];\n      outcomeIndx: outcomeIndx,\n\n      outcomeIndxLog: outcomeIndxLog,\n      outcomeMultLog: outcomeMultLog,\n      outcomeValPreLog: outcomeValPreLog,\n      outcomeValLog: outcomeValLog,\n      outcomeNotValLog1: outcomeNotValLog1,\n      outcomeNotValLog2: outcomeNotValLog2,\n\n      outcomeAnsLog: outcomeAnsLog,\n      outcomeNotAnsLog1: outcomeNotAnsLog1,\n      // outcomeNotAnsLog2: outcomeNotAnsLog2,\n\n      trialNum: 1,\n      trialTotal: trialTotal,\n      trialRT: 0,\n      trialTime: 0,\n      trialKeypress: 0,\n      trialCorLog: [],\n      trialScore: 0,\n      trialCor: null,\n\n      instructScreen: true,\n      testScreen: false,\n\n      debug: false, //if true, skip this section\n    };\n\n    this.handleInstructLocal = this.handleInstructLocal.bind(this);\n    this.handleDebugKeyLocal = this.handleDebugKeyLocal.bind(this);\n    this.testCheck = this.testCheck.bind(this);\n    this.testStart = this.testStart.bind(this);\n\n    /* prevents page from going down when space bar is hit .*/\n    window.addEventListener(\"keydown\", function (e) {\n      if (e.keyCode === 32 && e.target === document.body) {\n        e.preventDefault();\n      }\n    });\n  }\n  /////////////////////////////////////////////////////////////////////////////////\n  // END COMPONENT STATE\n\n  // This handles instruction screen within the component USING KEYBOARD\n  handleInstructLocal(key_pressed) {\n    var curText = this.state.instructScreenText;\n    var whichButton = key_pressed;\n\n    if (whichButton === 4 && curText > 1) {\n      this.setState({ instructScreenText: curText - 1 });\n    } else if (whichButton === 5 && curText < 6) {\n      this.setState({ instructScreenText: curText + 1 });\n    } else if (curText === 6 && whichButton === 10) {\n      //startmissionOne\n      setTimeout(\n        function () {\n          this.missionOne();\n        }.bind(this),\n        0\n      );\n    } else if (curText === 7 && whichButton === 10) {\n      //restart\n      this.setState({\n        instructScreenText: 1,\n      });\n    } else if (curText === 8 && whichButton === 10) {\n      //go to pathtask\n      setTimeout(\n        function () {\n          this.nextMission();\n        }.bind(this),\n        0\n      );\n    }\n  }\n\n  // handle key key_pressed\n  _handleInstructKey = (event) => {\n    var key_pressed;\n\n    switch (event.keyCode) {\n      case 37:\n        //    this is left arrow\n        key_pressed = 4;\n        this.handleInstructLocal(key_pressed);\n        break;\n      case 39:\n        //    this is right arrow\n        key_pressed = 5;\n        this.handleInstructLocal(key_pressed);\n        break;\n      case 32:\n        //    this is SPACEBAR\n        key_pressed = 10;\n        this.handleInstructLocal(key_pressed);\n        break;\n      default:\n    }\n  };\n\n  _handleTestKey = (event) => {\n    var pressed;\n    var time_pressed;\n\n    switch (event.keyCode) {\n      case 49:\n        pressed = 1;\n        time_pressed = Math.round(performance.now());\n        this.testCheck(pressed, time_pressed);\n        break;\n      case 50:\n        pressed = 2;\n        time_pressed = Math.round(performance.now());\n        this.testCheck(pressed, time_pressed);\n        break;\n      case 51:\n        pressed = 3;\n        time_pressed = Math.round(performance.now());\n        this.testCheck(pressed, time_pressed);\n        break;\n      //this is keycode for numpad\n      case 97:\n        pressed = 1;\n        time_pressed = Math.round(performance.now());\n        this.testCheck(pressed, time_pressed);\n        break;\n      case 98:\n        pressed = 2;\n        time_pressed = Math.round(performance.now());\n        this.testCheck(pressed, time_pressed);\n        break;\n      case 99:\n        pressed = 3;\n        time_pressed = Math.round(performance.now());\n        this.testCheck(pressed, time_pressed);\n        break;\n      default:\n    }\n  };\n\n  handleDebugKeyLocal(pressed) {\n    var whichButton = pressed;\n\n    if (whichButton === 10) {\n      setTimeout(\n        function () {\n          this.nextMission();\n        }.bind(this),\n        0\n      );\n    }\n  }\n\n  _handleDebugKey = (event) => {\n    var pressed;\n\n    switch (event.keyCode) {\n      case 32:\n        //    this is SPACEBAR\n        pressed = 10;\n        this.handleDebugKeyLocal(pressed);\n        break;\n      default:\n    }\n  };\n  /////////////////////////////////////////////////////////////////////////////////\n  // END COMPONENT PROPS\n\n  missionOne() {\n    var trialTime = Math.round(performance.now());\n    this.setState({\n      instructScreen: false,\n      testScreen: true,\n      trialNum: 1,\n      trialTime: trialTime,\n      trialRT: 0,\n      trialKeypress: 0,\n      trialCorLog: [],\n      trialScore: 0,\n    });\n  }\n\n  testStart(trialNum) {\n    // which picture\n\n    var whichOutcomePic = this.state.outcomeIndxLog[trialNum - 1];\n\n    //how many pics\n    var numOutcomePic = this.state.outcomeMultLog[trialNum - 1];\n\n    //value of the answer\n    var outcomeVal1 = this.state.outcomeValLog[trialNum - 1];\n    var outcomeVal2 = this.state.outcomeNotValLog1[trialNum - 1];\n    var outcomeVal3 = this.state.outcomeNotValLog2[trialNum - 1];\n\n    // position of the answer\n    var outcomePos1 = this.state.outcomeAnsLog[trialNum - 1];\n    var outcomePos2 = this.state.outcomeNotAnsLog1[trialNum - 1];\n    // var outcomePos3 = this.state.outcomeNotAnsLog2[trialNum - 1];\n\n    var ansOne;\n    var ansTwo;\n    var ansThree;\n\n    // console.log(this.state.outcomeValLog);\n    // console.log(this.state.outcomeNotValLog1);\n    // console.log(this.state.outcomeNotValLog1);\n    // console.log(this.state.outcomeAnsLog);\n    // console.log(this.state.outcomeNotAnsLog1);\n    // console.log(this.state.outcomeNotAnsLog2);\n\n    if (outcomePos1 === 1) {\n      ansOne = outcomeVal1;\n    } else {\n      if (outcomePos2 === 1) {\n        ansOne = outcomeVal2;\n      } else {\n        ansOne = outcomeVal3;\n      }\n    }\n\n    if (outcomePos1 === 2) {\n      ansTwo = outcomeVal1;\n    } else {\n      if (outcomePos2 === 2) {\n        ansTwo = outcomeVal2;\n      } else {\n        ansTwo = outcomeVal3;\n      }\n    }\n\n    if (outcomePos1 === 3) {\n      ansThree = outcomeVal1;\n    } else {\n      if (outcomePos2 === 3) {\n        ansThree = outcomeVal2;\n      } else {\n        ansThree = outcomeVal3;\n      }\n    }\n\n    // console.log(ansOne);\n    // console.log(ansTwo);\n    // console.log(ansThree);\n\n    let text = (\n      <div className={styles.main}>\n        <div className={styles.counter}>\n          <img\n            className={styles.counter}\n            src={this.state.img_counter}\n            alt=\"counter\"\n          />\n          {this.state.trialNum}/{this.state.trialTotal}\n        </div>\n        <p>\n          <span className={styles.centerTwo}>\n            How many coins will I gain or lose?\n          </span>\n          <br />\n          <span className={styles.centerTwo}>\n            {numOutcomePic} X &nbsp;&nbsp;&nbsp;\n            <img\n              className={styles.state}\n              src={this.state.outcomePic[whichOutcomePic]}\n              alt=\"outcome\"\n            />\n          </span>\n          <span className={styles.centerTwo}>\n            [<strong>1</strong>]: {ansOne}{\" \"}\n            <img\n              className={styles.coin}\n              src={this.state.img_coinSmall}\n              alt=\"coin\"\n            />\n            <br />[<strong>2</strong>]: {ansTwo}{\" \"}\n            <img\n              className={styles.coin}\n              src={this.state.img_coinSmall}\n              alt=\"coin\"\n            />\n            <br />[<strong>3</strong>]: {ansThree}{\" \"}\n            <img\n              className={styles.coin}\n              src={this.state.img_coinSmall}\n              alt=\"coin\"\n            />\n          </span>\n          <span className={styles.centerTwo}>\n            [Press the correct number key]\n          </span>\n        </p>\n      </div>\n    );\n    return <div>{text}</div>;\n  }\n\n  // function to go to next quiz question and check score\n  testCheck(pressed, time_pressed) {\n    var trialNum = this.state.trialNum; //quiz question number (this needs to be rest to 1)\n    var trialRT = time_pressed - this.state.trialTime;\n    var corAns = this.state.outcomeAnsLog[trialNum - 1];\n    var trialCorLog = this.state.trialCorLog; //[1,1,1,0...]\n    var trialScore = this.state.trialScore; //sum of the correct answers\n    var trialCor = this.state.trialCor;\n\n    if (pressed === corAns) {\n      trialCor = 1;\n      trialCorLog[trialNum - 1] = 1;\n      trialScore = trialScore + 1;\n    } else {\n      trialCor = 0;\n      trialCorLog[trialNum - 1] = 0;\n    }\n\n    this.setState({\n      trialKeypress: pressed,\n      trialRT: trialRT,\n      trialCor: trialCor,\n      trialCorLog: trialCorLog,\n      trialScore: trialScore,\n    });\n\n    setTimeout(\n      function () {\n        this.trialSave();\n      }.bind(this),\n      5\n    );\n  }\n\n  condSave() {\n    var userID = this.state.userID;\n    var currentDate = new Date(); // maybe change to local\n    var sectionTime = currentDate.toTimeString();\n    var trialTime = Math.round(performance.now());\n\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime, // this is when they start the expt\n      sectionTime: sectionTime, //this is if they somehow refresh the page...\n      trialTime: trialTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      structNum: null,\n\n      outcomeWord: this.state.outcomeWord,\n      outcomeVal: this.state.outcomeVal,\n      outcomeIndx: this.state.outcomeIndx,\n      stateWord: null,\n      stateIndx: null,\n      pathOne: null,\n      pathTwo: null,\n      pathThree: null,\n\n      tutForcedPaths: null,\n      tutSafePathOutcome: null,\n      tutRiskyPathOutcome1: null,\n      tutRiskyPathOutcome2: null,\n      tutSafePathProb: null,\n      tutRiskyPathProb1: null,\n      tutRiskyPathProb2: null,\n      tutOptChoice: null,\n      tutForceChoice: null,\n      tutPlanChoice: null,\n      tutShowPath: null,\n      tutOutcomeStruct: null,\n\n      taskSafePathOutcome: null,\n      taskRiskyPathOutcome1: null,\n      taskRiskyPathOutcome2: null,\n      taskSafePathProb: null,\n      taskRiskyPathProb1: null,\n      taskRiskyPathProb2: null,\n      taskOptChoice: null,\n      taskForceChoice: null,\n      taskPlanChoice: null,\n      taskShowPath: null,\n      taskOutcomeStruct: null,\n    };\n\n    console.log(saveString);\n\n    try {\n      fetch(`${DATABASE_URL}/cond_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(saveString),\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n  }\n\n  trialSave() {\n    var userID = this.state.userID;\n    var trialPicIndx = this.state.outcomeIndxLog[this.state.trialNum - 1];\n    var trialPicWord = this.state.outcomeWord[trialPicIndx];\n\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime, // this is when they start the expt\n      sectionTime: this.state.sectionTime, //this is if they somehow refresh the page...\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      trialTime: this.state.trialTime,\n      trialNum: this.state.trialNum,\n      trialPicIndx: trialPicIndx,\n      trialPicWord: trialPicWord,\n      trialPicNum: this.state.outcomeMultLog[this.state.trialNum - 1],\n      trialPicValue: this.state.outcomeValLog[this.state.trialNum - 1],\n      trialPicAns: this.state.outcomeAnsLog[this.state.trialNum - 1],\n      trialRT: this.state.trialRT,\n      trialKeypress: this.state.trialKeypress,\n      trialCor: this.state.trialCor,\n      trialScore: this.state.trialScore,\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/outcome_test/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(saveString),\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n\n    //lag a bit to make sure statestate is saved\n    setTimeout(\n      function () {\n        this.trialNext();\n      }.bind(this),\n      10\n    );\n  }\n\n  trialNext() {\n    var trialNum = this.state.trialNum + 1;\n    var trialTime = Math.round(performance.now());\n\n    this.setState({\n      trialTime: trialTime,\n      trialNum: trialNum,\n      trialKeypress: 0,\n      trialCor: null,\n    });\n  }\n\n  missionOneRestart() {\n    //resetVariables\n    var taskSessionTry = this.state.taskSessionTry + 1;\n\n    var outcomeMultLog = this.state.outcomeMultLog;\n    var outcomeIndxLog = this.state.outcomeIndxLog;\n    var outcomeValPreLog = this.state.outcomeValPreLog;\n\n    shuffle(outcomeMultLog);\n    shuffleSame(outcomeIndxLog, outcomeValPreLog);\n\n    outcomeIndxLog = outcomeIndxLog.filter(function (val) {\n      return val !== undefined;\n    });\n    outcomeValPreLog = outcomeValPreLog.filter(function (val) {\n      return val !== undefined;\n    });\n\n    // the actual values for the answers\n    var outcomeValLog = multVec(outcomeValPreLog, outcomeMultLog); //[0,-1,1,-1,1,0...] * [1,2,3,1,4...] = [0,-2,3,-1,4...]\n    var outcomeNotValLog1 = flipSign(outcomeValLog, outcomeMultLog); //wrong answer 1\n    var outcomeNotValLog2 = flipZero(outcomeValLog, outcomeMultLog); //wrong answer 2\n\n    var outcomeAnsLog = randVec(this.state.trialTotal, 1, 3); // [1,3,2,1,2,3...] gives position of answer\n    var outcomeNotAnsLog = otherVec(outcomeAnsLog); // gives two arrays of wrong answer position for other two options\n    var outcomeNotAnsLog1 = outcomeNotAnsLog[0];\n    // var outcomeNotAnsLog2 = outcomeNotAnsLog[1];\n\n    // console.log(outcomeAnsLog);\n    // console.log(outcomeNotAnsLog);\n\n    this.setState({\n      taskSessionTry: taskSessionTry,\n      instructScreen: true,\n      testScreen: false,\n      instructScreenText: 7,\n\n      //this changes the test ans, but DOES NOT change the outcomeVal\n      outcomeIndxLog: outcomeIndxLog,\n      outcomeMultLog: outcomeMultLog,\n      outcomeValPreLog: outcomeValPreLog,\n      outcomeValLog: outcomeValLog,\n      outcomeNotValLog1: outcomeNotValLog1,\n      outcomeNotValLog2: outcomeNotValLog2,\n      outcomeAnsLog: outcomeAnsLog,\n      outcomeNotAnsLog1: outcomeNotAnsLog1,\n      // outcomeNotAnsLog2: outcomeNotAnsLog2,\n    });\n\n    //send the TrainingIntro conditions?\n    setTimeout(\n      function () {\n        this.condSave();\n      }.bind(this),\n      0\n    );\n  }\n\n  passMission() {\n    this.setState({\n      instructScreen: true,\n      testScreen: false,\n      instructScreenText: 8,\n    });\n  }\n\n  nextMission() {\n    document.removeEventListener(\"keyup\", this._handleInstructKey);\n    document.removeEventListener(\"keyup\", this._handleDebugKey);\n    this.props.history.push({\n      pathname: `/PathTask`,\n      state: {\n        userID: this.state.userID,\n        date: this.state.date,\n        startTime: this.state.startTime,\n\n        shuttlePic: this.state.shuttlePic,\n        shuttleWord: this.state.shuttleWord,\n        img_fix: this.state.img_fix,\n        img_astrodude1: this.state.img_astrodude1,\n        img_astrodude2: this.state.img_astrodude2,\n        img_astrodude3: this.state.img_astrodude3,\n        img_counter: this.state.img_counter,\n        img_coinSmall: this.state.img_coinSmall,\n        img_coin: this.state.img_coin,\n        img_pathInstruct1: this.state.img_pathInstruct1,\n        stateHolder: this.state.stateHolder,\n\n        statePic: this.state.statePic,\n        stateWord: this.state.stateWord,\n        outcomePic: this.state.outcomePic,\n        outcomeWord: this.state.outcomeWord,\n        outcomeVal: this.state.outcomeVal,\n        outcomeIndx: this.state.outcomeIndx,\n      },\n    });\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    //send the TrainingIntro conditions?\n\n    setTimeout(\n      function () {\n        this.condSave();\n      }.bind(this),\n      0\n    );\n\n    setTimeout(\n      function () {\n        this.setState({\n          mounted: 1,\n        });\n      }.bind(this),\n      5000\n    );\n  }\n\n  componentWillUnmount() {\n    // fix Warning: Can't perform a React state update on an unmounted component\n    this.setState = (state, callback) => {\n      return;\n    };\n  }\n\n  //////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////\n  // render time\n\n  render() {\n    let text;\n\n    if (this.state.debug === false) {\n      if (this.state.instructScreen === true) {\n        if (this.state.instructScreenText === 1) {\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>\n                  Hello and welcome to the space mission control centre!\n                </span>\n                <br />\n                Welcome onboard!\n                <br /> <br />\n                For today&apos;s mission, we will be taking shuttles to\n                different\n                <br />\n                spaceships where we will end up in an outcome room onboard.\n                <br /> <br />\n                One of these rooms will let us <strong>earn coins</strong>,\n                <br />\n                while one of these rooms will cause us to{\" \"}\n                <strong>lose coins</strong>.\n                <br /> <br />\n                The more coins you find, the higher your bonus will be,\n                <br />\n                up to a maximum of <strong>£4</strong>!\n                <br /> <br />\n                Before we begin, you will need to learn several things.\n                <br /> <br />\n                <span className={styles.centerTwo}>\n                  <i>(Use the ← → keys to navigate the pages.)</i>\n                </span>\n                <span className={styles.centerTwo}>\n                  [<strong>NEXT →</strong>]\n                </span>\n              </p>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 2) {\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>TUTORIAL I</span>\n                <br />\n                The first is, when we board a spaceship, we will end up in these\n                outcome rooms, each presented by a picture:\n                <br /> <br />\n                <span className={styles.centerTwo}>\n                  <img\n                    className={styles.state}\n                    src={this.state.outcomePic[0]}\n                    alt=\"outcome1\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.state}\n                    src={this.state.outcomePic[1]}\n                    alt=\"outcome2\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.state}\n                    src={this.state.outcomePic[2]}\n                    alt=\"outcome3\"\n                  />\n                </span>\n                <br />\n                <span className={styles.centerTwo}>\n                  [<strong>← BACK</strong>] [<strong>NEXT →</strong>]\n                </span>\n              </p>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 3) {\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>TUTORIAL I</span>\n                <br />\n                If we enter this room:\n                <br />\n                <span className={styles.centerTwo}>\n                  <img\n                    className={styles.state}\n                    src={this.state.outcomePic[0]}\n                    alt=\"outcome1\"\n                  />\n                </span>\n                <br />\n                This room is valuable and we can find coins within it.\n                <br /> <br />\n                In other words, if we see a 3 next to a{\" \"}\n                {this.state.outcomeWord[0]}, we earn 3{\" \"}\n                <img\n                  className={styles.coin}\n                  src={this.state.img_coinSmall}\n                  alt=\"coin\"\n                />\n                .\n                <br /> <br />\n                <span className={styles.centerTwo}>\n                  [<strong>← BACK</strong>] [<strong>NEXT →</strong>]\n                </span>\n              </p>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 4) {\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>TUTORIAL I</span>\n                <br />\n                However, if we enter this room:\n                <br />\n                <span className={styles.centerTwo}>\n                  <img\n                    className={styles.state}\n                    src={this.state.outcomePic[1]}\n                    alt=\"outcome2\"\n                  />\n                </span>\n                <br />\n                This room is undesirable, and we will be fined coins.\n                <br /> <br />\n                In other words, if we find a 2 next to a{\" \"}\n                {this.state.outcomeWord[1]}, we lose 2{\" \"}\n                <img\n                  className={styles.coin}\n                  src={this.state.img_coinSmall}\n                  alt=\"coin\"\n                />\n                .\n                <br /> <br />\n                <span className={styles.centerTwo}>\n                  [<strong>← BACK</strong>] [<strong>NEXT →</strong>]\n                </span>\n              </p>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 5) {\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>TUTORIAL I</span>\n                <br />\n                Alternatively, if we enter this room:\n                <br />\n                <span className={styles.centerTwo}>\n                  <img\n                    className={styles.state}\n                    src={this.state.outcomePic[2]}\n                    alt=\"outcome3\"\n                  />\n                </span>\n                <br />\n                This room is neutral, and we will not gain or lose coins.\n                <br /> <br />\n                In other words, even if we find a 5 next to a{\" \"}\n                {this.state.outcomeWord[2]}, we earn/lose 0{\" \"}\n                <img\n                  className={styles.coin}\n                  src={this.state.img_coinSmall}\n                  alt=\"coin\"\n                />\n                .\n                <br /> <br />\n                <span className={styles.centerTwo}>\n                  [<strong>← BACK</strong>] [<strong>NEXT →</strong>]\n                </span>\n              </p>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 6) {\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>TUTORIAL I</span>\n                <br />\n                For your first tutorial, let us check if you understood the\n                different consequences of\n                <br />\n                entering each of the three outcome rooms.\n                <br /> <br />\n                When we enter a room, you simply have to tell us how many coins\n                you gain or lose.\n                <br /> <br />\n                <span className={styles.centerTwo}>\n                  Press the [<strong>SPACEBAR</strong>] to start the tutorial.\n                </span>\n                <span className={styles.centerTwo}>\n                  [<strong>← BACK</strong>]\n                </span>\n              </p>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 7) {\n          // IF YOU FAIL THE TEST, YOU RESTART\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>TUTORIAL I</span>\n                <br />\n                Unforuntately, you only had {this.state.trialScore}/\n                {this.state.trialTotal} correct!\n                <br /> <br />\n                Let us go through the instructions and try again.\n                <br /> <br />\n                <span className={styles.centerTwo}>\n                  Press the [<strong>SPACEBAR</strong>] to try again.\n                </span>\n              </p>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 8) {\n          // IF YOU PASS THE TEST\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>TUTORIAL I</span>\n                <br />\n                Great, you had {this.state.trialScore}/{this.state.trialTotal}\n                &nbsp;correct!\n                <br /> <br />\n                In summary, these outcome rooms lead to:\n                <span className={styles.centerTwo}>\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.outcomePic[0]}\n                    alt=\"outcome1\"\n                  />\n                  &nbsp;&nbsp; = &nbsp;+{\" \"}\n                  <img\n                    className={styles.coin}\n                    src={this.state.img_coinSmall}\n                    alt=\"coin\"\n                  />\n                  &nbsp;&nbsp; (gain)\n                  <br />\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.outcomePic[1]}\n                    alt=\"outcome2\"\n                  />\n                  &nbsp;&nbsp; = &nbsp;-{\" \"}\n                  <img\n                    className={styles.coin}\n                    src={this.state.img_coinSmall}\n                    alt=\"coin\"\n                  />\n                  &nbsp;&nbsp; (lose)\n                  <br />\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.outcomePic[2]}\n                    alt=\"outcome3\"\n                  />\n                  &nbsp;&nbsp; = &nbsp;none\n                </span>\n                <br />\n                You are ready to move on to the next tutorial.\n                <br /> <br />\n                <span className={styles.centerTwo}>\n                  Press the [<strong>SPACEBAR</strong>] to continue.\n                </span>\n              </p>\n            </div>\n          );\n        }\n      } else if (this.state.instructScreen === false) {\n        // out of the instructions, this is the quiz\n        if (this.state.testScreen === true) {\n          document.removeEventListener(\"keyup\", this._handleInstructKey);\n\n          if (this.state.trialNum <= this.state.trialTotal) {\n            document.addEventListener(\"keyup\", this._handleTestKey);\n            text = <div> {this.testStart(this.state.trialNum)}</div>;\n          } else {\n            // finish the quiz\n            document.removeEventListener(\"keyup\", this._handleTestKey);\n            if (this.state.trialScore / this.state.trialTotal > 0.65) {\n              //if score more than 65%, move on to the next section\n              setTimeout(\n                function () {\n                  this.passMission();\n                }.bind(this),\n                0\n              );\n            } else {\n              //if you fail, then you do the quiz again...\n              setTimeout(\n                function () {\n                  this.missionOneRestart();\n                }.bind(this),\n                0\n              );\n            }\n          }\n        } else {\n          //Error..........\n          console.log(\"ERROR - LOOP BROKEN OR LEAKY\");\n        }\n      }\n    } else if (this.state.debug === true) {\n      document.addEventListener(\"keyup\", this._handleDebugKey);\n      text = (\n        <div className={styles.main}>\n          <p>\n            <span className={styles.center}>DEBUG MODE</span>\n            <br />\n\n            <span className={styles.centerTwo}>\n              Press the [<strong>SPACEBAR</strong>] to skip to next section.\n            </span>\n          </p>\n        </div>\n      );\n    }\n\n    return (\n      <div className={styles.cockpit}>\n        <span className={styles.astro1}>\n          <img src={this.state.img_astrodude1} alt=\"astrodude\" />\n        </span>\n        <div className={styles.textblock}>{text}</div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(TrainingIntro);\n"]},"metadata":{},"sourceType":"module"}