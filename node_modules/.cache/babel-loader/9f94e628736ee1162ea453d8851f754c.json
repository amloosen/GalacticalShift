{"ast":null,"code":"var _jsxFileName = \"/Users/alisaloosen/Documents/GitHub/galactical-shift-task/src/Components/PathTask.js\";\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { DATABASE_URL } from \"./config\";\nimport styles from \"./style/taskStyle.module.css\"; /////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// GLOBAL FUNCTIONS\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction shuffle(array) {\n  var currentIndex = array.length,\n      temporaryValue,\n      randomIndex; // While there remain elements to shuffle...\n\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1; // And swap it with the current element.\n\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n} // vector of random numbers within a range\n\n\nfunction randVec(num, min, max) {\n  var arr = [];\n\n  while (arr.length < num) {\n    var minT = Math.ceil(min);\n    var maxT = Math.floor(max);\n    var r = Math.floor(Math.random() * (maxT - minT + 1)) + minT;\n    arr.push(r);\n  }\n\n  return arr;\n}\n\nfunction getRandomInt(min, max) {\n  const minimum = Math.ceil(min);\n  const maximum = Math.floor(max);\n  return Math.floor(Math.random() * (maximum - minimum + 1)) + minimum;\n}\n\nfunction randNumExceptArray(min, max, excludeArrayNumbers) {\n  let randomNumber;\n\n  if (!Array.isArray(excludeArrayNumbers)) {\n    randomNumber = getRandomInt(min, max);\n    return randomNumber;\n  }\n\n  do {\n    randomNumber = getRandomInt(min, max);\n  } while ((excludeArrayNumbers || []).includes(randomNumber));\n\n  return randomNumber;\n} /////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n\n\nvar pathForceExplore = [1, 2, 3, 1, 2, 3];\nvar trialTotal = pathForceExplore.length;\nvar pathTotal = trialTotal / 3;\nvar stateIndx = [0, 1, 2, 3, 4, 5, 6, 7, 8];\nvar pathOne = [0, 1, 2];\nvar pathTwo = [3, 4, 5];\nvar pathThree = [6, 7, 8]; /////////////////////////\n\nvar trialtestPath = [1, 1, 2, 2, 3, 3];\nshuffle(trialtestPath);\nvar trialTestTotal = trialtestPath.length * 2; //test combinations\n\nvar testOne = [[0, 1], [1, 0], [2, 1], [1, 2]];\nvar testTwo = [[3, 4], [4, 3], [4, 5], [5, 4]];\nvar testThree = [[6, 7], [7, 6], [8, 7], [7, 8]];\nvar testShuff = randVec(trialTestTotal, 1, 4);\nvar testAns1 = randVec(trialTestTotal, 1, 2);\nvar testAns2 = randVec(trialTestTotal, 1, 3); /////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// REACT COMPONENT START\n\nclass PathTask extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._handleInstructKey = event => {\n      var key_pressed; // console.log(\"InstructKey enabled.\");\n\n      switch (event.keyCode) {\n        case 37:\n          //    this is left arrow\n          key_pressed = 4;\n          this.handleInstructLocal(key_pressed);\n          break;\n\n        case 39:\n          //    this is right arrow\n          key_pressed = 5;\n          this.handleInstructLocal(key_pressed);\n          break;\n\n        case 32:\n          //    this is SPACEBAR\n          key_pressed = 10;\n          this.handleInstructLocal(key_pressed);\n          break;\n\n        default:\n      }\n    };\n\n    this._handleTaskKey = event => {\n      var pressed;\n      var time_pressed;\n\n      switch (event.keyCode) {\n        case 49:\n          pressed = 1;\n          time_pressed = Math.round(performance.now());\n          this.taskCheck(pressed, time_pressed);\n          break;\n\n        case 50:\n          pressed = 2;\n          time_pressed = Math.round(performance.now());\n          this.taskCheck(pressed, time_pressed);\n          break;\n\n        case 51:\n          pressed = 3;\n          time_pressed = Math.round(performance.now());\n          this.taskCheck(pressed, time_pressed);\n          break;\n\n        case 97:\n          pressed = 1;\n          time_pressed = Math.round(performance.now());\n          this.taskCheck(pressed, time_pressed);\n          break;\n\n        case 98:\n          pressed = 2;\n          time_pressed = Math.round(performance.now());\n          this.taskCheck(pressed, time_pressed);\n          break;\n\n        case 99:\n          pressed = 3;\n          time_pressed = Math.round(performance.now());\n          this.taskCheck(pressed, time_pressed);\n          break;\n\n        default:\n      }\n    };\n\n    this._handleTestKey = event => {\n      var pressed;\n      var time_pressed;\n\n      switch (event.keyCode) {\n        case 49:\n          pressed = 1;\n          time_pressed = Math.round(performance.now());\n          this.testCheck(pressed, time_pressed);\n          break;\n\n        case 50:\n          pressed = 2;\n          time_pressed = Math.round(performance.now());\n          this.testCheck(pressed, time_pressed);\n          break;\n\n        case 51:\n          pressed = 3;\n          time_pressed = Math.round(performance.now());\n          this.testCheck(pressed, time_pressed);\n          break;\n\n        case 97:\n          pressed = 1;\n          time_pressed = Math.round(performance.now());\n          this.testCheck(pressed, time_pressed);\n          break;\n\n        case 98:\n          pressed = 2;\n          time_pressed = Math.round(performance.now());\n          this.testCheck(pressed, time_pressed);\n          break;\n\n        case 99:\n          pressed = 3;\n          time_pressed = Math.round(performance.now());\n          this.testCheck(pressed, time_pressed);\n          break;\n\n        case 32:\n          //this is SPACEBAR\n          pressed = 10;\n          time_pressed = Math.round(performance.now());\n          this.testCheck(pressed, time_pressed);\n          break;\n\n        default:\n      }\n    };\n\n    this._handleDebugKey = event => {\n      var pressed;\n\n      switch (event.keyCode) {\n        case 32:\n          //    this is SPACEBAR\n          pressed = 10;\n          this.handleDebugKeyLocal(pressed);\n          break;\n\n        default:\n      }\n    };\n\n    const userID = this.props.location.state.userID;\n    const date = this.props.location.state.date;\n    const startTime = this.props.location.state.startTime;\n    const shuttlePic = this.props.location.state.shuttlePic;\n    const shuttleWord = this.props.location.state.shuttleWord;\n    const img_fix = this.props.location.state.img_fix;\n    const img_astrodude1 = this.props.location.state.img_astrodude1;\n    const img_astrodude2 = this.props.location.state.img_astrodude2;\n    const img_astrodude3 = this.props.location.state.img_astrodude3;\n    const img_counter = this.props.location.state.img_counter;\n    const img_coinSmall = this.props.location.state.img_coinSmall;\n    const img_coin = this.props.location.state.img_coin;\n    const img_pathInstruct1 = this.props.location.state.img_pathInstruct1;\n    const stateHolder = this.props.location.state.stateHolder;\n    const statePic = this.props.location.state.statePic;\n    const stateWord = this.props.location.state.stateWord;\n    const outcomePic = this.props.location.state.outcomePic;\n    const outcomeWord = this.props.location.state.outcomeWord;\n    const outcomeVal = this.props.location.state.outcomeVal;\n    const outcomeIndx = this.props.location.state.outcomeIndx;\n    var currentDate = new Date(); // maybe change to local\n\n    var timeString = currentDate.toTimeString(); /////////////////////////////////////////////////////////////////////////////////\n    // SET COMPONENT STATES\n\n    this.state = {\n      userID: userID,\n      date: date,\n      startTime: startTime,\n      sectionTime: timeString,\n      taskSessionTry: 1,\n      //if fail the quiz\n      taskSession: \"PathTask\",\n      instructScreenText: 1,\n      taskSection: \"explore\",\n      //vs test\n      shuttlePic: shuttlePic,\n      shuttleWord: shuttleWord,\n      img_fix: img_fix,\n      img_astrodude1: img_astrodude1,\n      img_astrodude2: img_astrodude2,\n      img_astrodude3: img_astrodude3,\n      img_counter: img_counter,\n      img_coinSmall: img_coinSmall,\n      img_coin: img_coin,\n      img_pathInstruct1: img_pathInstruct1,\n      stateHolder: stateHolder,\n      outcomePic: outcomePic,\n      outcomeWord: outcomeWord,\n      outcomeVal: outcomeVal,\n      outcomeIndx: outcomeIndx,\n      instructScreen: true,\n      taskScreen: false,\n      testScreen: false,\n      stateWord: stateWord,\n      statePic: statePic,\n      stateIndx: stateIndx,\n      stateNum: 0,\n      stateShown: null,\n      stateDur: 2000,\n      fixDur: 250,\n      pathTotal: pathTotal,\n      pathForceExplore: pathForceExplore,\n      pathOne: pathOne,\n      pathTwo: pathTwo,\n      pathThree: pathThree,\n      trialNum: 1,\n      trialTotal: trialTotal,\n      trialTime: 0,\n      trialRT: 0,\n      trialKeypress: 0,\n      trialCor1Log: [],\n      trialScore1: 0,\n      trialCor2Log: [],\n      trialScore2: 0,\n      trialtestPath: trialtestPath,\n      trialTestNum: 1,\n      trialTestTotal: 6,\n      testOne: testOne,\n      testTwo: testTwo,\n      testThree: testThree,\n      testShuff: testShuff,\n      testAns1: testAns1,\n      testAns2: testAns2,\n      trialPart: 1,\n      whichQn: null,\n      whichQnNot: null,\n      whichQnNot2: null,\n      whichQnNot3: null,\n      pathPlay: false,\n      debug: false,\n      //if true, will skip the section\n      percentPass: 0.75\n    };\n    this.handleInstructLocal = this.handleInstructLocal.bind(this);\n    this.handleDebugKeyLocal = this.handleDebugKeyLocal.bind(this);\n    this.testStart = this.testStart.bind(this);\n    this.taskStart = this.taskStart.bind(this);\n    this.testCheck = this.testCheck.bind(this);\n    this.taskCheck = this.taskCheck.bind(this);\n    /* prevents page from going down when space bar is hit .*/\n\n    window.addEventListener(\"keydown\", function (e) {\n      if (e.keyCode === 32 && e.target === document.body) {\n        e.preventDefault();\n      }\n    });\n  } /////////////////////////////////////////////////////////////////////////////////\n  // END COMPONENT STATE\n  // This handles instruction screen within the component USING KEYBOARD\n\n\n  handleInstructLocal(key_pressed) {\n    var curText = this.state.instructScreenText;\n    var whichButton = key_pressed;\n\n    if (whichButton === 4) {\n      if (curText > 1 && curText <= 2) {\n        this.setState({\n          instructScreenText: curText - 1\n        });\n      } else if (curText === 3) {\n        //restart path exploration\n        setTimeout(function () {\n          this.missionTwo();\n        }.bind(this), 0);\n      }\n    } else if (whichButton === 5 && curText < 2) {\n      this.setState({\n        instructScreenText: curText + 1\n      });\n    } else if (whichButton === 10) {\n      if (curText === 2 || curText === 4) {\n        //startmissiontwo or //restart path exploration if fail the quiz\n        setTimeout(function () {\n          this.missionTwo();\n        }.bind(this), 0);\n      } else if (curText === 3) {\n        //startmissionOne  after restart\n        // this doesn't work?\n        this.setState({\n          trialPart: 1,\n          trialTestNum: 1\n        });\n        setTimeout(function () {\n          this.setTrialVar();\n        }.bind(this), 0);\n      } else if (curText === 5) {\n        //go next mission\n        setTimeout(function () {\n          this.nextMission();\n        }.bind(this), 0);\n      }\n    }\n  } // handle key key_pressed\n\n\n  handleDebugKeyLocal(pressed) {\n    var whichButton = pressed;\n\n    if (whichButton === 10) {\n      setTimeout(function () {\n        this.nextMission();\n      }.bind(this), 0);\n    }\n  }\n\n  taskCheck(pressed, time_pressed) {\n    var pathChoice = pressed;\n    var trialNum = this.state.trialNum;\n    var trialRT = time_pressed - this.state.trialTime; //this part restricts them from pressing beyond what is shown to them\n    //only if what they press is what is ditacted, then it will move to the next\n\n    if (pathChoice === this.state.pathForceExplore[trialNum - 1]) {\n      this.setState({\n        trialRT: trialRT,\n        pathChoice: pathChoice,\n        pathPlay: true\n      });\n      setTimeout(function () {\n        this.playStateOne();\n      }.bind(this), 0);\n    } else {\n      console.log(\"Choose the correct path.\");\n    }\n  }\n\n  missionTwo() {\n    var trialTime = Math.round(performance.now());\n    this.setState({\n      instructScreen: false,\n      taskScreen: true,\n      trialNum: 1,\n      trialTime: trialTime,\n      trialRT: 0,\n      trialKeypress: 0\n    });\n  }\n\n  taskStart(trialNum) {\n    var pathForceExplore = this.state.pathForceExplore[trialNum - 1];\n    var spaceship1;\n    var spaceship2;\n    var spaceship3;\n    var whichShip;\n\n    if (pathForceExplore === 1) {\n      spaceship1 = styles.spaceship;\n      spaceship2 = styles.spaceshipDis;\n      spaceship3 = styles.spaceshipDis;\n      whichShip = \"A\";\n    } else if (pathForceExplore === 2) {\n      spaceship1 = styles.spaceshipDis;\n      spaceship2 = styles.spaceship;\n      spaceship3 = styles.spaceshipDis;\n      whichShip = \"B\";\n    } else if (pathForceExplore === 3) {\n      spaceship1 = styles.spaceshipDis;\n      spaceship2 = styles.spaceshipDis;\n      spaceship3 = styles.spaceship;\n      whichShip = \"C\";\n    }\n\n    let text = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.counter,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_counter,\n          alt: \"counter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 11\n        }, this), this.state.trialNum, \"/\", this.state.trialTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [\"Let us explore Spaceship \", whichShip, \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: spaceship1,\n            children: \"Spaceship A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 13\n          }, this), \"\\xA0 \\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: spaceship2,\n            children: \"Spaceship B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 13\n          }, this), \"\\xA0 \\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: spaceship3,\n            children: \"Spaceship C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [\"[Press the \", pathForceExplore, \" key.]\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 12\n    }, this);\n  }\n\n  playStateOne() {\n    var statePic;\n    var whichShip;\n\n    if (this.state.pathChoice === 1) {\n      //if choose path 1,\n      statePic = this.state.statePic[this.state.pathOne[0]];\n      whichShip = \"A\";\n    } else if (this.state.pathChoice === 2) {\n      statePic = this.state.statePic[this.state.pathTwo[0]];\n      whichShip = \"B\";\n    } else if (this.state.pathChoice === 3) {\n      statePic = this.state.statePic[this.state.pathThree[0]];\n      whichShip = \"C\";\n    }\n\n    this.setState({\n      stateNum: 1,\n      stateShown: statePic,\n      whichShip: whichShip\n    });\n    setTimeout(function () {\n      this.playFix();\n    }.bind(this), this.state.stateDur);\n  }\n\n  playFix() {\n    this.setState({\n      stateShown: this.state.img_fix\n    });\n\n    if (this.state.stateNum === 1) {\n      setTimeout(function () {\n        this.playStateTwo();\n      }.bind(this), this.state.fixDur);\n    } else if (this.state.stateNum === 2) {\n      setTimeout(function () {\n        this.playStateThree();\n      }.bind(this), this.state.fixDur);\n    }\n  }\n\n  playStateTwo() {\n    var statePic;\n\n    if (this.state.pathChoice === 1) {\n      //if choose path 1,\n      statePic = this.state.statePic[this.state.pathOne[1]];\n    } else if (this.state.pathChoice === 2) {\n      statePic = this.state.statePic[this.state.pathTwo[1]];\n    } else if (this.state.pathChoice === 3) {\n      statePic = this.state.statePic[this.state.pathThree[1]];\n    }\n\n    this.setState({\n      stateNum: 2,\n      stateShown: statePic\n    });\n    setTimeout(function () {\n      this.playFix();\n    }.bind(this), this.state.stateDur);\n  }\n\n  playStateThree() {\n    var statePic;\n\n    if (this.state.pathChoice === 1) {\n      //if choose path 1,\n      statePic = this.state.statePic[this.state.pathOne[2]];\n    } else if (this.state.pathChoice === 2) {\n      statePic = this.state.statePic[this.state.pathTwo[2]];\n    } else if (this.state.pathChoice === 3) {\n      statePic = this.state.statePic[this.state.pathThree[2]];\n    }\n\n    this.setState({\n      stateNum: 3,\n      stateShown: statePic\n    });\n    setTimeout(function () {\n      this.taskSave();\n    }.bind(this), 0);\n  }\n\n  taskSave() {\n    var userID = this.state.userID;\n    var trialPicIndx;\n    var trialPicWord;\n\n    if (this.state.pathChoice === 1) {\n      trialPicIndx = this.state.pathOne;\n      trialPicWord = [this.state.stateWord[0], this.state.stateWord[1], this.state.stateWord[2]];\n    } else if (this.state.pathChoice === 2) {\n      trialPicIndx = this.state.pathTwo;\n      trialPicWord = [this.state.stateWord[3], this.state.stateWord[4], this.state.stateWord[5]];\n    } else if (this.state.pathChoice === 3) {\n      trialPicIndx = this.state.pathThree;\n      trialPicWord = [this.state.stateWord[6], this.state.stateWord[7], this.state.stateWord[8]];\n    }\n\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      sectionTime: this.state.sectionTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      taskSection: this.state.taskSection,\n      //the explore or the test?\n      trialTime: this.state.trialTime,\n      trialNum: this.state.trialNum,\n      trialPart: null,\n      trialPicIndx: trialPicIndx,\n      //this should be which path\n      trialPicWord: trialPicWord,\n      trialQn: null,\n      trialPicAns: null,\n      trialRT: this.state.trialRT,\n      trialKeypress: this.state.pathChoice,\n      //which path they chose to go\n      trialCor: null,\n      trialScore: null\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/path_test/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(saveString)\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n\n    setTimeout(function () {\n      this.cueScreen();\n    }.bind(this), this.state.stateDur);\n  }\n\n  cueScreen() {\n    var trialTime = Math.round(performance.now());\n    var trialNum = this.state.trialNum + 1;\n    this.setState({\n      pathPlay: false,\n      trialNum: trialNum,\n      trialTime: trialTime\n    });\n  }\n\n  finishForcedPathPlay() {\n    this.setState({\n      instructScreen: true,\n      taskScreen: false,\n      instructScreenText: 3\n    });\n  }\n\n  missionTwoTest() {\n    this.setState({\n      instructScreen: false,\n      testScreen: true,\n      taskSection: \"test\",\n      instructScreenText: 3,\n      trialTestNum: 1,\n      trialPart: 1,\n      trialRT: 0,\n      trialKeypress: 0,\n      trialCor1Log: [],\n      trialScore1: 0,\n      trialCor2Log: [],\n      trialScore2: 0\n    });\n  }\n\n  setTrialVar() {\n    // document.removeEventListener(\"keyup\", this._handleInstructKey);\n    console.log(\"Set Trial Var.\");\n    var whichPath = this.state.trialtestPath[this.state.trialTestNum - 1]; // I save these to state.props so that I dont re-run the functions in the later parts\n\n    var whichQn = this.state.whichQn;\n    var whichCombi = this.state.testShuff[whichPath - 1];\n    var whichQnNot = null;\n    var whichShip = null;\n\n    if (whichPath === 1) {\n      ///this.state.testOne - combinations e.g [1,0] [0,1] [1,2] [2,1]\n      whichQn = this.state.testOne[whichCombi - 1];\n      whichQnNot = randNumExceptArray(0, 8, this.state.pathOne); //none of the other states of the path should be the other option\n\n      whichShip = \"A\";\n    } else if (whichPath === 2) {\n      //this.state.testTwo - combinations e.g [3,4] [4,3] [5,4] [4,5]\n      whichQn = this.state.testTwo[whichCombi - 1];\n      whichQnNot = randNumExceptArray(0, 8, this.state.pathTwo);\n      whichShip = \"B\";\n    } else if (whichPath === 3) {\n      //this.state.testThree - combinations e.g [6,7] [7,6] [7,8] [8,7]\n      whichQn = this.state.testThree[whichCombi - 1]; //e.g.[6,7]\n\n      whichQnNot = randNumExceptArray(0, 8, this.state.pathThree);\n      whichShip = \"C\";\n    } // console.log(\"whichQn: \" + whichQn);\n    // console.log(\"whichQnNot: \" + whichQnNot);\n    /// FOR PART TWO\n\n\n    var whichQnNotArray1 = [whichQnNot, whichQn[0], whichQn[1]];\n    var whichQnNot2 = randNumExceptArray(0, 8, whichQnNotArray1); //any option but answer 2\n\n    var whichQnNotArray2 = [whichQnNot, whichQn[0], whichQn[1], whichQnNot2];\n    var whichQnNot3 = randNumExceptArray(0, 8, whichQnNotArray2); //any option but answer 2 and prev alt. answer\n\n    this.setState({\n      whichQn: whichQn,\n      whichQnNot: whichQnNot,\n      whichQnNot2: whichQnNot2,\n      whichQnNot3: whichQnNot3,\n      whichShip: whichShip\n    });\n\n    if (this.state.trialTestNum === 1) {\n      // start the test\n      setTimeout(function () {\n        this.missionTwoTest();\n      }.bind(this), 0);\n    }\n  } ///////////// test their memory\n\n\n  testStart(trialTestNum, trialPart) {\n    // var whichPath = this.state.trialtestPath[trialTestNum - 1];\n    var whichShip = this.state.whichShip;\n    var testAns1 = this.state.testAns1[trialTestNum - 1];\n    var testAns2 = this.state.testAns2[trialTestNum - 1]; // I save these to state.props so that I dont re-run the functions in the later parts\n\n    var whichQn = this.state.whichQn;\n    var whichQnNot = this.state.whichQnNot;\n    var whichQnNot2 = this.state.whichQnNot2;\n    var whichQnNot3 = this.state.whichQnNot3;\n    var statePic1;\n    var statePic2;\n    var state2Pic1;\n    var state2Pic2;\n    var state2Pic3;\n    var stateClass1;\n    var stateClass2;\n    var state2Class1;\n    var state2Class2;\n    var state2Class3;\n    var partBeforeAfter;\n    var trialFb1;\n    var trialFb2;\n\n    if (testAns1 === 1) {\n      statePic1 = this.state.statePic[whichQn[0]]; //this will be 6\n\n      statePic2 = this.state.statePic[whichQnNot];\n\n      if (this.state.trialCor1 === 1) {\n        stateClass1 = styles.stateBorder;\n        stateClass2 = styles.stateFade;\n      } else {\n        stateClass1 = styles.stateBorder;\n        stateClass2 = styles.stateFadeBorder;\n      }\n    } else if (testAns1 === 2) {\n      statePic1 = this.state.statePic[whichQnNot];\n      statePic2 = this.state.statePic[whichQn[0]];\n\n      if (this.state.trialCor1 === 1) {\n        stateClass1 = styles.stateFade;\n        stateClass2 = styles.stateBorder;\n      } else {\n        stateClass1 = styles.stateFadeBorder;\n        stateClass2 = styles.stateBorder;\n      }\n    }\n\n    if (testAns2 === 1) {\n      state2Pic1 = this.state.statePic[whichQn[1]];\n      state2Pic2 = this.state.statePic[whichQnNot2];\n      state2Pic3 = this.state.statePic[whichQnNot3];\n\n      if (this.state.trialCor2 === 1) {\n        state2Class1 = styles.stateBorder;\n        state2Class2 = styles.stateFade;\n        state2Class3 = styles.stateFade;\n      } else if (this.state.trialCor2 === 0 && this.state.trialKeypress === 2) {\n        state2Class1 = styles.stateBorder;\n        state2Class2 = styles.stateFadeBorder;\n        state2Class3 = styles.stateFade;\n      } else if (this.state.trialCor2 === 0 && this.state.trialKeypress === 3) {\n        state2Class1 = styles.stateBorder;\n        state2Class2 = styles.stateFade;\n        state2Class3 = styles.stateFadeBorder;\n      }\n    } else if (testAns2 === 2) {\n      state2Pic1 = this.state.statePic[whichQnNot2];\n      state2Pic2 = this.state.statePic[whichQn[1]];\n      state2Pic3 = this.state.statePic[whichQnNot3];\n\n      if (this.state.trialCor2 === 1) {\n        state2Class1 = styles.stateFade;\n        state2Class2 = styles.stateBorder;\n        state2Class3 = styles.stateFade;\n      } else if (this.state.trialCor2 === 0 && this.state.trialKeypress === 1) {\n        state2Class1 = styles.stateFadeBorder;\n        state2Class2 = styles.stateBorder;\n        state2Class3 = styles.stateFade;\n      } else if (this.state.trialCor2 === 0 && this.state.trialKeypress === 3) {\n        state2Class1 = styles.stateFade;\n        state2Class2 = styles.stateBorder;\n        state2Class3 = styles.stateFadeBorder;\n      }\n    } else if (testAns2 === 3) {\n      state2Pic1 = this.state.statePic[whichQnNot2];\n      state2Pic2 = this.state.statePic[whichQnNot3];\n      state2Pic3 = this.state.statePic[whichQn[1]];\n\n      if (this.state.trialCor2 === 1) {\n        state2Class1 = styles.stateFade;\n        state2Class2 = styles.stateFade;\n        state2Class3 = styles.stateBorder;\n      } else if (this.state.trialCor2 === 0 && this.state.trialKeypress === 1) {\n        state2Class1 = styles.stateFadeBorder;\n        state2Class2 = styles.stateFade;\n        state2Class3 = styles.stateBorder;\n      } else if (this.state.trialCor2 === 0 && this.state.trialKeypress === 2) {\n        state2Class1 = styles.stateFade;\n        state2Class2 = styles.stateFadeBorder;\n        state2Class3 = styles.stateBorder;\n      }\n    }\n\n    if (whichQn[0] > whichQn[1]) {\n      //if 1 > 0\n      //What is before this state\n      partBeforeAfter = \"BEFORE\";\n    } else {\n      //What is after this state\n      partBeforeAfter = \"AFTER\";\n    }\n\n    if (this.state.trialCor1 === 1) {\n      trialFb1 = \"Correct!\";\n    } else {\n      trialFb1 = \"Incorrect. This is the correct room.\";\n    }\n\n    if (this.state.trialCor2 === 1) {\n      trialFb2 = \"Correct!\";\n    } else {\n      trialFb2 = \"Incorrect. This is the correct room.\";\n    }\n\n    let text1 = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.counter,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_counter,\n          alt: \"counter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 923,\n          columnNumber: 11\n        }, this), this.state.trialTestNum, \"/\", this.state.trialTestTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 922,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.center,\n          children: [\"You are in Spaceship \", whichShip, \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 931,\n          columnNumber: 11\n        }, this), \"Which room will you encounter?\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 935,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 937,\n            columnNumber: 14\n          }, this), \"]:\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: styles.state,\n            src: statePic1,\n            alt: \"state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 938,\n            columnNumber: 13\n          }, this), \"\\xA0\\xA0\\xA0\\xA0 [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 939,\n            columnNumber: 39\n          }, this), \"]:\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: styles.state,\n            src: statePic2,\n            alt: \"state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 940,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 936,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: \"[Press the correct number key.]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 942,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 930,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 921,\n      columnNumber: 7\n    }, this);\n\n    let text2 = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.counter,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_counter,\n          alt: \"counter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 952,\n          columnNumber: 11\n        }, this), this.state.trialTestNum, \"/\", this.state.trialTestTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 951,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.center,\n          children: [\"You are in Spaceship \", whichShip, \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 960,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: trialFb1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 963,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: stateClass1,\n            src: statePic1,\n            alt: \"state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 965,\n            columnNumber: 13\n          }, this), \"\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: stateClass2,\n            src: statePic2,\n            alt: \"state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 967,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 964,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [\"Which room comes \", partBeforeAfter, \" the room above?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 969,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 973,\n            columnNumber: 14\n          }, this), \"]:\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: styles.state,\n            src: state2Pic1,\n            alt: \"state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 974,\n            columnNumber: 13\n          }, this), \"\\xA0\\xA0\\xA0\\xA0 [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 975,\n            columnNumber: 39\n          }, this), \"]:\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: styles.state,\n            src: state2Pic2,\n            alt: \"state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 976,\n            columnNumber: 13\n          }, this), \"\\xA0\\xA0\\xA0\\xA0 [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 977,\n            columnNumber: 39\n          }, this), \"]:\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: styles.state,\n            src: state2Pic3,\n            alt: \"state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 978,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 972,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: \"[Press the correct number key.]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 980,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 959,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 950,\n      columnNumber: 7\n    }, this);\n\n    let text3 = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.counter,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_counter,\n          alt: \"counter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 990,\n          columnNumber: 11\n        }, this), this.state.trialTestNum, \"/\", this.state.trialTestTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 989,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.center,\n          children: [\"You are in Spaceship \", whichShip, \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 998,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1001,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: stateClass1,\n            src: statePic1,\n            alt: \"state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1003,\n            columnNumber: 13\n          }, this), \"\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: stateClass2,\n            src: statePic2,\n            alt: \"state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1005,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1002,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [\"Which room comes \", partBeforeAfter, \" the room above?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1007,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1011,\n            columnNumber: 14\n          }, this), \"]:\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: state2Class1,\n            src: state2Pic1,\n            alt: \"state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1012,\n            columnNumber: 13\n          }, this), \"\\xA0\\xA0\\xA0\\xA0 [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1013,\n            columnNumber: 39\n          }, this), \"]:\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: state2Class2,\n            src: state2Pic2,\n            alt: \"state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1014,\n            columnNumber: 13\n          }, this), \"\\xA0\\xA0\\xA0\\xA0 [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1015,\n            columnNumber: 39\n          }, this), \"]:\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: state2Class3,\n            src: state2Pic3,\n            alt: \"state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1016,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1010,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: trialFb2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1018,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1019,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [\"Press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"SPACEBAR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1021,\n            columnNumber: 24\n          }, this), \"] to continue.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1020,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 997,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 988,\n      columnNumber: 7\n    }, this);\n\n    switch (trialPart) {\n      case 1:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: text1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1029,\n          columnNumber: 16\n        }, this);\n\n      case 2:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: text2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1031,\n          columnNumber: 16\n        }, this);\n\n      case 3:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: text3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1033,\n          columnNumber: 16\n        }, this);\n\n      default:\n    }\n  } // function to go to next quiz question and check score\n\n\n  testCheck(pressed, time_pressed) {\n    var trialTime = time_pressed;\n    var trialRT = time_pressed - this.state.trialTime;\n    var testChoice = pressed;\n    var trialCor1 = null;\n    var trialCor2 = null;\n    var trialTestNum = this.state.trialTestNum;\n    var trialCor1Log = this.state.trialCor1Log; //[1,1,1,0...]\n\n    var trialScore1 = this.state.trialScore1; //sum of the correct answers\n\n    var trialCor2Log = this.state.trialCor2Log; //[1,1,1,0...]\n\n    var trialScore2 = this.state.trialScore2; //sum of the correct answers\n\n    if (this.state.trialPart === 1 && (testChoice === 1 || testChoice === 2)) {\n      // only choice 1 or 2\n      // console.log(\"Trial Part 3\");\n      var testAns1 = this.state.testAns1[this.state.trialTestNum - 1];\n\n      if (testChoice === testAns1) {\n        trialCor1 = 1;\n        trialCor1Log[trialTestNum - 1] = 1;\n        trialScore1 = trialScore1 + 1;\n      } else {\n        trialCor1 = 0;\n        trialCor1Log[trialTestNum - 1] = 0;\n      }\n\n      this.setState({\n        trialTime: trialTime,\n        trialKeypress: testChoice,\n        trialCor1: trialCor1,\n        trialRT: trialRT,\n        trialCor1Log: trialCor1Log,\n        trialScore1: trialScore1\n      });\n      setTimeout(function () {\n        this.testSave();\n      }.bind(this), 10);\n    } else if (this.state.trialPart === 2 && (testChoice === 1 || testChoice === 2 || testChoice === 3)) {\n      // console.log(\"Trial Part 2\");\n      var testAns2 = this.state.testAns2[this.state.trialTestNum - 1];\n\n      if (testChoice === testAns2) {\n        trialCor2 = 1;\n        trialCor2Log[trialTestNum - 1] = 1;\n        trialScore2 = trialScore2 + 1;\n      } else {\n        trialCor2 = 0;\n        trialCor2Log[trialTestNum - 1] = 0;\n      }\n\n      this.setState({\n        trialTime: trialTime,\n        trialKeypress: testChoice,\n        trialCor2: trialCor2,\n        trialRT: trialRT,\n        trialCor2Log: trialCor2Log,\n        trialScore2: trialScore2\n      });\n      setTimeout(function () {\n        this.testSave();\n      }.bind(this), 10);\n    } else if (this.state.trialPart === 3 && testChoice === 10) {\n      // console.log(\"Trial Save and go to next trial.\");\n      trialTestNum = trialTestNum + 1;\n      this.setState({\n        trialTime: trialTime,\n        trialPart: 1,\n        trialTestNum: trialTestNum,\n        trialCor1: trialCor1,\n        trialCor2: trialCor2\n      });\n      setTimeout(function () {\n        this.setTrialVar();\n      }.bind(this), 0);\n    } else {// console.log(\"THERE SHOULD NOT BE ANY CHANGE HERE----\");\n    }\n  }\n\n  testSave() {\n    var trialCor;\n    var trialPicIndx;\n    var trialPicWord;\n    var testAns;\n    var partBeforeAfter;\n    var trialTestNum = this.state.trialTestNum;\n    var testAns1 = this.state.testAns1[trialTestNum - 1];\n    var testAns2 = this.state.testAns2[trialTestNum - 1]; // I save these to state.props so that I dont re-run the functions in the later parts\n\n    var whichQn = this.state.whichQn;\n    var whichQnNot = this.state.whichQnNot;\n    var whichQnNot2 = this.state.whichQnNot2;\n    var whichQnNot3 = this.state.whichQnNot3;\n\n    if (this.state.trialPart === 1) {\n      trialCor = this.state.trialCor1;\n\n      if (testAns1 === 1) {\n        trialPicIndx = [whichQn[0], whichQnNot];\n        trialPicWord = [this.state.stateWord[whichQn[0]], this.state.stateWord[whichQnNot]];\n      } else if (testAns1 === 2) {\n        trialPicIndx = [whichQnNot, whichQn[0]];\n        trialPicWord = [this.state.stateWord[whichQnNot], this.state.stateWord[whichQn[0]]];\n      }\n\n      testAns = this.state.testAns1[this.state.trialTestNum - 1];\n      partBeforeAfter = \"ROOM\";\n    } else if (this.state.trialPart === 2) {\n      trialCor = this.state.trialCor2;\n\n      if (testAns2 === 1) {\n        trialPicIndx = [whichQn[1], whichQnNot2, whichQnNot3];\n        trialPicWord = [this.state.stateWord[whichQn[1]], this.state.stateWord[whichQnNot2], this.state.stateWord[whichQnNot3]];\n      } else if (testAns2 === 2) {\n        trialPicIndx = [whichQnNot2, whichQn[1], whichQnNot3];\n        trialPicWord = [this.state.stateWord[whichQnNot2], this.state.stateWord[whichQn[1]], this.state.stateWord[whichQnNot3]];\n      } else if (testAns2 === 3) {\n        trialPicIndx = [whichQnNot2, whichQnNot3, whichQn[1]];\n        trialPicWord = [this.state.stateWord[whichQnNot2], this.state.stateWord[whichQnNot3], this.state.stateWord[whichQn[1]]];\n      }\n\n      testAns = this.state.testAns2[this.state.trialTestNum - 1];\n\n      if (whichQn[0] > whichQn[1]) {\n        partBeforeAfter = \"BEFORE\";\n      } else {\n        partBeforeAfter = \"AFTER\";\n      }\n    }\n\n    var userID = this.state.userID;\n    var trialScore = this.state.trialScore1 + this.state.trialScore2;\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      sectionTime: this.state.sectionTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      taskSection: this.state.taskSection,\n      trialTime: this.state.trialTime,\n      //the explore or the test?\n      trialNum: this.state.trialTestNum,\n      trialPart: this.state.trialPart,\n      //is it question a or b\n      trialPicIndx: trialPicIndx,\n      trialPicWord: trialPicWord,\n      trialQn: partBeforeAfter,\n      trialPicAns: testAns,\n      trialRT: this.state.trialRT,\n      trialKeypress: this.state.trialKeypress,\n      trialCor: trialCor,\n      trialScore: trialScore\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/path_test/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(saveString)\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n\n    setTimeout(function () {\n      this.testTrialSectNext();\n    }.bind(this), 0);\n  }\n\n  testTrialSectNext() {\n    var trialPart = this.state.trialPart + 1;\n    this.setState({\n      trialPart: trialPart\n    });\n  }\n\n  missionTwoRestart() {\n    //resetVariables\n    var taskSessionTry = this.state.taskSessionTry + 1;\n    this.setState({\n      taskSessionTry: taskSessionTry,\n      taskSection: \"explore\",\n      instructScreen: true,\n      testScreen: false,\n      instructScreenText: 4\n    }); //send the outcomeTask conditions?\n\n    setTimeout(function () {\n      this.condSave();\n    }.bind(this), 0);\n  }\n\n  passTest() {\n    this.setState({\n      instructScreen: true,\n      testScreen: false,\n      instructScreenText: 5\n    });\n  }\n\n  nextMission() {\n    document.removeEventListener(\"keyup\", this._handleInstructKey);\n    document.removeEventListener(\"keyup\", this._handleDebugKey);\n    this.props.history.push({\n      pathname: `/TutorTask`,\n      state: {\n        userID: this.state.userID,\n        date: this.state.date,\n        startTime: this.state.startTime,\n        outcomePic: this.state.outcomePic,\n        outcomeWord: this.state.outcomeWord,\n        outcomeVal: this.state.outcomeVal,\n        outcomeIndx: this.state.outcomeIndx,\n        stateWord: this.state.stateWord,\n        statePic: this.state.statePic,\n        stateIndx: this.state.stateIndx,\n        pathOne: this.state.pathOne,\n        pathTwo: this.state.pathTwo,\n        pathThree: this.state.pathThree,\n        shuttlePic: this.state.shuttlePic,\n        shuttleWord: this.state.shuttleWord,\n        img_fix: this.state.img_fix,\n        img_astrodude1: this.state.img_astrodude1,\n        img_astrodude2: this.state.img_astrodude2,\n        img_astrodude3: this.state.img_astrodude3,\n        img_counter: this.state.img_counter,\n        img_coinSmall: this.state.img_coinSmall,\n        img_coin: this.state.img_coin,\n        img_pathInstruct1: this.state.img_pathInstruct1,\n        stateHolder: this.state.stateHolder\n      }\n    });\n  }\n\n  condSave() {\n    var userID = this.state.userID;\n    var currentDate = new Date(); // maybe change to local\n\n    var sectionTime = currentDate.toTimeString();\n    var trialTime = Math.round(performance.now());\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      // this is when they start the expt\n      sectionTime: sectionTime,\n      //this is if they somehow refresh the page...\n      trialTime: trialTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      structNum: null,\n      outcomeWord: null,\n      outcomeVal: null,\n      outcomeIndx: null,\n      stateWord: this.state.stateWord,\n      stateIndx: this.state.stateIndx,\n      pathOne: this.state.pathOne,\n      pathTwo: this.state.pathTwo,\n      pathThree: this.state.pathThree,\n      tutForcedPaths: null,\n      tutSafePathOutcome: null,\n      tutRiskyPathOutcome1: null,\n      tutRiskyPathOutcome2: null,\n      tutSafePathProb: null,\n      tutRiskyPathProb1: null,\n      tutRiskyPathProb2: null,\n      tutOptChoice: null,\n      tutForceChoice: null,\n      tutPlanChoice: null,\n      taskSafePathOutcome: null,\n      taskRiskyPathOutcome1: null,\n      taskRiskyPathOutcome2: null,\n      taskSafePathProb: null,\n      taskRiskyPathProb1: null,\n      taskRiskyPathProb2: null,\n      taskOptChoice: null,\n      taskForceChoice: null,\n      taskPlanChoice: null\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/cond_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(saveString)\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0); //send the outcomeTask conditions?\n\n    setTimeout(function () {\n      this.condSave();\n    }.bind(this), 0);\n    setTimeout(function () {\n      this.setState({\n        mounted: 1\n      });\n    }.bind(this), 5000);\n  }\n\n  componentWillUnmount() {\n    // fix Warning: Can't perform a React state update on an unmounted component\n    this.setState = (state, callback) => {\n      return;\n    };\n  } //////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////\n  // render time\n\n\n  render() {\n    let text;\n\n    if (this.state.debug === false) {\n      if (this.state.instructScreen === true) {\n        if (this.state.instructScreenText === 1) {\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"TUTORIAL II\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1433,\n                columnNumber: 17\n              }, this), \"The second thing you need to learn is that there are\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"3 different types of spaceships\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1435,\n                columnNumber: 17\n              }, this), \".\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1436,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1436,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Within\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1437,\n                columnNumber: 17\n              }, this), \" each spaceship, there are\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"3 connecting rooms\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1438,\n                columnNumber: 17\n              }, this), \".\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1439,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1440,\n                columnNumber: 17\n              }, this), \"You will have to pass through these connecting rooms to get to the outcome room.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1443,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1443,\n                columnNumber: 24\n              }, this), \"For instance,\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.pathInstruct,\n                  src: this.state.img_pathInstruct1,\n                  alt: \"pathInstruct1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1446,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1445,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1452,\n                columnNumber: 17\n              }, this), \"Similar to the outcome room, each connecting room can be\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"identified by a unique image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1454,\n                columnNumber: 17\n              }, this), \",\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1454,\n                columnNumber: 63\n              }, this), \"which you will have to learn.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1456,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"NEXT \\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1458,\n                  columnNumber: 20\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1457,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1432,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1431,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 2) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"TUTORIAL II\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1467,\n                columnNumber: 17\n              }, this), \"In this tutorial, we will show you the room images of each of the 3 spaceships\\xA0\", this.state.pathTotal, \" times.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1471,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1472,\n                columnNumber: 17\n              }, this), \"Your aim is to memorise the order of rooms in each spaceship.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1474,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1475,\n                columnNumber: 17\n              }, this), \"We will test your memory afterwards.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1477,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"Press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"SPACEBAR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1479,\n                  columnNumber: 30\n                }, this), \"] to start the tutorial.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1478,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u2190 BACK\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1482,\n                  columnNumber: 20\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1481,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1466,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1465,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 3) {\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"TUTORIAL II\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1492,\n                columnNumber: 17\n              }, this), \"Great. To ensure that you have learned the order of the rooms in the three types of spaceships,\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1495,\n                columnNumber: 17\n              }, this), \"we will quiz your memory.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1497,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1498,\n                columnNumber: 17\n              }, this), \"If you feel confident and want to start the quiz, press [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"SPACEBAR\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1500,\n                columnNumber: 17\n              }, this), \"].\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1501,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1501,\n                columnNumber: 24\n              }, this), \"If you are still unsure of the room order, press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u2190\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1503,\n                columnNumber: 17\n              }, this), \"] key to view the room sequence again.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1504,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1504,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"Press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"SPACEBAR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1506,\n                  columnNumber: 30\n                }, this), \"] to start the quiz.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1505,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"Press [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u2190\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1509,\n                  columnNumber: 26\n                }, this), \"] key to view spaceships again.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1508,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1491,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1490,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 4) {\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"TUTORIAL II\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1519,\n                columnNumber: 17\n              }, this), \"Unfortunately you only got\\xA0\", this.state.trialScore1 + this.state.trialScore2, \" /\", this.state.trialTestTotal * 2, \" correct.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1523,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1524,\n                columnNumber: 17\n              }, this), \"Let us revisit the order of the rooms in each spaceship type using the image associated with each room.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1527,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1527,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"Press [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"SPACEBAR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1529,\n                  columnNumber: 26\n                }, this), \"] key to explore the spaceships again.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1528,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1518,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1517,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 5) {\n          // IF YOU PASS THE TEST\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"TUTORIAL II\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1542,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1543,\n                columnNumber: 17\n              }, this), \"Great, you had\\xA0\", this.state.trialScore1 + this.state.trialScore2, \"/\", this.state.trialTestTotal * 2, \"\\xA0correct!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1548,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1548,\n                columnNumber: 24\n              }, this), \"You saw that each of the 3 spaceships have 3 connecting rooms,\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1550,\n                columnNumber: 17\n              }, this), \" and you have learnt the order of the rooms.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1551,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1551,\n                columnNumber: 24\n              }, this), \"In summary,\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1553,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.spaceshipSmall,\n                  children: \"Spaceship A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1555,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[0],\n                  alt: \"statePic1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1556,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[1],\n                  alt: \"statePic2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1562,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[2],\n                  alt: \"statePic3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1568,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1573,\n                  columnNumber: 19\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1573,\n                  columnNumber: 26\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.spaceshipSmall,\n                  children: \"Spaceship B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1574,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[3],\n                  alt: \"statePic4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1575,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[4],\n                  alt: \"statePic5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1581,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[5],\n                  alt: \"statePic6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1587,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1592,\n                  columnNumber: 19\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1592,\n                  columnNumber: 26\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.spaceshipSmall,\n                  children: \"Spaceship C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1593,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[6],\n                  alt: \"statePic7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1594,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[7],\n                  alt: \"statePic8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1600,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[8],\n                  alt: \"statePic9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1606,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1554,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1612,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1612,\n                columnNumber: 24\n              }, this), \"You are ready to move on to the next tutorial.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1614,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1614,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"Press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"SPACEBAR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1616,\n                  columnNumber: 30\n                }, this), \"] to contine.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1615,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1541,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1540,\n            columnNumber: 13\n          }, this);\n        }\n      }\n\n      if (this.state.instructScreen === false) {\n        ///task\n        if (this.state.taskScreen === true) {\n          document.removeEventListener(\"keyup\", this._handleInstructKey);\n          document.addEventListener(\"keyup\", this._handleTaskKey); // exploring the state sequence\n\n          if (this.state.trialNum <= this.state.trialTotal) {\n            if (this.state.pathPlay === false) {\n              text = /*#__PURE__*/_jsxDEV(\"div\", {\n                children: this.taskStart(this.state.trialNum)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1631,\n                columnNumber: 22\n              }, this);\n            } else if (this.state.pathPlay === true) {\n              text = /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.main,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.counter,\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    className: styles.counter,\n                    src: this.state.img_counter,\n                    alt: \"counter\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1636,\n                    columnNumber: 21\n                  }, this), this.state.trialNum, \"/\", this.state.trialTotal]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1635,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: styles.center,\n                    children: [\"Spaceship \", this.state.whichShip]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1644,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: styles.centerTwo,\n                    children: [\"Room \", this.state.stateNum]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1647,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1650,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: styles.stateLarge,\n                    src: this.state.stateShown,\n                    alt: \"state\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1651,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1656,\n                    columnNumber: 21\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1656,\n                    columnNumber: 28\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1643,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1634,\n                columnNumber: 17\n              }, this);\n            }\n          } else {\n            // finish the task\n            document.removeEventListener(\"keyup\", this._handleTaskKey);\n            setTimeout(function () {\n              this.finishForcedPathPlay();\n            }.bind(this), 0);\n          }\n        } else if (this.state.taskScreen === false) {\n          //instruct screen is false, taskscreen is FALSE\n          if (this.state.testScreen === true) {\n            document.removeEventListener(\"keyup\", this._handleInstructKey);\n\n            if (this.state.trialTestNum <= this.state.trialTestTotal) {\n              document.addEventListener(\"keyup\", this._handleTestKey);\n              text = /*#__PURE__*/_jsxDEV(\"div\", {\n                children: this.testStart(this.state.trialTestNum, this.state.trialPart)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1679,\n                columnNumber: 17\n              }, this);\n            } else {\n              //if end the test,\n              document.removeEventListener(\"keyup\", this._handleTestKey);\n\n              if ((this.state.trialScore1 + this.state.trialScore2) / 2 / this.state.trialTestTotal > this.state.percentPass) {\n                //if I pass, move on to the gambling task\n                setTimeout(function () {\n                  this.passTest();\n                }.bind(this), 0);\n              } else {\n                //if I fail, go learn the paths again\n                // send to new instruct screen\n                setTimeout(function () {\n                  this.missionTwoRestart();\n                }.bind(this), 0);\n              }\n            }\n          } else {\n            console.log(\"ERROR - ALL SCREENS ARE FALSE\");\n          }\n        }\n      }\n    } else if (this.state.debug === true) {\n      document.addEventListener(\"keyup\", this._handleDebugKey);\n      text = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.main,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.center,\n            children: \"DEBUG MODE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1723,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1724,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.centerTwo,\n            children: [\"Press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"SPACEBAR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1727,\n              columnNumber: 26\n            }, this), \"] to skip to next section.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1726,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1722,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1721,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.spacebg,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.astro2,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: this.state.img_astrodude2,\n          alt: \"astrodude\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1737,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1736,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.textblock,\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1739,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1735,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(PathTask);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/alisaloosen/Documents/GitHub/galactical-shift-task/src/Components/PathTask.js"],"names":["React","withRouter","DATABASE_URL","styles","shuffle","array","currentIndex","length","temporaryValue","randomIndex","Math","floor","random","randVec","num","min","max","arr","minT","ceil","maxT","r","push","getRandomInt","minimum","maximum","randNumExceptArray","excludeArrayNumbers","randomNumber","Array","isArray","includes","pathForceExplore","trialTotal","pathTotal","stateIndx","pathOne","pathTwo","pathThree","trialtestPath","trialTestTotal","testOne","testTwo","testThree","testShuff","testAns1","testAns2","PathTask","Component","constructor","props","_handleInstructKey","event","key_pressed","keyCode","handleInstructLocal","_handleTaskKey","pressed","time_pressed","round","performance","now","taskCheck","_handleTestKey","testCheck","_handleDebugKey","handleDebugKeyLocal","userID","location","state","date","startTime","shuttlePic","shuttleWord","img_fix","img_astrodude1","img_astrodude2","img_astrodude3","img_counter","img_coinSmall","img_coin","img_pathInstruct1","stateHolder","statePic","stateWord","outcomePic","outcomeWord","outcomeVal","outcomeIndx","currentDate","Date","timeString","toTimeString","sectionTime","taskSessionTry","taskSession","instructScreenText","taskSection","instructScreen","taskScreen","testScreen","stateNum","stateShown","stateDur","fixDur","trialNum","trialTime","trialRT","trialKeypress","trialCor1Log","trialScore1","trialCor2Log","trialScore2","trialTestNum","trialPart","whichQn","whichQnNot","whichQnNot2","whichQnNot3","pathPlay","debug","percentPass","bind","testStart","taskStart","window","addEventListener","e","target","document","body","preventDefault","curText","whichButton","setState","setTimeout","missionTwo","setTrialVar","nextMission","pathChoice","playStateOne","console","log","spaceship1","spaceship2","spaceship3","whichShip","spaceship","spaceshipDis","text","main","counter","centerTwo","playFix","playStateTwo","playStateThree","taskSave","trialPicIndx","trialPicWord","saveString","trialQn","trialPicAns","trialCor","trialScore","fetch","method","headers","Accept","JSON","stringify","cueScreen","finishForcedPathPlay","missionTwoTest","whichPath","whichCombi","whichQnNotArray1","whichQnNotArray2","statePic1","statePic2","state2Pic1","state2Pic2","state2Pic3","stateClass1","stateClass2","state2Class1","state2Class2","state2Class3","partBeforeAfter","trialFb1","trialFb2","trialCor1","stateBorder","stateFade","stateFadeBorder","trialCor2","text1","center","text2","centerThree","text3","testChoice","testSave","testAns","testTrialSectNext","missionTwoRestart","condSave","passTest","removeEventListener","history","pathname","structNum","tutForcedPaths","tutSafePathOutcome","tutRiskyPathOutcome1","tutRiskyPathOutcome2","tutSafePathProb","tutRiskyPathProb1","tutRiskyPathProb2","tutOptChoice","tutForceChoice","tutPlanChoice","taskSafePathOutcome","taskRiskyPathOutcome1","taskRiskyPathOutcome2","taskSafePathProb","taskRiskyPathProb1","taskRiskyPathProb2","taskOptChoice","taskForceChoice","taskPlanChoice","componentDidMount","scrollTo","mounted","componentWillUnmount","callback","render","pathInstruct","spaceshipSmall","stateSmall","stateLarge","spacebg","astro2","textblock"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { DATABASE_URL } from \"./config\";\n\nimport styles from \"./style/taskStyle.module.css\";\n\n/////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// GLOBAL FUNCTIONS\nfunction shuffle(array) {\n  var currentIndex = array.length,\n    temporaryValue,\n    randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\n// vector of random numbers within a range\nfunction randVec(num, min, max) {\n  var arr = [];\n\n  while (arr.length < num) {\n    var minT = Math.ceil(min);\n    var maxT = Math.floor(max);\n    var r = Math.floor(Math.random() * (maxT - minT + 1)) + minT;\n    arr.push(r);\n  }\n  return arr;\n}\n\nfunction getRandomInt(min, max) {\n  const minimum = Math.ceil(min);\n  const maximum = Math.floor(max);\n\n  return Math.floor(Math.random() * (maximum - minimum + 1)) + minimum;\n}\n\nfunction randNumExceptArray(min, max, excludeArrayNumbers) {\n  let randomNumber;\n\n  if (!Array.isArray(excludeArrayNumbers)) {\n    randomNumber = getRandomInt(min, max);\n    return randomNumber;\n  }\n\n  do {\n    randomNumber = getRandomInt(min, max);\n  } while ((excludeArrayNumbers || []).includes(randomNumber));\n\n  return randomNumber;\n}\n\n/////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n\nvar pathForceExplore = [1, 2, 3, 1, 2, 3];\nvar trialTotal = pathForceExplore.length;\nvar pathTotal = trialTotal / 3;\n\nvar stateIndx = [0, 1, 2, 3, 4, 5, 6, 7, 8];\n\nvar pathOne = [0, 1, 2];\nvar pathTwo = [3, 4, 5];\nvar pathThree = [6, 7, 8];\n\n/////////////////////////\n\nvar trialtestPath = [1, 1, 2, 2, 3, 3];\nshuffle(trialtestPath);\nvar trialTestTotal = trialtestPath.length * 2;\n//test combinations\nvar testOne = [\n  [0, 1],\n  [1, 0],\n  [2, 1],\n  [1, 2],\n];\nvar testTwo = [\n  [3, 4],\n  [4, 3],\n  [4, 5],\n  [5, 4],\n];\nvar testThree = [\n  [6, 7],\n  [7, 6],\n  [8, 7],\n  [7, 8],\n];\n\nvar testShuff = randVec(trialTestTotal, 1, 4);\nvar testAns1 = randVec(trialTestTotal, 1, 2);\nvar testAns2 = randVec(trialTestTotal, 1, 3);\n\n/////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// REACT COMPONENT START\nclass PathTask extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const userID = this.props.location.state.userID;\n    const date = this.props.location.state.date;\n    const startTime = this.props.location.state.startTime;\n\n    const shuttlePic = this.props.location.state.shuttlePic;\n    const shuttleWord = this.props.location.state.shuttleWord;\n    const img_fix = this.props.location.state.img_fix;\n    const img_astrodude1 = this.props.location.state.img_astrodude1;\n    const img_astrodude2 = this.props.location.state.img_astrodude2;\n    const img_astrodude3 = this.props.location.state.img_astrodude3;\n    const img_counter = this.props.location.state.img_counter;\n    const img_coinSmall = this.props.location.state.img_coinSmall;\n    const img_coin = this.props.location.state.img_coin;\n    const img_pathInstruct1 = this.props.location.state.img_pathInstruct1;\n    const stateHolder = this.props.location.state.stateHolder;\n    const statePic = this.props.location.state.statePic;\n    const stateWord = this.props.location.state.stateWord;\n    const outcomePic = this.props.location.state.outcomePic;\n    const outcomeWord = this.props.location.state.outcomeWord;\n    const outcomeVal = this.props.location.state.outcomeVal;\n    const outcomeIndx = this.props.location.state.outcomeIndx;\n\n    var currentDate = new Date(); // maybe change to local\n    var timeString = currentDate.toTimeString();\n    /////////////////////////////////////////////////////////////////////////////////\n\n    // SET COMPONENT STATES\n    this.state = {\n      userID: userID,\n      date: date,\n      startTime: startTime,\n      sectionTime: timeString,\n      taskSessionTry: 1, //if fail the quiz\n      taskSession: \"PathTask\",\n      instructScreenText: 1,\n      taskSection: \"explore\", //vs test\n\n      shuttlePic: shuttlePic,\n      shuttleWord: shuttleWord,\n      img_fix: img_fix,\n      img_astrodude1: img_astrodude1,\n      img_astrodude2: img_astrodude2,\n      img_astrodude3: img_astrodude3,\n      img_counter: img_counter,\n      img_coinSmall: img_coinSmall,\n      img_coin: img_coin,\n      img_pathInstruct1: img_pathInstruct1,\n      stateHolder: stateHolder,\n\n      outcomePic: outcomePic,\n      outcomeWord: outcomeWord,\n\n      outcomeVal: outcomeVal,\n      outcomeIndx: outcomeIndx,\n\n      instructScreen: true,\n      taskScreen: false,\n      testScreen: false,\n\n      stateWord: stateWord,\n      statePic: statePic,\n      stateIndx: stateIndx,\n      stateNum: 0,\n      stateShown: null,\n      stateDur: 2000,\n      fixDur: 250,\n\n      pathTotal: pathTotal,\n      pathForceExplore: pathForceExplore,\n      pathOne: pathOne,\n      pathTwo: pathTwo,\n      pathThree: pathThree,\n\n      trialNum: 1,\n      trialTotal: trialTotal,\n      trialTime: 0,\n      trialRT: 0,\n      trialKeypress: 0,\n\n      trialCor1Log: [],\n      trialScore1: 0,\n      trialCor2Log: [],\n      trialScore2: 0,\n\n      trialtestPath: trialtestPath,\n      trialTestNum: 1,\n      trialTestTotal: 6,\n\n      testOne: testOne,\n      testTwo: testTwo,\n      testThree: testThree,\n      testShuff: testShuff,\n\n      testAns1: testAns1,\n      testAns2: testAns2,\n      trialPart: 1,\n\n      whichQn: null,\n      whichQnNot: null,\n      whichQnNot2: null,\n      whichQnNot3: null,\n\n      pathPlay: false,\n\n      debug: false, //if true, will skip the section\n      percentPass: 0.75,\n    };\n\n    this.handleInstructLocal = this.handleInstructLocal.bind(this);\n    this.handleDebugKeyLocal = this.handleDebugKeyLocal.bind(this);\n    this.testStart = this.testStart.bind(this);\n    this.taskStart = this.taskStart.bind(this);\n    this.testCheck = this.testCheck.bind(this);\n    this.taskCheck = this.taskCheck.bind(this);\n\n    /* prevents page from going down when space bar is hit .*/\n    window.addEventListener(\"keydown\", function (e) {\n      if (e.keyCode === 32 && e.target === document.body) {\n        e.preventDefault();\n      }\n    });\n  }\n  /////////////////////////////////////////////////////////////////////////////////\n  // END COMPONENT STATE\n\n  // This handles instruction screen within the component USING KEYBOARD\n  handleInstructLocal(key_pressed) {\n    var curText = this.state.instructScreenText;\n    var whichButton = key_pressed;\n\n    if (whichButton === 4) {\n      if (curText > 1 && curText <= 2) {\n        this.setState({ instructScreenText: curText - 1 });\n      } else if (curText === 3) {\n        //restart path exploration\n        setTimeout(\n          function () {\n            this.missionTwo();\n          }.bind(this),\n          0\n        );\n      }\n    } else if (whichButton === 5 && curText < 2) {\n      this.setState({ instructScreenText: curText + 1 });\n    } else if (whichButton === 10) {\n      if (curText === 2 || curText === 4) {\n        //startmissiontwo or //restart path exploration if fail the quiz\n        setTimeout(\n          function () {\n            this.missionTwo();\n          }.bind(this),\n          0\n        );\n      } else if (curText === 3) {\n        //startmissionOne  after restart\n        // this doesn't work?\n\n        this.setState({\n          trialPart: 1,\n          trialTestNum: 1,\n        });\n\n        setTimeout(\n          function () {\n            this.setTrialVar();\n          }.bind(this),\n          0\n        );\n      } else if (curText === 5) {\n        //go next mission\n        setTimeout(\n          function () {\n            this.nextMission();\n          }.bind(this),\n          0\n        );\n      }\n    }\n  }\n\n  // handle key key_pressed\n  _handleInstructKey = (event) => {\n    var key_pressed;\n\n    // console.log(\"InstructKey enabled.\");\n\n    switch (event.keyCode) {\n      case 37:\n        //    this is left arrow\n        key_pressed = 4;\n        this.handleInstructLocal(key_pressed);\n        break;\n      case 39:\n        //    this is right arrow\n        key_pressed = 5;\n        this.handleInstructLocal(key_pressed);\n        break;\n      case 32:\n        //    this is SPACEBAR\n        key_pressed = 10;\n        this.handleInstructLocal(key_pressed);\n        break;\n      default:\n    }\n  };\n\n  _handleTaskKey = (event) => {\n    var pressed;\n    var time_pressed;\n\n    switch (event.keyCode) {\n      case 49:\n        pressed = 1;\n        time_pressed = Math.round(performance.now());\n        this.taskCheck(pressed, time_pressed);\n\n        break;\n      case 50:\n        pressed = 2;\n        time_pressed = Math.round(performance.now());\n        this.taskCheck(pressed, time_pressed);\n\n        break;\n      case 51:\n        pressed = 3;\n        time_pressed = Math.round(performance.now());\n        this.taskCheck(pressed, time_pressed);\n        break;\n\n      case 97:\n        pressed = 1;\n        time_pressed = Math.round(performance.now());\n        this.taskCheck(pressed, time_pressed);\n        break;\n      case 98:\n        pressed = 2;\n        time_pressed = Math.round(performance.now());\n        this.taskCheck(pressed, time_pressed);\n        break;\n      case 99:\n        pressed = 3;\n        time_pressed = Math.round(performance.now());\n        this.taskCheck(pressed, time_pressed);\n        break;\n\n      default:\n    }\n  };\n\n  _handleTestKey = (event) => {\n    var pressed;\n    var time_pressed;\n\n    switch (event.keyCode) {\n      case 49:\n        pressed = 1;\n        time_pressed = Math.round(performance.now());\n        this.testCheck(pressed, time_pressed);\n        break;\n      case 50:\n        pressed = 2;\n        time_pressed = Math.round(performance.now());\n        this.testCheck(pressed, time_pressed);\n        break;\n      case 51:\n        pressed = 3;\n        time_pressed = Math.round(performance.now());\n        this.testCheck(pressed, time_pressed);\n        break;\n\n      case 97:\n        pressed = 1;\n        time_pressed = Math.round(performance.now());\n        this.testCheck(pressed, time_pressed);\n        break;\n      case 98:\n        pressed = 2;\n        time_pressed = Math.round(performance.now());\n        this.testCheck(pressed, time_pressed);\n        break;\n      case 99:\n        pressed = 3;\n        time_pressed = Math.round(performance.now());\n        this.testCheck(pressed, time_pressed);\n        break;\n\n      case 32: //this is SPACEBAR\n        pressed = 10;\n        time_pressed = Math.round(performance.now());\n        this.testCheck(pressed, time_pressed);\n        break;\n\n      default:\n    }\n  };\n\n  handleDebugKeyLocal(pressed) {\n    var whichButton = pressed;\n\n    if (whichButton === 10) {\n      setTimeout(\n        function () {\n          this.nextMission();\n        }.bind(this),\n        0\n      );\n    }\n  }\n\n  _handleDebugKey = (event) => {\n    var pressed;\n\n    switch (event.keyCode) {\n      case 32:\n        //    this is SPACEBAR\n        pressed = 10;\n        this.handleDebugKeyLocal(pressed);\n        break;\n      default:\n    }\n  };\n\n  taskCheck(pressed, time_pressed) {\n    var pathChoice = pressed;\n    var trialNum = this.state.trialNum;\n    var trialRT = time_pressed - this.state.trialTime;\n\n    //this part restricts them from pressing beyond what is shown to them\n    //only if what they press is what is ditacted, then it will move to the next\n    if (pathChoice === this.state.pathForceExplore[trialNum - 1]) {\n      this.setState({\n        trialRT: trialRT,\n        pathChoice: pathChoice,\n        pathPlay: true,\n      });\n\n      setTimeout(\n        function () {\n          this.playStateOne();\n        }.bind(this),\n        0\n      );\n    } else {\n      console.log(\"Choose the correct path.\");\n    }\n  }\n\n  missionTwo() {\n    var trialTime = Math.round(performance.now());\n    this.setState({\n      instructScreen: false,\n      taskScreen: true,\n      trialNum: 1,\n      trialTime: trialTime,\n      trialRT: 0,\n      trialKeypress: 0,\n    });\n  }\n\n  taskStart(trialNum) {\n    var pathForceExplore = this.state.pathForceExplore[trialNum - 1];\n    var spaceship1;\n    var spaceship2;\n    var spaceship3;\n    var whichShip;\n    if (pathForceExplore === 1) {\n      spaceship1 = styles.spaceship;\n      spaceship2 = styles.spaceshipDis;\n      spaceship3 = styles.spaceshipDis;\n      whichShip = \"A\";\n    } else if (pathForceExplore === 2) {\n      spaceship1 = styles.spaceshipDis;\n      spaceship2 = styles.spaceship;\n      spaceship3 = styles.spaceshipDis;\n      whichShip = \"B\";\n    } else if (pathForceExplore === 3) {\n      spaceship1 = styles.spaceshipDis;\n      spaceship2 = styles.spaceshipDis;\n      spaceship3 = styles.spaceship;\n      whichShip = \"C\";\n    }\n\n    let text = (\n      <div className={styles.main}>\n        <div className={styles.counter}>\n          <img\n            className={styles.counter}\n            src={this.state.img_counter}\n            alt=\"counter\"\n          />\n          {this.state.trialNum}/{this.state.trialTotal}\n        </div>\n        <p>\n          <span className={styles.centerTwo}>\n            Let us explore Spaceship {whichShip}.\n          </span>\n          <br /> <br />\n          <span className={styles.centerTwo}>\n            <span className={spaceship1}>Spaceship A</span>\n            &nbsp; &nbsp;\n            <span className={spaceship2}>Spaceship B</span>\n            &nbsp; &nbsp;\n            <span className={spaceship3}>Spaceship C</span>\n          </span>\n          <br /> <br />\n          <span className={styles.centerTwo}>\n            [Press the {pathForceExplore} key.]\n          </span>\n        </p>\n      </div>\n    );\n\n    return <div>{text}</div>;\n  }\n\n  playStateOne() {\n    var statePic;\n    var whichShip;\n\n    if (this.state.pathChoice === 1) {\n      //if choose path 1,\n      statePic = this.state.statePic[this.state.pathOne[0]];\n      whichShip = \"A\";\n    } else if (this.state.pathChoice === 2) {\n      statePic = this.state.statePic[this.state.pathTwo[0]];\n      whichShip = \"B\";\n    } else if (this.state.pathChoice === 3) {\n      statePic = this.state.statePic[this.state.pathThree[0]];\n      whichShip = \"C\";\n    }\n\n    this.setState({\n      stateNum: 1,\n      stateShown: statePic,\n      whichShip: whichShip,\n    });\n\n    setTimeout(\n      function () {\n        this.playFix();\n      }.bind(this),\n      this.state.stateDur\n    );\n  }\n\n  playFix() {\n    this.setState({\n      stateShown: this.state.img_fix,\n    });\n\n    if (this.state.stateNum === 1) {\n      setTimeout(\n        function () {\n          this.playStateTwo();\n        }.bind(this),\n        this.state.fixDur\n      );\n    } else if (this.state.stateNum === 2) {\n      setTimeout(\n        function () {\n          this.playStateThree();\n        }.bind(this),\n        this.state.fixDur\n      );\n    }\n  }\n\n  playStateTwo() {\n    var statePic;\n\n    if (this.state.pathChoice === 1) {\n      //if choose path 1,\n      statePic = this.state.statePic[this.state.pathOne[1]];\n    } else if (this.state.pathChoice === 2) {\n      statePic = this.state.statePic[this.state.pathTwo[1]];\n    } else if (this.state.pathChoice === 3) {\n      statePic = this.state.statePic[this.state.pathThree[1]];\n    }\n\n    this.setState({\n      stateNum: 2,\n      stateShown: statePic,\n    });\n\n    setTimeout(\n      function () {\n        this.playFix();\n      }.bind(this),\n      this.state.stateDur\n    );\n  }\n\n  playStateThree() {\n    var statePic;\n\n    if (this.state.pathChoice === 1) {\n      //if choose path 1,\n      statePic = this.state.statePic[this.state.pathOne[2]];\n    } else if (this.state.pathChoice === 2) {\n      statePic = this.state.statePic[this.state.pathTwo[2]];\n    } else if (this.state.pathChoice === 3) {\n      statePic = this.state.statePic[this.state.pathThree[2]];\n    }\n\n    this.setState({\n      stateNum: 3,\n      stateShown: statePic,\n    });\n\n    setTimeout(\n      function () {\n        this.taskSave();\n      }.bind(this),\n      0\n    );\n  }\n\n  taskSave() {\n    var userID = this.state.userID;\n    var trialPicIndx;\n    var trialPicWord;\n\n    if (this.state.pathChoice === 1) {\n      trialPicIndx = this.state.pathOne;\n      trialPicWord = [\n        this.state.stateWord[0],\n        this.state.stateWord[1],\n        this.state.stateWord[2],\n      ];\n    } else if (this.state.pathChoice === 2) {\n      trialPicIndx = this.state.pathTwo;\n      trialPicWord = [\n        this.state.stateWord[3],\n        this.state.stateWord[4],\n        this.state.stateWord[5],\n      ];\n    } else if (this.state.pathChoice === 3) {\n      trialPicIndx = this.state.pathThree;\n      trialPicWord = [\n        this.state.stateWord[6],\n        this.state.stateWord[7],\n        this.state.stateWord[8],\n      ];\n    }\n\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      sectionTime: this.state.sectionTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      taskSection: this.state.taskSection, //the explore or the test?\n      trialTime: this.state.trialTime,\n      trialNum: this.state.trialNum,\n      trialPart: null,\n      trialPicIndx: trialPicIndx, //this should be which path\n      trialPicWord: trialPicWord,\n      trialQn: null,\n      trialPicAns: null,\n      trialRT: this.state.trialRT,\n      trialKeypress: this.state.pathChoice, //which path they chose to go\n      trialCor: null,\n      trialScore: null,\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/path_test/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(saveString),\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n\n    setTimeout(\n      function () {\n        this.cueScreen();\n      }.bind(this),\n      this.state.stateDur\n    );\n  }\n\n  cueScreen() {\n    var trialTime = Math.round(performance.now());\n    var trialNum = this.state.trialNum + 1;\n\n    this.setState({\n      pathPlay: false,\n      trialNum: trialNum,\n      trialTime: trialTime,\n    });\n  }\n\n  finishForcedPathPlay() {\n    this.setState({\n      instructScreen: true,\n      taskScreen: false,\n      instructScreenText: 3,\n    });\n  }\n\n  missionTwoTest() {\n    this.setState({\n      instructScreen: false,\n      testScreen: true,\n      taskSection: \"test\",\n      instructScreenText: 3,\n      trialTestNum: 1,\n      trialPart: 1,\n      trialRT: 0,\n      trialKeypress: 0,\n      trialCor1Log: [],\n      trialScore1: 0,\n      trialCor2Log: [],\n      trialScore2: 0,\n    });\n  }\n\n  setTrialVar() {\n    // document.removeEventListener(\"keyup\", this._handleInstructKey);\n\n    console.log(\"Set Trial Var.\");\n    var whichPath = this.state.trialtestPath[this.state.trialTestNum - 1];\n    // I save these to state.props so that I dont re-run the functions in the later parts\n    var whichQn = this.state.whichQn;\n\n    var whichCombi = this.state.testShuff[whichPath - 1];\n    var whichQnNot = null;\n    var whichShip = null;\n\n    if (whichPath === 1) {\n      ///this.state.testOne - combinations e.g [1,0] [0,1] [1,2] [2,1]\n      whichQn = this.state.testOne[whichCombi - 1];\n      whichQnNot = randNumExceptArray(0, 8, this.state.pathOne); //none of the other states of the path should be the other option\n      whichShip = \"A\";\n    } else if (whichPath === 2) {\n      //this.state.testTwo - combinations e.g [3,4] [4,3] [5,4] [4,5]\n      whichQn = this.state.testTwo[whichCombi - 1];\n      whichQnNot = randNumExceptArray(0, 8, this.state.pathTwo);\n      whichShip = \"B\";\n    } else if (whichPath === 3) {\n      //this.state.testThree - combinations e.g [6,7] [7,6] [7,8] [8,7]\n      whichQn = this.state.testThree[whichCombi - 1]; //e.g.[6,7]\n      whichQnNot = randNumExceptArray(0, 8, this.state.pathThree);\n      whichShip = \"C\";\n    }\n\n    // console.log(\"whichQn: \" + whichQn);\n    // console.log(\"whichQnNot: \" + whichQnNot);\n\n    /// FOR PART TWO\n    var whichQnNotArray1 = [whichQnNot, whichQn[0], whichQn[1]];\n    var whichQnNot2 = randNumExceptArray(0, 8, whichQnNotArray1); //any option but answer 2\n    var whichQnNotArray2 = [whichQnNot, whichQn[0], whichQn[1], whichQnNot2];\n    var whichQnNot3 = randNumExceptArray(0, 8, whichQnNotArray2); //any option but answer 2 and prev alt. answer\n\n    this.setState({\n      whichQn: whichQn,\n      whichQnNot: whichQnNot,\n      whichQnNot2: whichQnNot2,\n      whichQnNot3: whichQnNot3,\n      whichShip: whichShip,\n    });\n\n    if (this.state.trialTestNum === 1) {\n      // start the test\n      setTimeout(\n        function () {\n          this.missionTwoTest();\n        }.bind(this),\n        0\n      );\n    }\n  }\n\n  ///////////// test their memory\n  testStart(trialTestNum, trialPart) {\n    // var whichPath = this.state.trialtestPath[trialTestNum - 1];\n    var whichShip = this.state.whichShip;\n    var testAns1 = this.state.testAns1[trialTestNum - 1];\n    var testAns2 = this.state.testAns2[trialTestNum - 1];\n\n    // I save these to state.props so that I dont re-run the functions in the later parts\n    var whichQn = this.state.whichQn;\n    var whichQnNot = this.state.whichQnNot;\n    var whichQnNot2 = this.state.whichQnNot2;\n    var whichQnNot3 = this.state.whichQnNot3;\n\n    var statePic1;\n    var statePic2;\n\n    var state2Pic1;\n    var state2Pic2;\n    var state2Pic3;\n\n    var stateClass1;\n    var stateClass2;\n    var state2Class1;\n    var state2Class2;\n    var state2Class3;\n\n    var partBeforeAfter;\n    var trialFb1;\n    var trialFb2;\n\n    if (testAns1 === 1) {\n      statePic1 = this.state.statePic[whichQn[0]]; //this will be 6\n      statePic2 = this.state.statePic[whichQnNot];\n      if (this.state.trialCor1 === 1) {\n        stateClass1 = styles.stateBorder;\n        stateClass2 = styles.stateFade;\n      } else {\n        stateClass1 = styles.stateBorder;\n        stateClass2 = styles.stateFadeBorder;\n      }\n    } else if (testAns1 === 2) {\n      statePic1 = this.state.statePic[whichQnNot];\n      statePic2 = this.state.statePic[whichQn[0]];\n      if (this.state.trialCor1 === 1) {\n        stateClass1 = styles.stateFade;\n        stateClass2 = styles.stateBorder;\n      } else {\n        stateClass1 = styles.stateFadeBorder;\n        stateClass2 = styles.stateBorder;\n      }\n    }\n\n    if (testAns2 === 1) {\n      state2Pic1 = this.state.statePic[whichQn[1]];\n      state2Pic2 = this.state.statePic[whichQnNot2];\n      state2Pic3 = this.state.statePic[whichQnNot3];\n      if (this.state.trialCor2 === 1) {\n        state2Class1 = styles.stateBorder;\n        state2Class2 = styles.stateFade;\n        state2Class3 = styles.stateFade;\n      } else if (this.state.trialCor2 === 0 && this.state.trialKeypress === 2) {\n        state2Class1 = styles.stateBorder;\n        state2Class2 = styles.stateFadeBorder;\n        state2Class3 = styles.stateFade;\n      } else if (this.state.trialCor2 === 0 && this.state.trialKeypress === 3) {\n        state2Class1 = styles.stateBorder;\n        state2Class2 = styles.stateFade;\n        state2Class3 = styles.stateFadeBorder;\n      }\n    } else if (testAns2 === 2) {\n      state2Pic1 = this.state.statePic[whichQnNot2];\n      state2Pic2 = this.state.statePic[whichQn[1]];\n      state2Pic3 = this.state.statePic[whichQnNot3];\n      if (this.state.trialCor2 === 1) {\n        state2Class1 = styles.stateFade;\n        state2Class2 = styles.stateBorder;\n        state2Class3 = styles.stateFade;\n      } else if (this.state.trialCor2 === 0 && this.state.trialKeypress === 1) {\n        state2Class1 = styles.stateFadeBorder;\n        state2Class2 = styles.stateBorder;\n        state2Class3 = styles.stateFade;\n      } else if (this.state.trialCor2 === 0 && this.state.trialKeypress === 3) {\n        state2Class1 = styles.stateFade;\n        state2Class2 = styles.stateBorder;\n        state2Class3 = styles.stateFadeBorder;\n      }\n    } else if (testAns2 === 3) {\n      state2Pic1 = this.state.statePic[whichQnNot2];\n      state2Pic2 = this.state.statePic[whichQnNot3];\n      state2Pic3 = this.state.statePic[whichQn[1]];\n      if (this.state.trialCor2 === 1) {\n        state2Class1 = styles.stateFade;\n        state2Class2 = styles.stateFade;\n        state2Class3 = styles.stateBorder;\n      } else if (this.state.trialCor2 === 0 && this.state.trialKeypress === 1) {\n        state2Class1 = styles.stateFadeBorder;\n        state2Class2 = styles.stateFade;\n        state2Class3 = styles.stateBorder;\n      } else if (this.state.trialCor2 === 0 && this.state.trialKeypress === 2) {\n        state2Class1 = styles.stateFade;\n        state2Class2 = styles.stateFadeBorder;\n        state2Class3 = styles.stateBorder;\n      }\n    }\n\n    if (whichQn[0] > whichQn[1]) {\n      //if 1 > 0\n      //What is before this state\n      partBeforeAfter = \"BEFORE\";\n    } else {\n      //What is after this state\n      partBeforeAfter = \"AFTER\";\n    }\n\n    if (this.state.trialCor1 === 1) {\n      trialFb1 = \"Correct!\";\n    } else {\n      trialFb1 = \"Incorrect. This is the correct room.\";\n    }\n\n    if (this.state.trialCor2 === 1) {\n      trialFb2 = \"Correct!\";\n    } else {\n      trialFb2 = \"Incorrect. This is the correct room.\";\n    }\n\n    let text1 = (\n      <div className={styles.main}>\n        <div className={styles.counter}>\n          <img\n            className={styles.counter}\n            src={this.state.img_counter}\n            alt=\"counter\"\n          />\n          {this.state.trialTestNum}/{this.state.trialTestTotal}\n        </div>\n        <p>\n          <span className={styles.center}>\n            You are in Spaceship {whichShip}.\n          </span>\n          Which room will you encounter?\n          <br />\n          <span className={styles.centerTwo}>\n            [<strong>1</strong>]:&nbsp;\n            <img className={styles.state} src={statePic1} alt=\"state\" />\n            &nbsp;&nbsp;&nbsp;&nbsp; [<strong>2</strong>]:&nbsp;\n            <img className={styles.state} src={statePic2} alt=\"state\" />\n          </span>\n          <span className={styles.centerTwo}>\n            [Press the correct number key.]\n          </span>\n        </p>\n      </div>\n    );\n\n    let text2 = (\n      <div className={styles.main}>\n        <div className={styles.counter}>\n          <img\n            className={styles.counter}\n            src={this.state.img_counter}\n            alt=\"counter\"\n          />\n          {this.state.trialTestNum}/{this.state.trialTestTotal}\n        </div>\n        <p>\n          <span className={styles.center}>\n            You are in Spaceship {whichShip}.\n          </span>\n          <span className={styles.centerThree}>{trialFb1}</span>\n          <span className={styles.centerTwo}>\n            <img className={stateClass1} src={statePic1} alt=\"state\" />\n            &nbsp;&nbsp;&nbsp;&nbsp;\n            <img className={stateClass2} src={statePic2} alt=\"state\" />\n          </span>\n          <span className={styles.centerTwo}>\n            Which room comes {partBeforeAfter} the room above?\n          </span>\n          <span className={styles.centerTwo}>\n            [<strong>1</strong>]:&nbsp;\n            <img className={styles.state} src={state2Pic1} alt=\"state\" />\n            &nbsp;&nbsp;&nbsp;&nbsp; [<strong>2</strong>]:&nbsp;\n            <img className={styles.state} src={state2Pic2} alt=\"state\" />\n            &nbsp;&nbsp;&nbsp;&nbsp; [<strong>3</strong>]:&nbsp;\n            <img className={styles.state} src={state2Pic3} alt=\"state\" />\n          </span>\n          <span className={styles.centerTwo}>\n            [Press the correct number key.]\n          </span>\n        </p>\n      </div>\n    );\n\n    let text3 = (\n      <div className={styles.main}>\n        <div className={styles.counter}>\n          <img\n            className={styles.counter}\n            src={this.state.img_counter}\n            alt=\"counter\"\n          />\n          {this.state.trialTestNum}/{this.state.trialTestTotal}\n        </div>\n        <p>\n          <span className={styles.center}>\n            You are in Spaceship {whichShip}.\n          </span>\n          <span className={styles.centerThree}></span>\n          <span className={styles.centerTwo}>\n            <img className={stateClass1} src={statePic1} alt=\"state\" />\n            &nbsp;&nbsp;&nbsp;&nbsp;\n            <img className={stateClass2} src={statePic2} alt=\"state\" />\n          </span>\n          <span className={styles.centerTwo}>\n            Which room comes {partBeforeAfter} the room above?\n          </span>\n          <span className={styles.centerTwo}>\n            [<strong>1</strong>]:&nbsp;\n            <img className={state2Class1} src={state2Pic1} alt=\"state\" />\n            &nbsp;&nbsp;&nbsp;&nbsp; [<strong>2</strong>]:&nbsp;\n            <img className={state2Class2} src={state2Pic2} alt=\"state\" />\n            &nbsp;&nbsp;&nbsp;&nbsp; [<strong>3</strong>]:&nbsp;\n            <img className={state2Class3} src={state2Pic3} alt=\"state\" />\n          </span>\n          <span className={styles.centerTwo}>{trialFb2}</span>\n          <br />\n          <span className={styles.centerTwo}>\n            Press the [<strong>SPACEBAR</strong>] to continue.\n          </span>\n        </p>\n      </div>\n    );\n\n    switch (trialPart) {\n      case 1:\n        return <div>{text1}</div>;\n      case 2:\n        return <div>{text2}</div>;\n      case 3:\n        return <div>{text3}</div>;\n      default:\n    }\n  }\n\n  // function to go to next quiz question and check score\n  testCheck(pressed, time_pressed) {\n    var trialTime = time_pressed;\n    var trialRT = time_pressed - this.state.trialTime;\n    var testChoice = pressed;\n\n    var trialCor1 = null;\n    var trialCor2 = null;\n\n    var trialTestNum = this.state.trialTestNum;\n    var trialCor1Log = this.state.trialCor1Log; //[1,1,1,0...]\n    var trialScore1 = this.state.trialScore1; //sum of the correct answers\n    var trialCor2Log = this.state.trialCor2Log; //[1,1,1,0...]\n    var trialScore2 = this.state.trialScore2; //sum of the correct answers\n\n    if (this.state.trialPart === 1 && (testChoice === 1 || testChoice === 2)) {\n      // only choice 1 or 2\n      // console.log(\"Trial Part 3\");\n\n      var testAns1 = this.state.testAns1[this.state.trialTestNum - 1];\n      if (testChoice === testAns1) {\n        trialCor1 = 1;\n        trialCor1Log[trialTestNum - 1] = 1;\n        trialScore1 = trialScore1 + 1;\n      } else {\n        trialCor1 = 0;\n        trialCor1Log[trialTestNum - 1] = 0;\n      }\n\n      this.setState({\n        trialTime: trialTime,\n        trialKeypress: testChoice,\n        trialCor1: trialCor1,\n        trialRT: trialRT,\n        trialCor1Log: trialCor1Log,\n        trialScore1: trialScore1,\n      });\n\n      setTimeout(\n        function () {\n          this.testSave();\n        }.bind(this),\n        10\n      );\n    } else if (\n      this.state.trialPart === 2 &&\n      (testChoice === 1 || testChoice === 2 || testChoice === 3)\n    ) {\n      // console.log(\"Trial Part 2\");\n\n      var testAns2 = this.state.testAns2[this.state.trialTestNum - 1];\n      if (testChoice === testAns2) {\n        trialCor2 = 1;\n        trialCor2Log[trialTestNum - 1] = 1;\n        trialScore2 = trialScore2 + 1;\n      } else {\n        trialCor2 = 0;\n        trialCor2Log[trialTestNum - 1] = 0;\n      }\n\n      this.setState({\n        trialTime: trialTime,\n        trialKeypress: testChoice,\n        trialCor2: trialCor2,\n        trialRT: trialRT,\n        trialCor2Log: trialCor2Log,\n        trialScore2: trialScore2,\n      });\n\n      setTimeout(\n        function () {\n          this.testSave();\n        }.bind(this),\n        10\n      );\n    } else if (this.state.trialPart === 3 && testChoice === 10) {\n      // console.log(\"Trial Save and go to next trial.\");\n      trialTestNum = trialTestNum + 1;\n\n      this.setState({\n        trialTime: trialTime,\n        trialPart: 1,\n        trialTestNum: trialTestNum,\n        trialCor1: trialCor1,\n        trialCor2: trialCor2,\n      });\n\n      setTimeout(\n        function () {\n          this.setTrialVar();\n        }.bind(this),\n        0\n      );\n    } else {\n      // console.log(\"THERE SHOULD NOT BE ANY CHANGE HERE----\");\n    }\n  }\n\n  testSave() {\n    var trialCor;\n    var trialPicIndx;\n    var trialPicWord;\n    var testAns;\n    var partBeforeAfter;\n    var trialTestNum = this.state.trialTestNum;\n\n    var testAns1 = this.state.testAns1[trialTestNum - 1];\n    var testAns2 = this.state.testAns2[trialTestNum - 1];\n\n    // I save these to state.props so that I dont re-run the functions in the later parts\n    var whichQn = this.state.whichQn;\n    var whichQnNot = this.state.whichQnNot;\n    var whichQnNot2 = this.state.whichQnNot2;\n    var whichQnNot3 = this.state.whichQnNot3;\n\n    if (this.state.trialPart === 1) {\n      trialCor = this.state.trialCor1;\n\n      if (testAns1 === 1) {\n        trialPicIndx = [whichQn[0], whichQnNot];\n        trialPicWord = [\n          this.state.stateWord[whichQn[0]],\n          this.state.stateWord[whichQnNot],\n        ];\n      } else if (testAns1 === 2) {\n        trialPicIndx = [whichQnNot, whichQn[0]];\n        trialPicWord = [\n          this.state.stateWord[whichQnNot],\n          this.state.stateWord[whichQn[0]],\n        ];\n      }\n\n      testAns = this.state.testAns1[this.state.trialTestNum - 1];\n      partBeforeAfter = \"ROOM\";\n    } else if (this.state.trialPart === 2) {\n      trialCor = this.state.trialCor2;\n\n      if (testAns2 === 1) {\n        trialPicIndx = [whichQn[1], whichQnNot2, whichQnNot3];\n        trialPicWord = [\n          this.state.stateWord[whichQn[1]],\n          this.state.stateWord[whichQnNot2],\n          this.state.stateWord[whichQnNot3],\n        ];\n      } else if (testAns2 === 2) {\n        trialPicIndx = [whichQnNot2, whichQn[1], whichQnNot3];\n        trialPicWord = [\n          this.state.stateWord[whichQnNot2],\n          this.state.stateWord[whichQn[1]],\n          this.state.stateWord[whichQnNot3],\n        ];\n      } else if (testAns2 === 3) {\n        trialPicIndx = [whichQnNot2, whichQnNot3, whichQn[1]];\n        trialPicWord = [\n          this.state.stateWord[whichQnNot2],\n          this.state.stateWord[whichQnNot3],\n          this.state.stateWord[whichQn[1]],\n        ];\n      }\n\n      testAns = this.state.testAns2[this.state.trialTestNum - 1];\n      if (whichQn[0] > whichQn[1]) {\n        partBeforeAfter = \"BEFORE\";\n      } else {\n        partBeforeAfter = \"AFTER\";\n      }\n    }\n\n    var userID = this.state.userID;\n\n    var trialScore = this.state.trialScore1 + this.state.trialScore2;\n\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      sectionTime: this.state.sectionTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      taskSection: this.state.taskSection,\n      trialTime: this.state.trialTime, //the explore or the test?\n      trialNum: this.state.trialTestNum,\n      trialPart: this.state.trialPart, //is it question a or b\n      trialPicIndx: trialPicIndx,\n      trialPicWord: trialPicWord,\n      trialQn: partBeforeAfter,\n      trialPicAns: testAns,\n      trialRT: this.state.trialRT,\n      trialKeypress: this.state.trialKeypress,\n      trialCor: trialCor,\n      trialScore: trialScore,\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/path_test/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(saveString),\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n\n    setTimeout(\n      function () {\n        this.testTrialSectNext();\n      }.bind(this),\n      0\n    );\n  }\n\n  testTrialSectNext() {\n    var trialPart = this.state.trialPart + 1;\n\n    this.setState({\n      trialPart: trialPart,\n    });\n  }\n\n  missionTwoRestart() {\n    //resetVariables\n    var taskSessionTry = this.state.taskSessionTry + 1;\n\n    this.setState({\n      taskSessionTry: taskSessionTry,\n      taskSection: \"explore\",\n      instructScreen: true,\n      testScreen: false,\n      instructScreenText: 4,\n    });\n\n    //send the outcomeTask conditions?\n    setTimeout(\n      function () {\n        this.condSave();\n      }.bind(this),\n      0\n    );\n  }\n\n  passTest() {\n    this.setState({\n      instructScreen: true,\n      testScreen: false,\n      instructScreenText: 5,\n    });\n  }\n\n  nextMission() {\n    document.removeEventListener(\"keyup\", this._handleInstructKey);\n    document.removeEventListener(\"keyup\", this._handleDebugKey);\n    this.props.history.push({\n      pathname: `/TutorTask`,\n      state: {\n        userID: this.state.userID,\n        date: this.state.date,\n        startTime: this.state.startTime,\n\n        outcomePic: this.state.outcomePic,\n        outcomeWord: this.state.outcomeWord,\n        outcomeVal: this.state.outcomeVal,\n        outcomeIndx: this.state.outcomeIndx,\n\n        stateWord: this.state.stateWord,\n        statePic: this.state.statePic,\n        stateIndx: this.state.stateIndx,\n\n        pathOne: this.state.pathOne,\n        pathTwo: this.state.pathTwo,\n        pathThree: this.state.pathThree,\n\n        shuttlePic: this.state.shuttlePic,\n        shuttleWord: this.state.shuttleWord,\n\n        img_fix: this.state.img_fix,\n        img_astrodude1: this.state.img_astrodude1,\n        img_astrodude2: this.state.img_astrodude2,\n        img_astrodude3: this.state.img_astrodude3,\n        img_counter: this.state.img_counter,\n        img_coinSmall: this.state.img_coinSmall,\n        img_coin: this.state.img_coin,\n        img_pathInstruct1: this.state.img_pathInstruct1,\n        stateHolder: this.state.stateHolder,\n      },\n    });\n  }\n\n  condSave() {\n    var userID = this.state.userID;\n    var currentDate = new Date(); // maybe change to local\n    var sectionTime = currentDate.toTimeString();\n    var trialTime = Math.round(performance.now());\n\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime, // this is when they start the expt\n      sectionTime: sectionTime, //this is if they somehow refresh the page...\n      trialTime: trialTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      structNum: null,\n\n      outcomeWord: null,\n      outcomeVal: null,\n      outcomeIndx: null,\n\n      stateWord: this.state.stateWord,\n      stateIndx: this.state.stateIndx,\n\n      pathOne: this.state.pathOne,\n      pathTwo: this.state.pathTwo,\n      pathThree: this.state.pathThree,\n\n      tutForcedPaths: null,\n      tutSafePathOutcome: null,\n      tutRiskyPathOutcome1: null,\n      tutRiskyPathOutcome2: null,\n      tutSafePathProb: null,\n      tutRiskyPathProb1: null,\n      tutRiskyPathProb2: null,\n      tutOptChoice: null,\n      tutForceChoice: null,\n      tutPlanChoice: null,\n\n      taskSafePathOutcome: null,\n      taskRiskyPathOutcome1: null,\n      taskRiskyPathOutcome2: null,\n      taskSafePathProb: null,\n      taskRiskyPathProb1: null,\n      taskRiskyPathProb2: null,\n      taskOptChoice: null,\n      taskForceChoice: null,\n      taskPlanChoice: null,\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/cond_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(saveString),\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    //send the outcomeTask conditions?\n\n    setTimeout(\n      function () {\n        this.condSave();\n      }.bind(this),\n      0\n    );\n\n    setTimeout(\n      function () {\n        this.setState({\n          mounted: 1,\n        });\n      }.bind(this),\n      5000\n    );\n  }\n\n  componentWillUnmount() {\n    // fix Warning: Can't perform a React state update on an unmounted component\n    this.setState = (state, callback) => {\n      return;\n    };\n  }\n\n  //////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////\n  // render time\n\n  render() {\n    let text;\n\n    if (this.state.debug === false) {\n      if (this.state.instructScreen === true) {\n        if (this.state.instructScreenText === 1) {\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>TUTORIAL II</span>\n                The second thing you need to learn is that there are{\" \"}\n                <strong>3 different types of spaceships</strong>.\n                <br /> <br />\n                <strong>Within</strong> each spaceship, there are{\" \"}\n                <strong>3 connecting rooms</strong>.\n                <br />\n                <br />\n                You will have to pass through these connecting rooms to get to\n                the outcome room.\n                <br /> <br />\n                For instance,\n                <span className={styles.centerTwo}>\n                  <img\n                    className={styles.pathInstruct}\n                    src={this.state.img_pathInstruct1}\n                    alt=\"pathInstruct1\"\n                  />\n                </span>\n                <br />\n                Similar to the outcome room, each connecting room can be{\" \"}\n                <strong>identified by a unique image</strong>,<br />\n                which you will have to learn.\n                <br />\n                <span className={styles.centerTwo}>\n                  [<strong>NEXT →</strong>]\n                </span>\n              </p>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 2) {\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>TUTORIAL II</span>\n                In this tutorial, we will show you the room images of each of\n                the 3 spaceships&nbsp;\n                {this.state.pathTotal} times.\n                <br />\n                <br />\n                Your aim is to memorise the order of rooms in each spaceship.\n                <br />\n                <br />\n                We will test your memory afterwards.\n                <br />\n                <span className={styles.centerTwo}>\n                  Press the [<strong>SPACEBAR</strong>] to start the tutorial.\n                </span>\n                <span className={styles.centerTwo}>\n                  [<strong>← BACK</strong>]\n                </span>\n              </p>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 3) {\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>TUTORIAL II</span>\n                Great. To ensure that you have learned the order of the rooms in\n                the three types of spaceships,\n                <br />\n                we will quiz your memory.\n                <br />\n                <br />\n                If you feel confident and want to start the quiz, press [\n                <strong>SPACEBAR</strong>].\n                <br /> <br />\n                If you are still unsure of the room order, press the [\n                <strong>←</strong>] key to view the room sequence again.\n                <br /> <br />\n                <span className={styles.centerTwo}>\n                  Press the [<strong>SPACEBAR</strong>] to start the quiz.\n                </span>\n                <span className={styles.centerTwo}>\n                  Press [<strong>←</strong>] key to view spaceships again.\n                </span>\n              </p>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 4) {\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>TUTORIAL II</span>\n                Unfortunately you only got&nbsp;\n                {this.state.trialScore1 + this.state.trialScore2} /\n                {this.state.trialTestTotal * 2} correct.\n                <br />\n                <br />\n                Let us revisit the order of the rooms in each spaceship type\n                using the image associated with each room.\n                <br /> <br />\n                <span className={styles.centerTwo}>\n                  Press [<strong>SPACEBAR</strong>] key to explore the\n                  spaceships again.\n                </span>\n              </p>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 5) {\n          // IF YOU PASS THE TEST\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>TUTORIAL II</span>\n                <br />\n                Great, you had&nbsp;\n                {this.state.trialScore1 + this.state.trialScore2}/\n                {this.state.trialTestTotal * 2}\n                &nbsp;correct!\n                <br /> <br />\n                You saw that each of the 3 spaceships have 3 connecting rooms,\n                <br /> and you have learnt the order of the rooms.\n                <br /> <br />\n                In summary,\n                <br />\n                <span className={styles.centerTwo}>\n                  <span className={styles.spaceshipSmall}>Spaceship A</span>\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[0]}\n                    alt=\"statePic1\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[1]}\n                    alt=\"statePic2\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[2]}\n                    alt=\"statePic3\"\n                  />\n                  <br /> <br />\n                  <span className={styles.spaceshipSmall}>Spaceship B</span>\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[3]}\n                    alt=\"statePic4\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[4]}\n                    alt=\"statePic5\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[5]}\n                    alt=\"statePic6\"\n                  />\n                  <br /> <br />\n                  <span className={styles.spaceshipSmall}>Spaceship C</span>\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[6]}\n                    alt=\"statePic7\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[7]}\n                    alt=\"statePic8\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[8]}\n                    alt=\"statePic9\"\n                  />\n                </span>\n                <br /> <br />\n                You are ready to move on to the next tutorial.\n                <br /> <br />\n                <span className={styles.centerTwo}>\n                  Press the [<strong>SPACEBAR</strong>] to contine.\n                </span>\n              </p>\n            </div>\n          );\n        }\n      }\n      if (this.state.instructScreen === false) {\n        ///task\n        if (this.state.taskScreen === true) {\n          document.removeEventListener(\"keyup\", this._handleInstructKey);\n          document.addEventListener(\"keyup\", this._handleTaskKey);\n          // exploring the state sequence\n          if (this.state.trialNum <= this.state.trialTotal) {\n            if (this.state.pathPlay === false) {\n              text = <div>{this.taskStart(this.state.trialNum)}</div>;\n            } else if (this.state.pathPlay === true) {\n              text = (\n                <div className={styles.main}>\n                  <div className={styles.counter}>\n                    <img\n                      className={styles.counter}\n                      src={this.state.img_counter}\n                      alt=\"counter\"\n                    />\n                    {this.state.trialNum}/{this.state.trialTotal}\n                  </div>\n                  <p>\n                    <span className={styles.center}>\n                      Spaceship {this.state.whichShip}\n                    </span>\n                    <span className={styles.centerTwo}>\n                      Room {this.state.stateNum}\n                    </span>\n                    <br />\n                    <img\n                      className={styles.stateLarge}\n                      src={this.state.stateShown}\n                      alt=\"state\"\n                    />\n                    <br /> <br />\n                  </p>\n                </div>\n              );\n            }\n          } else {\n            // finish the task\n            document.removeEventListener(\"keyup\", this._handleTaskKey);\n            setTimeout(\n              function () {\n                this.finishForcedPathPlay();\n              }.bind(this),\n              0\n            );\n          }\n        } else if (this.state.taskScreen === false) {\n          //instruct screen is false, taskscreen is FALSE\n\n          if (this.state.testScreen === true) {\n            document.removeEventListener(\"keyup\", this._handleInstructKey);\n            if (this.state.trialTestNum <= this.state.trialTestTotal) {\n              document.addEventListener(\"keyup\", this._handleTestKey);\n              text = (\n                <div>\n                  {this.testStart(\n                    this.state.trialTestNum,\n                    this.state.trialPart\n                  )}\n                </div>\n              );\n            } else {\n              //if end the test,\n              document.removeEventListener(\"keyup\", this._handleTestKey);\n              if (\n                (this.state.trialScore1 + this.state.trialScore2) /\n                  2 /\n                  this.state.trialTestTotal >\n                this.state.percentPass\n              ) {\n                //if I pass, move on to the gambling task\n                setTimeout(\n                  function () {\n                    this.passTest();\n                  }.bind(this),\n                  0\n                );\n              } else {\n                //if I fail, go learn the paths again\n                // send to new instruct screen\n                setTimeout(\n                  function () {\n                    this.missionTwoRestart();\n                  }.bind(this),\n                  0\n                );\n              }\n            }\n          } else {\n            console.log(\"ERROR - ALL SCREENS ARE FALSE\");\n          }\n        }\n      }\n    } else if (this.state.debug === true) {\n      document.addEventListener(\"keyup\", this._handleDebugKey);\n      text = (\n        <div className={styles.main}>\n          <p>\n            <span className={styles.center}>DEBUG MODE</span>\n            <br />\n\n            <span className={styles.centerTwo}>\n              Press the [<strong>SPACEBAR</strong>] to skip to next section.\n            </span>\n          </p>\n        </div>\n      );\n    }\n\n    return (\n      <div className={styles.spacebg}>\n        <span className={styles.astro2}>\n          <img src={this.state.img_astrodude2} alt=\"astrodude\" />\n        </span>\n        <div className={styles.textblock}>{text}</div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(PathTask);\n"]},"metadata":{},"sourceType":"module"}