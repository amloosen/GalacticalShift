{"ast":null,"code":"var _jsxFileName = \"/Users/alisaloosen/Documents/GitHub/replay-task/src/Components/ExptTask.js\";\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { DATABASE_URL } from \"./config\";\nimport { CountdownCircleTimer } from \"react-countdown-circle-timer\";\nimport styles from \"./style/taskStyle.module.css\"; /////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// GLOBAL FUNCTIONS\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst renderTime = ({\n  remainingTime\n}) => {\n  if (remainingTime === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.timer,\n      children: \"Too late!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.timer,\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: styles.timerValue,\n      children: 10 - remainingTime\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: styles.timerText,\n      children: \"sec\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n};\n\nfunction shuffle(array) {\n  var currentIndex = array.length,\n      temporaryValue,\n      randomIndex; // While there remain elements to shuffle...\n\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1; // And swap it with the current element.\n\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n} // var isArray =\n//   Array.isArray ||\n//   function (value) {\n//     return {}.toString.call(value) !== \"[object Array]\";\n//   };\n//\n// function shuffleSame() {\n//   var arrLength = 0;\n//   var argsLength = arguments.length;\n//   var rnd, tmp, argsIndex;\n//\n//   for (var index = 0; index < argsLength; index += 1) {\n//     if (!isArray(arguments[index])) {\n//       throw new TypeError(\"Argument is not an array.\");\n//     }\n//\n//     if (index === 0) {\n//       arrLength = arguments[0].length;\n//     }\n//\n//     if (arrLength !== arguments[index].length) {\n//       throw new RangeError(\"Array lengths do not match.\");\n//     }\n//   }\n//\n//   while (arrLength) {\n//     rnd = Math.round(Math.random() * arrLength);\n//     arrLength -= 1;\n//     for (argsIndex = 0; argsIndex < argsLength; argsIndex += 1) {\n//       tmp = arguments[argsIndex][arrLength];\n//       arguments[argsIndex][arrLength] = arguments[argsIndex][rnd];\n//       arguments[argsIndex][rnd] = tmp;\n//     }\n//   }\n// }\n\n\nfunction getOutPos1() {\n  var num = Math.random();\n  if (num < 0.33) return 1; //probability 0.3\n  else return 0; //probability 0.1\n}\n\nfunction getOutPos2() {\n  var num = Math.random();\n  if (num < 0.5) return 1; //probability 0.5\n  else return 2; //probability 0.5\n}\n\nfunction getRandomInt(min, max) {\n  const minimum = Math.ceil(min);\n  const maximum = Math.floor(max);\n  return Math.floor(Math.random() * (maximum - minimum + 1)) + minimum;\n}\n\nfunction pathToGo(probability) {\n  var num = Math.random();\n  if (num < probability) return 1;else return 0;\n}\n\nfunction arraysEqual(a, b) {\n  a = Array.isArray(a) ? a : [];\n  b = Array.isArray(b) ? b : [];\n  return a.length === b.length && a.every((el, ix) => el === b[ix]);\n}\n\nfunction inArray(needle, haystack) {\n  var count = haystack.length;\n\n  for (var i = 0; i < count; i++) {\n    if (haystack[i] === needle) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction roundTo(n, digits) {\n  if (digits === undefined) {\n    digits = 0;\n  }\n\n  var multiplicator = Math.pow(10, digits);\n  n = parseFloat((n * multiplicator).toFixed(11));\n  var test = Math.round(n) / multiplicator;\n  return +test.toFixed(digits);\n} //////////////////////////////////////////////////////////////////////////////\n\n\nvar shuttleIndex = [0, 1]; //0 - safe, 1 - risky\n\nvar cueOutPosIndx = [0, 1, 2]; //0-- top, 1 - middle, 2 - bottom\n\nvar cueShutPosIndx = [0, 1]; //0 - left, 1 - right\n\nvar paths = [1, 2, 3];\nvar forcedPaths = [1, 2, 3];\nshuffle(forcedPaths);\nvar trialBlockTotal = 2; //the full length is 8\n\nvar trialForced = 3;\nvar trialForcedTotal = trialForced * trialBlockTotal;\nvar trialTotal = 26 + trialForcedTotal; //usually its 104 +\n\nvar trialInBlock = trialTotal / trialBlockTotal; /////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// REACT COMPONENT START\n\nclass ExptTask extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      window.scrollTo(0, 0); // Variables for tutorial\n      //taskStruct 0-2: values, 3-5: probability, 6-8: EVs, 9: risky EV, 10: safe - risky EV, 11: optimal answer (1:safe, 2: risky)\n\n      var randNum = \"struct_\" + getRandomInt(1, 5);\n\n      var StructToRender = require(\"./taskStruct/\" + randNum + \".json\");\n\n      var taskSafePathOutcome = StructToRender[0];\n      var taskRiskyPathOutcome1 = StructToRender[1];\n      var taskRiskyPathOutcome2 = StructToRender[2];\n      var taskSafePathProb = StructToRender[3];\n      var taskRiskyPathProb1 = StructToRender[4];\n      var taskRiskyPathProb2 = StructToRender[5];\n      var taskSafePathEV = StructToRender[6];\n      var taskRiskyPathEV1 = StructToRender[7];\n      var taskRiskyPathEV2 = StructToRender[8];\n      var taskGambleEV = StructToRender[9]; //Risky EV1+EV2\n\n      var taskChoiceEV = StructToRender[10]; //SafeEV - (RiskyEV1+EV2)\n\n      var taskOptChoice = StructToRender[11];\n      var taskForceChoice = StructToRender[12];\n      var taskPlanChoice = StructToRender[13];\n      this.setState({\n        structNum: randNum,\n        StructToRender: StructToRender,\n        taskSafePathOutcome: taskSafePathOutcome,\n        taskRiskyPathOutcome1: taskRiskyPathOutcome1,\n        taskRiskyPathOutcome2: taskRiskyPathOutcome2,\n        taskSafePathProb: taskSafePathProb,\n        taskRiskyPathProb1: taskRiskyPathProb1,\n        taskRiskyPathProb2: taskRiskyPathProb2,\n        taskSafePathEV: taskSafePathEV,\n        taskRiskyPathEV1: taskRiskyPathEV1,\n        taskRiskyPathEV2: taskRiskyPathEV2,\n        taskGambleEV: taskGambleEV,\n        //Risky EV1+EV2\n        taskChoiceEV: taskChoiceEV,\n        //SafeEV - (RiskyEV1+EV2)\n        taskOptChoice: taskOptChoice,\n        taskForceChoice: taskForceChoice,\n        taskPlanChoice: taskPlanChoice\n      }); //send the outcomeTask conditions?\n\n      setTimeout(function () {\n        this.condSave();\n      }.bind(this), 0);\n      setTimeout(function () {\n        this.setState({\n          mounted: 1\n        });\n      }.bind(this), 5000);\n    };\n\n    this._handleInstructKey = event => {\n      var key_pressed;\n\n      switch (event.keyCode) {\n        case 37:\n          //    this is left arrow\n          key_pressed = 4;\n          this.handleInstructLocal(key_pressed);\n          break;\n\n        case 39:\n          //    this is right arrow\n          key_pressed = 5;\n          this.handleInstructLocal(key_pressed);\n          break;\n\n        case 32:\n          //    this is SPACEBAR\n          key_pressed = 10;\n          this.handleInstructLocal(key_pressed);\n          break;\n\n        default:\n      }\n    };\n\n    this._handleDebugKey = event => {\n      var pressed;\n\n      switch (event.keyCode) {\n        case 32:\n          //    this is SPACEBAR\n          pressed = 10;\n          this.handleDebugKeyLocal(pressed);\n          break;\n\n        default:\n      }\n    };\n\n    this._handleTaskKey = event => {\n      var pressed;\n      var time_pressed;\n\n      switch (event.keyCode) {\n        case 37:\n          //    this is left arrow\n          pressed = 1;\n          time_pressed = Math.round(performance.now());\n          this.taskCheck(pressed, time_pressed);\n          break;\n\n        case 39:\n          //    this is right arrow\n          pressed = 2;\n          time_pressed = Math.round(performance.now());\n          this.taskCheck(pressed, time_pressed);\n          break;\n\n        default:\n      }\n    };\n\n    this._handlePlanKey = event => {\n      var pressed;\n      var time_pressed;\n\n      switch (event.keyCode) {\n        case 49:\n          //    this is num 1\n          pressed = 1;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 50:\n          //     this is num 2\n          pressed = 2;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 51:\n          //    this is num 1\n          pressed = 3;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 52:\n          //     this is num 2\n          pressed = 4;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 53:\n          //    this is num 1\n          pressed = 5;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 54:\n          //     this is num 2\n          pressed = 6;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 97:\n          pressed = 1;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 98:\n          pressed = 2;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 99:\n          pressed = 3;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 100:\n          pressed = 4;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 101:\n          pressed = 5;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 102:\n          pressed = 6;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        default:\n      }\n    };\n\n    const userID = this.props.location.state.userID;\n    const date = this.props.location.state.date;\n    const startTime = this.props.location.state.startTime;\n    const shuttlePic = this.props.location.state.shuttlePic;\n    const shuttleWord = this.props.location.state.shuttleWord;\n    const img_fix = this.props.location.state.img_fix;\n    const img_astrodude1 = this.props.location.state.img_astrodude1;\n    const img_astrodude2 = this.props.location.state.img_astrodude2;\n    const img_astrodude3 = this.props.location.state.img_astrodude3;\n    const img_counter = this.props.location.state.img_counter;\n    const img_coinSmall = this.props.location.state.img_coinSmall;\n    const img_coin = this.props.location.state.img_coin;\n    const img_pathInstruct1 = this.props.location.state.img_pathInstruct1;\n    const stateHolder = this.props.location.state.stateHolder;\n    const statePic = this.props.location.state.statePic;\n    const stateWord = this.props.location.state.stateWord;\n    const outcomePic = this.props.location.state.outcomePic;\n    const outcomeWord = this.props.location.state.outcomeWord;\n    const outcomeVal = this.props.location.state.outcomeVal;\n    const outcomeIndx = this.props.location.state.outcomeIndx;\n    const stateIndx = this.props.location.state.stateIndx; //[0, 1, 2, 3, 4, 5, 6, 7, 8];\n\n    const pathOne = this.props.location.state.pathOne; //[0, 1, 2];\n\n    const pathTwo = this.props.location.state.pathTwo; //[3, 4, 5];\n\n    const pathThree = this.props.location.state.pathThree; //[6, 7, 8];\n\n    var currentDate = new Date(); // maybe change to local\n\n    var timeString = currentDate.toTimeString(); /////////////////////////////////////////////////////////////////////////////////\n    // SET COMPONENT STATES\n\n    this.state = {\n      userID: userID,\n      date: date,\n      startTime: startTime,\n      taskSessionTry: 1,\n      taskSession: \"ExptTask\",\n      instructScreenText: 1,\n      sectionTime: timeString,\n      img_fix: img_fix,\n      img_astrodude1: img_astrodude1,\n      img_astrodude2: img_astrodude2,\n      img_astrodude3: img_astrodude3,\n      img_counter: img_counter,\n      img_coinSmall: img_coinSmall,\n      img_coin: img_coin,\n      img_pathInstruct1: img_pathInstruct1,\n      instructScreen: true,\n      taskScreen: false,\n      trialTotal: trialTotal,\n      trialForced: trialForced,\n      //3 of the trials are forced choice\n      trialBlock: 1,\n      trialBlockTotal: trialBlockTotal,\n      trialNum: 0,\n      trialNumInBlock: 0,\n      trialInBlock: trialInBlock,\n      trialTime: 0,\n      trialRT: 0,\n      trialKeypress: 0,\n      trialScore: 0,\n      shuttleChoice: 0,\n      //1 or 2\n      shuttleWord: shuttleWord,\n      shuttlePic: shuttlePic,\n      stateWord: stateWord,\n      statePic: statePic,\n      stateIndx: stateIndx,\n      stateNum: \"\",\n      stateShown: null,\n      stateDur: 2000,\n      outcomeDur: 2000,\n      respWaitDur: 3000,\n      fixDur: 250,\n      stateHolder: stateHolder,\n      outcomePic: outcomePic,\n      outcomeWord: outcomeWord,\n      outcomeVal: outcomeVal,\n      outcomeIndx: outcomeIndx,\n      coins: 0,\n      //this is basically trialScore but long running tally..\n      choice1Fade: styles.shuttleChoice,\n      choice2Fade: styles.shuttleChoice,\n      pathPlay: false,\n      pathProb: 0,\n      keyChoice: 0,\n      //press left or right\n      shuttleIndex: shuttleIndex,\n      cueOutPosIndx: cueOutPosIndx,\n      cueShutPosIndx: cueShutPosIndx,\n      paths: paths,\n      pathOne: pathOne,\n      pathTwo: pathTwo,\n      pathThree: pathThree,\n      pathRoute: [],\n      forcedPaths: forcedPaths,\n      taskOutcomeValue: null,\n      taskForcedChoiceText1: [],\n      taskForcedChoiceText2: [],\n      timerCountDur: 10,\n      timerKey: 0,\n      StructToRender: \"\",\n      debug: false\n    };\n    this.handleInstructLocal = this.handleInstructLocal.bind(this);\n    this.handleDebugKeyLocal = this.handleDebugKeyLocal.bind(this);\n    this.lateResponse = this.lateResponse.bind(this);\n    this.taskStart = this.taskStart.bind(this);\n    this.planStart = this.planStart.bind(this);\n    /* prevents page from going down when space bar is hit .*/\n\n    window.addEventListener(\"keydown\", function (e) {\n      if (e.keyCode === 32 && e.target === document.body) {\n        e.preventDefault();\n      }\n    });\n  } /////////////////////////////////////////////////////////////////////////////////\n  // END COMPONENT STATE\n\n\n  handleInstructLocal(key_pressed) {\n    var curText = this.state.instructScreenText;\n    var whichButton = key_pressed;\n\n    if (whichButton === 4 && curText > 1 && curText <= 4) {\n      this.setState({\n        instructScreenText: curText - 1\n      });\n    } else if (whichButton === 5 && curText < 4) {\n      this.setState({\n        instructScreenText: curText + 1\n      });\n    } else if (curText === 4 && whichButton === 10) {\n      //start task\n      setTimeout(function () {\n        this.missionThree();\n      }.bind(this), 0);\n    } else if (curText === 5 && whichButton === 10) {\n      //into rest block\n      setTimeout(function () {\n        this.nextBlock();\n      }.bind(this), 0);\n    } else if (curText === 6 && whichButton === 10) {\n      //into rest block\n      setTimeout(function () {\n        this.nextMission();\n      }.bind(this), 0);\n    }\n  } // handle key key_pressed\n\n\n  handleDebugKeyLocal(pressed) {\n    var whichButton = pressed;\n\n    if (whichButton === 10) {\n      setTimeout(function () {\n        this.nextMission();\n      }.bind(this), 0);\n    }\n  }\n\n  // function to play choice feedback, and then go play path\n  taskCheck(pressed, time_pressed) {\n    var trialRT = time_pressed - this.state.trialTime;\n    var keyChoice = pressed;\n    var choice1Fade = this.state.choice1Fade;\n    var choice2Fade = this.state.choice2Fade;\n    var trialNum = this.state.trialNum;\n    var pathRoute = this.state.pathRoute;\n    var pathProb;\n    var pathTrans;\n    var outcome;\n    var pathIndx;\n    var ShuttlePos = this.state.ShuttlePos; //[0,1] means safe/risky vs [0,1] means risky, safe\n\n    var pathProbEnd; // if choose left\n\n    if (keyChoice === 1) {\n      choice1Fade = styles.shuttleChoice;\n      choice2Fade = styles.shuttleChoiceFade;\n\n      if (ShuttlePos[0] === 0) {\n        //I choose the safe choice\n        pathRoute = this.state.SafePath;\n        outcome = this.state.taskSafePathOutcome[trialNum - 1];\n        pathIndx = 1;\n        pathProb = 1;\n        pathProbEnd = 1;\n        pathTrans = null;\n      } else if (ShuttlePos[0] === 1) {\n        //I choose the risky choice\n        //Then Let's roll on the probability\n        pathProb = this.state.taskRiskyPathProb2[trialNum - 1]; //this is the smaller prob\n\n        pathTrans = pathToGo(pathProb); // 0 (Risk1) or 1 (Risk2)\n\n        pathIndx = 2;\n\n        if (pathTrans === 0) {\n          pathRoute = this.state.RiskyPath1;\n          outcome = this.state.taskRiskyPathOutcome1[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb1[trialNum - 1];\n        } else if (pathTrans === 1) {\n          pathRoute = this.state.RiskyPath2;\n          outcome = this.state.taskRiskyPathOutcome2[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb2[trialNum - 1];\n        } else {\n          pathRoute = \"error\";\n          outcome = \"error\";\n          pathProbEnd = \"error\";\n        }\n      } //if choose right\n\n    } else if (keyChoice === 2) {\n      choice1Fade = styles.shuttleChoiceFade;\n      choice2Fade = styles.shuttleChoice;\n\n      if (ShuttlePos[1] === 0) {\n        //I choose the safe choice\n        pathRoute = this.state.SafePath;\n        outcome = this.state.taskSafePathOutcome[trialNum - 1];\n        pathIndx = 1;\n        pathProb = 1;\n        pathProbEnd = 1;\n        pathTrans = null;\n      } else if (ShuttlePos[1] === 1) {\n        //I choose the risky choice\n        //Then Let's roll on the probability\n        pathProb = this.state.taskRiskyPathProb2[trialNum - 1]; //this is the smaller prob\n\n        pathTrans = pathToGo(pathProb); // 0 (Risk1) or 1 (Risk2)\n\n        pathIndx = 2;\n\n        if (pathTrans === 0) {\n          pathRoute = this.state.RiskyPath1;\n          outcome = this.state.taskRiskyPathOutcome1[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb1[trialNum - 1];\n        } else if (pathTrans === 1) {\n          pathRoute = this.state.RiskyPath2;\n          outcome = this.state.taskRiskyPathOutcome2[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb2[trialNum - 1];\n        } else {\n          pathRoute = \"error\";\n          outcome = \"error\";\n          pathProbEnd = \"error\";\n        }\n      }\n    } else {\n      //if neither left or right, then nothing happens\n      console.log(\"Choice not made.\");\n    }\n\n    if (this.state.trialNumInBlock <= this.state.trialForced && pathIndx !== this.state.taskForceChoice[trialNum - 1] || outcome === null) {//if the trial the forced, keyChoice has to be the same as the dictated asnwer, else it wil not move on\n    } else {\n      // free choice trials\n      this.setState({\n        trialRT: trialRT,\n        keyChoice: keyChoice,\n        choice1Fade: choice1Fade,\n        choice2Fade: choice2Fade,\n        pathProb: pathProb,\n        pathRoute: pathRoute,\n        outcome: outcome,\n        pathIndx: pathIndx,\n        pathProbEnd: pathProbEnd\n      });\n\n      if (this.state.taskPlanChoice[trialNum - 1] === 1) {\n        //if it is a planning choice trial, then go to the planning screen\n        var planTime = Math.round(performance.now()) + 500;\n        this.setState({\n          planTime: planTime\n        });\n        setTimeout(function () {\n          this.selectPlanStates();\n        }.bind(this), 500);\n      } else {\n        setTimeout(function () {\n          this.playStateOne();\n        }.bind(this), 500);\n      }\n    }\n  }\n\n  selectPlanStates() {\n    //if choose safe option, then state shown is 100% path and a random other path\n    //if choose risky option, then state shown is between the risky paths\n    var path1;\n    var path2;\n\n    if (this.state.pathIndx === 1) {\n      var rand = getRandomInt(1, 2); //safe choice\n\n      if (rand === 1) {\n        path1 = this.state.SafePath;\n        path2 = this.state.RiskyPath1;\n      } else {\n        path1 = this.state.SafePath;\n        path2 = this.state.RiskyPath2;\n      }\n    } else if (this.state.pathIndx === 2) {\n      path1 = this.state.RiskyPath1;\n      path2 = this.state.RiskyPath2;\n    }\n\n    var bothPath = shuffle(path1.concat(path2));\n    this.setState({\n      planPlay: true,\n      pathPlay: false,\n      bothPath: bothPath,\n      //[0,2,8,1,6,7]\n      statePlan1: this.state.statePic[bothPath[0]],\n      statePlan2: this.state.statePic[bothPath[1]],\n      statePlan3: this.state.statePic[bothPath[2]],\n      statePlan4: this.state.statePic[bothPath[3]],\n      statePlan5: this.state.statePic[bothPath[4]],\n      statePlan6: this.state.statePic[bothPath[5]]\n    });\n  }\n\n  planCheck(pressed, time_pressed) {\n    var trialRT = time_pressed - this.state.planTime;\n    var keyChoice = pressed;\n    var keyChoiceAll = this.state.keyChoiceAll; //havent made this array yet\n    // console.log(\"keyChoice: \" + keyChoice);\n    // console.log(\"keyChoiceAll: \" + keyChoiceAll);\n\n    if (inArray(keyChoice, keyChoiceAll)) {// if the key choice has already been chosen before, do nothing\n    } else {\n      var planCurrentChoice = this.state.planCurrentChoice + 1;\n      var statePlan1Style = this.state.statePlan1Style;\n      var statePlan2Style = this.state.statePlan2Style;\n      var statePlan3Style = this.state.statePlan3Style;\n      var statePlan4Style = this.state.statePlan4Style;\n      var statePlan5Style = this.state.statePlan5Style;\n      var statePlan6Style = this.state.statePlan6Style;\n      var planChoices = this.state.planChoices;\n      var planChoicesWords = this.state.planChoicesWords;\n      var planRT = this.state.planRT;\n      var coins = this.state.coins;\n      keyChoiceAll[planCurrentChoice - 2] = keyChoice;\n\n      if (keyChoice === 1) {\n        statePlan1Style = styles.statePlanChosen;\n      } else if (keyChoice === 2) {\n        statePlan2Style = styles.statePlanChosen;\n      } else if (keyChoice === 3) {\n        statePlan3Style = styles.statePlanChosen;\n      } else if (keyChoice === 4) {\n        statePlan4Style = styles.statePlanChosen;\n      } else if (keyChoice === 5) {\n        statePlan5Style = styles.statePlanChosen;\n      } else if (keyChoice === 6) {\n        statePlan6Style = styles.statePlanChosen;\n      }\n\n      planChoices[planCurrentChoice - 2] = this.state.bothPath[keyChoice - 1];\n      planChoicesWords[planCurrentChoice - 2] = this.state.stateWord[this.state.bothPath[keyChoice - 1]];\n      planRT[planCurrentChoice - 2] = trialRT;\n      var planTime = Math.round(performance.now());\n      this.setState({\n        planPlay: true,\n        pathPlay: false,\n        statePlan1Style: statePlan1Style,\n        statePlan2Style: statePlan2Style,\n        statePlan3Style: statePlan3Style,\n        statePlan4Style: statePlan4Style,\n        statePlan5Style: statePlan5Style,\n        statePlan6Style: statePlan6Style,\n        planCurrentChoice: planCurrentChoice,\n        planChoices: planChoices,\n        planChoicesWords: planChoicesWords,\n        planRT: planRT,\n        planTime: planTime,\n        keyChoiceAll: keyChoiceAll\n      }); //finish choosing 3 choices\n\n      if (planCurrentChoice === 4) {\n        // check if correct?\n        // the order has to be right!\n        var samePathOne = arraysEqual(planChoices, this.state.pathOne);\n        var samePathTwo = arraysEqual(planChoices, this.state.pathTwo);\n        var samePathThree = arraysEqual(planChoices, this.state.pathThree);\n\n        if (samePathOne === true || samePathTwo === true || samePathThree === true) {\n          // if correct, which path did they think they were gonna go?\n          var planPathChosen;\n\n          if (arraysEqual(planChoices, this.state.SafePath)) {\n            planPathChosen = this.state.taskSafePathProb[this.state.trialNum - 1];\n          } else if (arraysEqual(planChoices, this.state.RiskyPath1)) {\n            planPathChosen = this.state.taskRiskyPathProb1[this.state.trialNum - 1];\n          } else if (arraysEqual(planChoices, this.state.RiskyPath2)) {\n            planPathChosen = this.state.taskRiskyPathProb2[this.state.trialNum - 1];\n          }\n\n          this.setState({\n            planCor: 1,\n            planFeedback: \"Correct order! No coins lost!\",\n            coins: coins,\n            planPathChosen: planPathChosen,\n            planCurrentChoice: 3 //keep the number on screen\n\n          });\n        } else {\n          coins = coins - 1;\n          this.setState({\n            planCor: 0,\n            planFeedback: \"No such order! You lose 1 coin!\",\n            coins: coins,\n            planPathChosen: null,\n            //failed to choose correct path\n            planCurrentChoice: 3\n          });\n        }\n\n        setTimeout(function () {\n          this.playStateOne();\n        }.bind(this), 1000);\n      }\n    }\n  }\n\n  planStart() {\n    let text = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.counter,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_counter,\n          alt: \"counter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 839,\n          columnNumber: 11\n        }, this), this.state.trialNum, \"/\", this.state.trialTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 838,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.coins,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_coin,\n          alt: \"coin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 847,\n          columnNumber: 11\n        }, this), this.state.coins]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 846,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [\"Choose the room images of the spaceship\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"you believe you will end up in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 857,\n            columnNumber: 13\n          }, this), \" in order.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 855,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 859,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: [\"Which is \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"Room \", this.state.planCurrentChoice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 862,\n            columnNumber: 22\n          }, this), \"?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 861,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 864,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [\"1 -\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: this.state.statePlan1Style,\n            src: this.state.statePlan1,\n            alt: \"state1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 867,\n            columnNumber: 13\n          }, this), \"\\xA0 \\xA0 2 -\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: this.state.statePlan2Style,\n            src: this.state.statePlan2,\n            alt: \"state2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 873,\n            columnNumber: 13\n          }, this), \"\\xA0 \\xA0 3 -\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: this.state.statePlan3Style,\n            src: this.state.statePlan3,\n            alt: \"state3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 879,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 884,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 885,\n            columnNumber: 13\n          }, this), \"4 -\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: this.state.statePlan4Style,\n            src: this.state.statePlan4,\n            alt: \"state4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 886,\n            columnNumber: 13\n          }, this), \"\\xA0 \\xA0 5 -\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: this.state.statePlan5Style,\n            src: this.state.statePlan5,\n            alt: \"state5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 892,\n            columnNumber: 13\n          }, this), \"\\xA0 \\xA0 6 -\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: this.state.statePlan6Style,\n            src: this.state.statePlan6,\n            alt: \"state6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 865,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 904,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: this.state.planFeedback\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 905,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 854,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 837,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 910,\n      columnNumber: 12\n    }, this);\n  }\n\n  missionThree() {\n    var trialTime = Math.round(performance.now());\n    this.setState({\n      pathPlay: false,\n      planPlay: false,\n      trialNum: 0,\n      trialNumInBlock: 0,\n      trialTime: trialTime,\n      trialRT: 0,\n      trialKeypress: 0,\n      trialScore: 0\n    });\n    setTimeout(function () {\n      this.setTrialVar();\n    }.bind(this), 0);\n  }\n\n  missionCont() {\n    var trialTime = Math.round(performance.now());\n    this.setState({\n      instructScreen: false,\n      taskScreen: true,\n      pathPlay: false,\n      planPlay: false,\n      trialTime: trialTime\n    });\n    setTimeout(function () {\n      this.setTrialVar();\n    }.bind(this), 0);\n  }\n\n  setTrialVar() {\n    // disable the task key\n    document.removeEventListener(\"keyup\", this._handleTaskKey); // decide Left/Right position for shuttle option (I should save this later)\n\n    var trialTime = Math.round(performance.now());\n    var trialNum = this.state.trialNum + 1;\n    var trialNumInBlock = this.state.trialNumInBlock + 1;\n    var cueShutPosIndx = this.state.cueShutPosIndx; //0,1\n\n    shuffle(cueShutPosIndx); // decide top/mid/bot position for outcome cues\n\n    var cueOutPosIndx = this.state.cueOutPosIndx; //0,1,2\n\n    shuffle(cueOutPosIndx);\n    var taskSafePathOutcome = this.state.taskSafePathOutcome[trialNum - 1];\n    var taskRiskyPathOutcome1 = this.state.taskRiskyPathOutcome1[trialNum - 1];\n    var taskRiskyPathOutcome2 = this.state.taskRiskyPathOutcome2[trialNum - 1];\n    var taskSafePathProb = this.state.taskSafePathProb[trialNum - 1];\n    var taskRiskyPathProb1 = this.state.taskRiskyPathProb1[trialNum - 1];\n    var taskRiskyPathProb2 = this.state.taskRiskyPathProb2[trialNum - 1];\n    var taskForcedChoiceText1 = this.state.taskForcedChoiceText1;\n    var taskForcedChoiceText2 = this.state.taskForcedChoiceText2; // var taskOptChoice = this.state.taskOptChoice[trialNum - 1];\n\n    var taskForceChoice = this.state.taskForceChoice[trialNum - 1];\n    var SafePath;\n    var RiskyPath1;\n    var RiskyPath2;\n    var paths = this.state.paths; //1,2,3\n\n    shuffle(paths); //  var bool = trialNumInBlock <= this.state.trialForced;\n    // console.log(\"Still Forced Choice? \" + bool);\n    // console.log(\"trialNumInBlock \" + trialNumInBlock);\n    // console.log(\"trialForced \" + this.state.trialForced);\n\n    if (trialNumInBlock <= this.state.trialForced) {\n      //if it is a forced choice then the safe path will play each of the paths twice\n      // console.log(\"Forced Choice\");\n      var forcedPath = this.state.forcedPaths[trialNumInBlock - 1];\n\n      if (forcedPath === 1) {\n        SafePath = this.state.pathOne;\n        RiskyPath1 = this.state.pathTwo;\n        RiskyPath2 = this.state.pathThree;\n      } else if (forcedPath === 2) {\n        SafePath = this.state.pathTwo;\n        RiskyPath1 = this.state.pathOne;\n        RiskyPath2 = this.state.pathThree;\n      } else if (forcedPath === 3) {\n        SafePath = this.state.pathThree;\n        RiskyPath1 = this.state.pathTwo;\n        RiskyPath2 = this.state.pathOne;\n      }\n    } else if (trialNumInBlock > this.state.trialForced) {\n      // shuffle the paths - this is random when not a forced choice\n      // decide which paths are which options\n      // console.log(\"Free Choice\");\n      if (paths[0] === 1 & paths[1] === 2 & paths[2] === 3) {\n        //this means safe is spaceship 1, risky 1 is spaceship 2 and risky 2 is spaceship 3\n        SafePath = this.state.pathOne;\n        RiskyPath1 = this.state.pathTwo;\n        RiskyPath2 = this.state.pathThree;\n      } else if (paths[0] === 1 & paths[1] === 3 & paths[2] === 2) {\n        SafePath = this.state.pathOne;\n        RiskyPath1 = this.state.pathThree;\n        RiskyPath2 = this.state.pathTwo;\n      } else if (paths[0] === 2 & paths[1] === 1 & paths[2] === 3) {\n        SafePath = this.state.pathTwo;\n        RiskyPath1 = this.state.pathOne;\n        RiskyPath2 = this.state.pathThree;\n      } else if (paths[0] === 2 & paths[1] === 3 & paths[2] === 1) {\n        SafePath = this.state.pathTwo;\n        RiskyPath1 = this.state.pathThree;\n        RiskyPath2 = this.state.pathOne;\n      } else if (paths[0] === 3 & paths[1] === 1 & paths[2] === 2) {\n        SafePath = this.state.pathThree;\n        RiskyPath1 = this.state.pathOne;\n        RiskyPath2 = this.state.pathTwo;\n      } else if (paths[0] === 3 & paths[1] === 2 & paths[2] === 1) {\n        SafePath = this.state.pathThree; //[6,7,8]\n\n        RiskyPath1 = this.state.pathTwo; //[3,4,5]\n\n        RiskyPath2 = this.state.pathOne; //[0,1,2]\n      }\n    } //shuttle Pic is either first (0) or second (1) state, with 33% probability for the latter\n\n\n    var SafeRand1 = getOutPos1();\n    var SafeRand2;\n\n    if (SafeRand1 === 1) {\n      SafeRand2 = 2; //if it is the second state, then only the third state can be the outcome Pic\n    } else {\n      SafeRand2 = getOutPos2(); //if it is the first state, then second OR third state can be the outcome Pic\n    }\n\n    console.log(\"Trial No: \" + trialNum); // console.log(\"Path: \" + paths);\n    // console.log(\"SafePath: \" + SafePath);\n    // console.log(\"RiskyPath1: \" + RiskyPath1);\n    // console.log(\"RiskyPath2: \" + RiskyPath2);\n    // console.log(\"Path: \" + paths);\n    // console.log(\"SafeRand1: \" + SafeRand1);\n    // console.log(\"SafeRand2: \" + SafeRand2);\n    // the shuttlePic can be the first or second state, while the path outcome can be the second or third state\n\n    var SafePathShuttlePic = SafePath[SafeRand1];\n    var SafePathOutPic = SafePath[SafeRand2];\n    var Risky1Rand1 = getOutPos1();\n    var Risky1Rand2;\n\n    if (Risky1Rand1 === 1) {\n      Risky1Rand2 = 2; //if it is the second state, then only the third state can be the outcome Pic\n    } else {\n      Risky1Rand2 = getOutPos2(); //if it is the first state, then second OR third state can be the outcome Pic\n    }\n\n    var RiskyPath1ShuttlePic = RiskyPath1[Risky1Rand1];\n    var RiskyPath1OutPic = RiskyPath1[Risky1Rand2];\n    var Risky2Rand1 = getOutPos1();\n    var Risky2Rand2;\n\n    if (Risky2Rand1 === 1) {\n      Risky2Rand2 = 2; //if it is the second state, then only the third state can be the outcome Pic\n    } else {\n      Risky2Rand2 = getOutPos2(); //if it is the first state, then second OR third state can be the outcome Pic\n    }\n\n    var RiskyPath2ShuttlePic = RiskyPath2[Risky2Rand1];\n    var RiskyPath2OutPic = RiskyPath2[Risky2Rand2]; // shuffle the shuttle option\n\n    var Prob1;\n    var Prob2;\n    var Shuttle1;\n    var Shuttle2;\n    var Shuttle1Word;\n    var Shuttle2Word;\n    var ShuttlePicWord;\n    var pathProbBoth;\n    var choice1Fade = styles.shuttlePreChoice;\n    var choice2Fade = styles.shuttlePreChoice;\n\n    if (cueShutPosIndx[0] === 0) {\n      //safe one is left choice\n      Prob1 = taskSafePathProb * 100 + \"%\";\n      Prob2 = taskRiskyPathProb1 * 100 + \"%/\" + taskRiskyPathProb2 * 100 + \"%\";\n      pathProbBoth = [Prob1, Prob2];\n      Shuttle1 = this.state.shuttlePic[0];\n      Shuttle2 = this.state.shuttlePic[1];\n      Shuttle1Word = this.state.stateWord[SafePathShuttlePic];\n      ShuttlePicWord = [this.state.shuttleWord[0], this.state.shuttleWord[1]];\n      Shuttle2Word = this.state.stateWord[RiskyPath1ShuttlePic] + \"/\" + this.state.stateWord[RiskyPath2ShuttlePic]; // console.log(\"taskForceChoice: \" + taskForceChoice);\n\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        taskForcedChoiceText1 = \"Let us take the reliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the ← key]\"; // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoiceFade;\n      } else if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 2) {\n        taskForcedChoiceText1 = \"Let us take the unreliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the → key]\"; // choice1Fade = styles.shuttleChoiceFade;\n        // choice2Fade = styles.shuttleChoice;\n      } else {\n        taskForcedChoiceText1 = [];\n        taskForcedChoiceText2 = \"[Press the ← or → key to choose]\"; // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoice;\n      }\n    } else if (cueShutPosIndx[0] === 1) {\n      Prob1 = taskRiskyPathProb1 * 100 + \"%/\" + taskRiskyPathProb2 * 100 + \"%\";\n      Prob2 = taskSafePathProb * 100 + \"%\";\n      pathProbBoth = [Prob1, Prob2];\n      ShuttlePicWord = [this.state.shuttleWord[1], this.state.shuttleWord[0]];\n      Shuttle1 = this.state.shuttlePic[1];\n      Shuttle2 = this.state.shuttlePic[0];\n      Shuttle1Word = this.state.stateWord[RiskyPath1ShuttlePic] + \"/\" + this.state.stateWord[RiskyPath2ShuttlePic];\n      Shuttle2Word = this.state.stateWord[SafePathShuttlePic]; //safe one is right choice\n\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        taskForcedChoiceText1 = \"Let us take the reliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the → key]\"; // choice1Fade = styles.shuttleChoiceFade;\n        // choice2Fade = styles.shuttleChoice;\n      } else if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 2) {\n        taskForcedChoiceText1 = \"Let us take the unreliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the ← key]\"; // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoiceFade;\n      } else {\n        taskForcedChoiceText1 = [];\n        taskForcedChoiceText2 = \"[Press the ← or → key to choose]\"; // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoice;\n      }\n    }\n\n    var neuVal = getRandomInt(1, 5);\n    var SafeOut;\n    var SafeVal;\n\n    if (taskSafePathOutcome > 0) {\n      SafeOut = this.state.outcomeWord[0];\n      SafeVal = taskSafePathOutcome / this.state.outcomeVal[0];\n    } else if (taskSafePathOutcome < 0) {\n      SafeOut = this.state.outcomeWord[1];\n      SafeVal = taskSafePathOutcome / this.state.outcomeVal[1];\n    } else if (taskSafePathOutcome === 0) {\n      //if this is neutral, then random a number\n      SafeOut = this.state.outcomeWord[2];\n      SafeVal = neuVal;\n    }\n\n    var Risky1Out;\n    var Risky1Val;\n\n    if (taskRiskyPathOutcome1 > 0) {\n      Risky1Out = this.state.outcomeWord[0];\n      Risky1Val = taskRiskyPathOutcome1 / this.state.outcomeVal[0];\n    } else if (taskRiskyPathOutcome1 < 0) {\n      Risky1Out = this.state.outcomeWord[1];\n      Risky1Val = taskRiskyPathOutcome1 / this.state.outcomeVal[1];\n    } else if (taskRiskyPathOutcome1 === 0) {\n      Risky1Out = this.state.outcomeWord[2];\n      Risky1Val = neuVal;\n    }\n\n    var Risky2Out;\n    var Risky2Val;\n\n    if (taskRiskyPathOutcome2 > 0) {\n      Risky2Out = this.state.outcomeWord[0];\n      Risky2Val = taskRiskyPathOutcome2 / this.state.outcomeVal[0];\n    } else if (taskRiskyPathOutcome2 < 0) {\n      Risky2Out = this.state.outcomeWord[1];\n      Risky2Val = taskRiskyPathOutcome2 / this.state.outcomeVal[1];\n    } else if (taskRiskyPathOutcome2 === 0) {\n      Risky2Out = this.state.outcomeWord[2];\n      Risky2Val = neuVal;\n    }\n\n    var OutcomeVal1;\n    var OutcomeVal2;\n    var OutcomeVal3;\n    var OutcomePic1;\n    var OutcomePic2;\n    var OutcomePic3;\n    var LastStatePic1;\n    var LastStatePic2;\n    var LastStatePic3; // outcome cues\n\n    if (cueOutPosIndx[0] === 0 & cueOutPosIndx[1] === 1 & cueOutPosIndx[2] === 2) {\n      //this means safe is spaceship 1, risky 1 is spaceship 2 and risky 2 is spaceship 3\n      LastStatePic1 = this.state.stateWord[SafePathOutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath2OutPic];\n      OutcomePic1 = SafeOut;\n      OutcomePic2 = Risky1Out;\n      OutcomePic3 = Risky2Out;\n      OutcomeVal1 = SafeVal;\n      OutcomeVal2 = Risky1Val;\n      OutcomeVal3 = Risky2Val;\n    } else if (cueOutPosIndx[0] === 0 & cueOutPosIndx[1] === 2 & cueOutPosIndx[2] === 1) {\n      LastStatePic1 = this.state.stateWord[SafePathOutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath1OutPic];\n      OutcomePic1 = SafeOut;\n      OutcomePic2 = Risky2Out;\n      OutcomePic3 = Risky1Out;\n      OutcomeVal1 = SafeVal;\n      OutcomeVal2 = Risky2Val;\n      OutcomeVal3 = Risky1Val;\n    } else if (cueOutPosIndx[0] === 1 & cueOutPosIndx[1] === 0 & cueOutPosIndx[2] === 2) {\n      LastStatePic1 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic2 = this.state.stateWord[SafePathOutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath2OutPic];\n      OutcomePic1 = Risky1Out;\n      OutcomePic2 = SafeOut;\n      OutcomePic3 = Risky2Out;\n      OutcomeVal1 = Risky1Val;\n      OutcomeVal2 = SafeVal;\n      OutcomeVal3 = Risky2Val;\n    } else if (cueOutPosIndx[0] === 1 & cueOutPosIndx[1] === 2 & cueOutPosIndx[2] === 0) {\n      LastStatePic1 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic3 = this.state.stateWord[SafePathOutPic];\n      OutcomePic1 = Risky1Out;\n      OutcomePic2 = Risky2Out;\n      OutcomePic3 = SafeOut;\n      OutcomeVal1 = Risky1Val;\n      OutcomeVal2 = Risky2Val;\n      OutcomeVal3 = SafeVal;\n    } else if (cueOutPosIndx[0] === 2 & cueOutPosIndx[1] === 0 & cueOutPosIndx[2] === 1) {\n      LastStatePic1 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic2 = this.state.stateWord[SafePathOutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath1OutPic];\n      OutcomePic1 = Risky2Out;\n      OutcomePic2 = SafeOut;\n      OutcomePic3 = Risky1Out;\n      OutcomeVal1 = Risky2Val;\n      OutcomeVal2 = SafeVal;\n      OutcomeVal3 = Risky1Val;\n    } else if (cueOutPosIndx[0] === 2 & cueOutPosIndx[1] === 1 & cueOutPosIndx[2] === 0) {\n      LastStatePic1 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic3 = this.state.stateWord[SafePathOutPic];\n      OutcomePic1 = Risky2Out;\n      OutcomePic2 = Risky1Out;\n      OutcomePic3 = SafeOut;\n      OutcomeVal1 = Risky2Val;\n      OutcomeVal2 = Risky1Val;\n      OutcomeVal3 = SafeVal;\n    } // console.log(\"text: \" + taskForcedChoiceText1);\n    // console.log(\"text: \" + taskForcedChoiceText2);\n\n\n    var timerKey = this.state.timerKey + 1;\n    this.setState({\n      Shuttle1Word: Shuttle1Word,\n      Shuttle1: Shuttle1,\n      Shuttle2Word: Shuttle2Word,\n      Shuttle2: Shuttle2,\n      ShuttlePos: cueShutPosIndx,\n      ShuttlePicWord: ShuttlePicWord,\n      Prob1: Prob1,\n      Prob2: Prob2,\n      LastStatePic1: LastStatePic1,\n      LastStatePic2: LastStatePic2,\n      LastStatePic3: LastStatePic3,\n      OutcomePic1: OutcomePic1,\n      OutcomePic2: OutcomePic2,\n      OutcomePic3: OutcomePic3,\n      OutcomeVal1: OutcomeVal1,\n      OutcomeVal2: OutcomeVal2,\n      OutcomeVal3: OutcomeVal3,\n      SafePath: SafePath,\n      RiskyPath1: RiskyPath1,\n      RiskyPath2: RiskyPath2,\n      neuVal: neuVal,\n      //just for the trual value\n      taskForcedChoiceText1: taskForcedChoiceText1,\n      taskForcedChoiceText2: taskForcedChoiceText2,\n      choice1Fade: choice1Fade,\n      choice2Fade: choice2Fade,\n      pathPlay: false,\n      trialNum: trialNum,\n      trialNumInBlock: trialNumInBlock,\n      trialTime: trialTime,\n      timerKey: timerKey,\n      pathProbBoth: pathProbBoth,\n      planCurrentChoice: 1,\n      statePlan1Style: styles.statePlan,\n      statePlan2Style: styles.statePlan,\n      statePlan3Style: styles.statePlan,\n      statePlan4Style: styles.statePlan,\n      statePlan5Style: styles.statePlan,\n      statePlan6Style: styles.statePlan,\n      planChoices: [],\n      planRT: [],\n      planCor: null,\n      planChoicesWords: [],\n      keyChoiceAll: [],\n      planPathChosen: null,\n      planFeedback: \"Press the [number key] to select the room.\"\n    });\n\n    if (trialNum === 1) {\n      this.setState({\n        instructScreen: false,\n        taskScreen: true\n      });\n    }\n\n    setTimeout(function () {\n      this.allowResp();\n    }.bind(this), this.state.respWaitDur);\n  }\n\n  allowResp() {\n    document.addEventListener(\"keyup\", this._handleTaskKey);\n    var taskForceChoice = this.state.taskForceChoice[this.state.trialNum - 1];\n    var trialNumInBlock = this.state.trialNumInBlock;\n    var choice1Fade = this.state.choice1Fade;\n    var choice2Fade = this.state.choice2Fade;\n\n    if (this.state.ShuttlePos[0] === 0) {\n      //safe one is left choice\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoiceFade;\n      } else if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 2) {\n        choice1Fade = styles.shuttleChoiceFade;\n        choice2Fade = styles.shuttleChoice;\n      } else {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoice;\n      }\n    } else if (this.state.ShuttlePos[0] === 1) {\n      //safe one is right choice\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        choice1Fade = styles.shuttleChoiceFade;\n        choice2Fade = styles.shuttleChoice;\n      } else if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 2) {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoiceFade;\n      } else {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoice;\n      }\n    }\n\n    this.setState({\n      choice1Fade: choice1Fade,\n      choice2Fade: choice2Fade\n    });\n  }\n\n  lateResponse() {\n    document.removeEventListener(\"keyup\", this._handleTaskKey);\n    var coins = this.state.coins - 1;\n    var trialRT = Math.round(performance.now()) - this.state.trialTime;\n    this.setState({\n      choice1Fade: styles.shuttleChoiceFade,\n      choice2Fade: styles.shuttleChoiceFade,\n      taskForcedChoiceText1: \"You lose 1 coin!\",\n      taskForcedChoiceText2: \"Please respond faster.\",\n      trialRT: trialRT,\n      coins: coins,\n      timerOn: false,\n      keyChoice: 0,\n      //meaning that they didn't press at all\n      pathProb: null,\n      pathRoute: null,\n      outcome: null,\n      pathIndx: null,\n      pathProbEnd: null,\n      pathNum: null,\n      taskPathPicWord: null,\n      taskOutcomeWord: null,\n      taskOutcomeIndx: null,\n      outcomeValue: null,\n      //i can see what number 0 is\n      taskOutcomeValue: -1 //actual value\n\n    });\n    setTimeout(function () {\n      this.taskSave();\n    }.bind(this), 0);\n  }\n\n  taskStart(trialNum) {\n    var choice1Fade = this.state.choice1Fade;\n    var choice2Fade = this.state.choice2Fade;\n\n    let text = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.counter,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_counter,\n          alt: \"counter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1472,\n          columnNumber: 11\n        }, this), this.state.trialNum, \"/\", this.state.trialTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1471,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.coins,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_coin,\n          alt: \"coin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1480,\n          columnNumber: 11\n        }, this), this.state.coins]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1479,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.likeP,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.cueScreen,\n            children: [this.state.LastStatePic1, \" - \", this.state.OutcomeVal1, \"\\xA0\", this.state.OutcomePic1, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1492,\n              columnNumber: 15\n            }, this), this.state.LastStatePic2, \" - \", this.state.OutcomeVal2, \"\\xA0\", this.state.OutcomePic2, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1495,\n              columnNumber: 15\n            }, this), this.state.LastStatePic3, \" - \", this.state.OutcomeVal3, \"\\xA0\", this.state.OutcomePic3]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1489,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1488,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1500,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: choice1Fade,\n            children: [this.state.Prob1, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1504,\n              columnNumber: 15\n            }, this), \" \", this.state.Shuttle1Word, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1504,\n              columnNumber: 48\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              className: styles.shuttle,\n              src: this.state.Shuttle1,\n              alt: \"shuttle1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1505,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1502,\n            columnNumber: 13\n          }, this), \"\\xA0 \\xA0 \\xA0 \\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: choice2Fade,\n            children: [this.state.Prob2, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1514,\n              columnNumber: 15\n            }, this), \" \", this.state.Shuttle2Word, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1514,\n              columnNumber: 48\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              className: styles.shuttle,\n              src: this.state.Shuttle2,\n              alt: \"shuttle2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1515,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1512,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1521,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1521,\n            columnNumber: 20\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1501,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: /*#__PURE__*/_jsxDEV(CountdownCircleTimer, {\n            isPlaying: true,\n            duration: this.state.timerCountDur,\n            size: 100,\n            colors: [[\"#004777\", 0.3], [\"#F7B801\", 0.6], [\"#A30000\"]],\n            onComplete: () => {\n              this.lateResponse();\n              return [false];\n            },\n            children: renderTime\n          }, this.state.timerKey, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1524,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1523,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: this.state.taskForcedChoiceText1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1538,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: this.state.taskForcedChoiceText2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1541,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1487,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1470,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1548,\n      columnNumber: 12\n    }, this);\n  }\n\n  playStateOne() {\n    // if it is null, it means you were too late!!! this helps catch the inconsistent time out\n    if (this.state.pathRoute !== null) {\n      document.removeEventListener(\"keyup\", this._handleTaskKey);\n      var pathRoutePic1 = this.state.pathRoute[0]; //[0,1,2] or [3,4,5] or [6,7,8]\n\n      var pathNum;\n      var whichShip;\n      var pathPicWord;\n\n      if (pathRoutePic1 === 0) {\n        pathNum = 1;\n        whichShip = \"A\";\n        pathPicWord = [this.state.stateWord[0], this.state.stateWord[1], this.state.stateWord[2]];\n      } else if (pathRoutePic1 === 3) {\n        pathNum = 2;\n        whichShip = \"B\";\n        pathPicWord = [this.state.stateWord[3], this.state.stateWord[4], this.state.stateWord[5]];\n      } else if (pathRoutePic1 === 6) {\n        pathNum = 3;\n        whichShip = \"C\";\n        pathPicWord = [this.state.stateWord[6], this.state.stateWord[7], this.state.stateWord[8]];\n      }\n\n      var statePic;\n\n      if (this.state.trialNumInBlock <= this.state.trialForced) {\n        statePic = this.state.statePic[pathRoutePic1];\n      } else {\n        statePic = this.state.stateHolder[0];\n      } // console.log(\"trialNumInBlock: \" + this.state.trialNumInBlock);\n      // console.log(\"trialForced: \" + this.state.trialForced);\n      // console.log(\"statePic: \" + statePic);\n\n\n      this.setState({\n        planPlay: false,\n        pathPlay: true,\n        stateNum: \"Room 1\",\n        stateShown: statePic,\n        pathNum: pathNum,\n        whichShip: whichShip,\n        outcomeValue: null,\n        taskPathPicWord: pathPicWord,\n        taskOutcome1: [],\n        taskOutcome2: [],\n        taskOutcomeValue: null\n      });\n      setTimeout(function () {\n        this.playFix();\n      }.bind(this), this.state.stateDur);\n    } else {\n      setTimeout(function () {\n        this.lateResponse();\n      }.bind(this), 1);\n    }\n  }\n\n  playFix() {\n    this.setState({\n      stateShown: this.state.img_fix\n    });\n\n    if (this.state.stateNum === \"Room 1\") {\n      setTimeout(function () {\n        this.playStateTwo();\n      }.bind(this), this.state.fixDur);\n    } else if (this.state.stateNum === \"Room 2\") {\n      setTimeout(function () {\n        this.playStateThree();\n      }.bind(this), this.state.fixDur);\n    } else if (this.state.stateNum === \"Room 3\") {\n      setTimeout(function () {\n        this.playOutcome();\n      }.bind(this), this.state.fixDur);\n    }\n  }\n\n  playStateTwo() {\n    var pathRoutePic2 = this.state.pathRoute[1]; //[0,1,2] or [3,4,5] or [6,7,8]\n\n    var statePic;\n\n    if (this.state.trialNumInBlock <= this.state.trialForced) {\n      statePic = this.state.statePic[pathRoutePic2];\n    } else {\n      statePic = this.state.stateHolder[1];\n    }\n\n    this.setState({\n      stateNum: \"Room 2\",\n      stateShown: statePic\n    });\n    setTimeout(function () {\n      this.playFix();\n    }.bind(this), this.state.stateDur);\n  }\n\n  playStateThree() {\n    var pathRoutePic3 = this.state.pathRoute[2]; //[0,1,2] or [3,4,5] or [6,7,8]\n\n    var statePic;\n\n    if (this.state.trialNumInBlock <= this.state.trialForced) {\n      statePic = this.state.statePic[pathRoutePic3];\n    } else {\n      statePic = this.state.stateHolder[0];\n    }\n\n    this.setState({\n      stateNum: \"Room 3\",\n      stateShown: statePic\n    });\n    setTimeout(function () {\n      this.playFix();\n    }.bind(this), this.state.stateDur);\n  }\n\n  playOutcome() {\n    var outcome = this.state.outcome;\n    var outcomePic;\n    var outcomeValue = this.state.outcomeValue; //that is, if it is tutorial, i explictly say the outcome\n\n    var taskOutcome1 = this.state.taskOutcome1;\n    var coins = this.state.coins + outcome;\n    var taskOutcomeValue = this.state.taskOutcomeValue;\n    var outcomeWord;\n    var outcomeIndx;\n\n    if (outcome > 0) {\n      outcomeIndx = 0;\n      outcomeWord = this.state.outcomeWord[0];\n\n      if (this.state.trialNumInBlock <= this.state.trialForced) {\n        outcomePic = this.state.outcomePic[0];\n      } else {\n        outcomePic = this.state.stateHolder[1];\n      }\n\n      outcomeValue = outcome / this.state.outcomeVal[0];\n      taskOutcomeValue = outcomeValue;\n      taskOutcome1 = \"You gain\";\n    } else if (outcome < 0) {\n      outcomeIndx = 1;\n      outcomeWord = this.state.outcomeWord[1];\n\n      if (this.state.trialNumInBlock <= this.state.trialForced) {\n        outcomePic = this.state.outcomePic[1];\n      } else {\n        outcomePic = this.state.stateHolder[1];\n      }\n\n      outcomeValue = outcome / this.state.outcomeVal[1];\n      taskOutcomeValue = outcomeValue;\n      taskOutcome1 = \"You lose\";\n    } else if (outcome === 0) {\n      outcomeIndx = 2;\n      outcomeWord = this.state.outcomeWord[2];\n\n      if (this.state.trialNumInBlock <= this.state.trialForced) {\n        outcomePic = this.state.outcomePic[2];\n      } else {\n        outcomePic = this.state.stateHolder[1];\n      }\n\n      outcomeValue = this.state.neuVal;\n      taskOutcomeValue = outcome;\n      taskOutcome1 = \"You gain/lose\";\n    }\n\n    this.setState({\n      stateNum: \"You find:\",\n      stateShown: outcomePic,\n      outcomeValue: outcomeValue,\n      taskOutcome1: taskOutcome1,\n      taskOutcomeValue: taskOutcomeValue,\n      taskOutcome2: \"coin(s)!\",\n      coins: coins,\n      taskOutcomeWord: outcomeWord,\n      taskOutcomeIndx: outcomeIndx\n    });\n    setTimeout(function () {\n      this.taskSave();\n    }.bind(this), this.state.outcomeDur);\n  }\n\n  taskSave() {\n    var userID = this.state.userID;\n    var trialForced;\n    var trialOutcomeValence;\n\n    if (this.state.outcome === 0) {\n      trialOutcomeValence = 0;\n    } else if (this.state.outcome === null) {\n      //this only comes from late response\n      trialOutcomeValence = null;\n    } else {\n      trialOutcomeValence = this.state.outcome / this.state.taskOutcomeValue;\n    }\n\n    if (this.state.trialNumInBlock <= this.state.trialForced) {\n      trialForced = true;\n    } else {\n      trialForced = false;\n    }\n\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      sectionTime: this.state.sectionTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      trialTime: this.state.trialTime,\n      trialNum: this.state.trialNum,\n      trialBlock: this.state.trialBlock,\n      trialNumInBlock: this.state.trialNumInBlock,\n      trialForced: trialForced,\n      // true if it is a forced trial\n      trialShuttleWord: [this.state.Shuttle1Word, this.state.Shuttle2Word],\n      trialShuttle: this.state.ShuttlePicWord,\n      trialShuttlePos: this.state.ShuttlePos,\n      trialShuttleProb: [this.state.Prob1, this.state.Prob2],\n      trialLastStatePic: [this.state.LastStatePic1, this.state.LastStatePic2, this.state.LastStatePic3],\n      trialOutcomePic: [this.state.OutcomePic1, this.state.OutcomePic2, this.state.OutcomePic3],\n      trialOutcomeVal: [this.state.OutcomeVal1, this.state.OutcomeVal2, this.state.OutcomeVal2],\n      trialSafePath: this.state.SafePath,\n      trialRiskyPath1: this.state.RiskyPath1,\n      trialRiskyPath2: this.state.RiskyPath2,\n      trialSafeProb: this.state.taskSafePathProb[this.state.trialNum - 1],\n      trialRiskyProb1: this.state.taskRiskyPathProb1[this.state.trialNum - 1],\n      trialRiskyProb2: this.state.taskRiskyPathProb2[this.state.trialNum - 1],\n      trialSafeValue: this.state.taskSafePathOutcome[this.state.trialNum - 1],\n      trialRiskyValue1: this.state.taskRiskyPathOutcome1[this.state.trialNum - 1],\n      trialRiskyValue2: this.state.taskRiskyPathOutcome2[this.state.trialNum - 1],\n      trialSafePathEV: this.state.taskSafePathEV[this.state.trialNum - 1],\n      trialRiskyPathEV1: this.state.taskRiskyPathEV1[this.state.trialNum - 1],\n      trialRiskyPathEV2: this.state.taskRiskyPathEV2[this.state.trialNum - 1],\n      trialGambleEV: this.state.taskGambleEV[this.state.trialNum - 1],\n      //Risky EV1+EV2\n      trialChoiceEV: this.state.taskChoiceEV[this.state.trialNum - 1],\n      //SafeEV - (RiskyEV1+EV2)\n      trialPlan: this.state.taskPlanChoice[this.state.trialNum - 1],\n      //0 for not a plan trial, 1 for a plan trial\n      trialPlanRT: this.state.planRT,\n      trialPlanChoice: this.state.planChoices,\n      trialPlanChoiceWords: this.state.planChoicesWords,\n      trialPlanPathChosen: this.state.planPathChosen,\n      trialPlanCor: this.state.planCor,\n      trialPathProb: this.state.pathProbBoth,\n      //this is whether they chose 100 or 50/50, etc\n      trialRT: this.state.trialRT,\n      trialKeypress: this.state.keyChoice,\n      //press left or right\n      trialGambleChoice: this.state.pathIndx,\n      //press 1- safe or 2 -risky\n      trialPathProbChosen: this.state.pathProbEnd,\n      //this is whether they chose 100 or 50/50, etc\n      trialPath: this.state.pathNum,\n      //this should be which path\n      trialPathPicWord: this.state.taskPathPicWord,\n      trialPathIndx: this.state.pathRoute,\n      trialOutcomePicWord: this.state.taskOutcomeWord,\n      trialOutcomeIndx: this.state.taskOutcomeIndx,\n      trialOutcomeValence: trialOutcomeValence,\n      //1, -1 or 0\n      trialOutcomeMag: this.state.outcomeValue,\n      //i can see what number 0 is\n      trialOutcomeValue: this.state.taskOutcomeValue,\n      //actual value\n      trialOptimalChoice: this.state.taskOptChoice[this.state.trialNum - 1],\n      trialCoins: this.state.coins\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/task_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(saveString)\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    } // console.log(\"trialInBlock: \" + this.state.trialInBlock);\n\n\n    if (this.state.trialNumInBlock >= this.state.trialInBlock && this.state.trialNum !== this.state.trialTotal) {\n      //end of block, send to resting screen\n      setTimeout(function () {\n        this.endBlock();\n      }.bind(this), this.state.outcomeDur);\n    } else {\n      setTimeout(function () {\n        this.setTrialVar();\n      }.bind(this), this.state.outcomeDur);\n    }\n  }\n\n  endBlock() {\n    this.setState({\n      instructScreen: true,\n      taskScreen: false,\n      instructScreenText: 5\n    });\n  }\n\n  nextBlock() {\n    var trialBlock = this.state.trialBlock + 1;\n    var forcedPaths = this.state.forcedPaths;\n    shuffle(forcedPaths);\n    this.setState({\n      instructScreen: false,\n      taskScreen: true,\n      trialNumInBlock: 0,\n      //reset for next block\n      trialBlock: trialBlock,\n      forcedPaths: forcedPaths\n    });\n    setTimeout(function () {\n      this.setTrialVar();\n    }.bind(this), 5);\n  }\n\n  passMission() {\n    this.setState({\n      instructScreen: true,\n      taskScreen: false,\n      instructScreenText: 6\n    });\n    setTimeout(function () {\n      this.calBonus();\n    }.bind(this), 0);\n  }\n\n  calBonus() {\n    var coins = this.state.coins;\n    var bonus = coins / (0.4 * this.state.trialTotal) * 4; // if you earn negative then no bonus at all?\n\n    if (bonus < 0) {\n      bonus = 0;\n    } else {\n      bonus = roundTo(bonus, 2); //2 dec pl\n    }\n\n    this.setState({\n      bonus: bonus\n    });\n    setTimeout(function () {\n      this.saveBonus();\n    }.bind(this), 0);\n  }\n\n  saveBonus() {\n    var userID = this.state.userID;\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      sectionTime: this.state.sectionTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      taskCoins: this.state.coins,\n      taskBonus: this.state.bonus\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/bonus_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(saveString)\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n  }\n\n  nextMission() {\n    document.removeEventListener(\"keyup\", this._handleInstructKey);\n    document.removeEventListener(\"keyup\", this._handleDebugKey);\n    this.props.history.push({\n      pathname: `/Questionnaires`,\n      state: {\n        userID: this.state.userID,\n        date: this.state.date,\n        startTime: this.state.startTime,\n        bonus: this.state.bonus,\n        img_astrodude1: this.state.img_astrodude1,\n        shuttlePic: this.state.shuttlePic\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    // fix Warning: Can't perform a React state update on an unmounted component\n    this.setState = (state, callback) => {\n      return;\n    };\n  }\n\n  condSave() {\n    var userID = this.state.userID;\n    var currentDate = new Date(); // maybe change to local\n\n    var sectionTime = currentDate.toTimeString();\n    var trialTime = Math.round(performance.now());\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      // this is when they start the expt\n      sectionTime: sectionTime,\n      //this is if they somehow refresh the page...\n      trialTime: trialTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      structNum: this.state.structNum,\n      outcomeWord: null,\n      outcomeVal: null,\n      outcomeIndx: null,\n      stateWord: null,\n      stateIndx: null,\n      pathOne: null,\n      pathTwo: null,\n      pathThree: null,\n      tutForcedPaths: null,\n      tutSafePathOutcome: null,\n      tutRiskyPathOutcome1: null,\n      tutRiskyPathOutcome2: null,\n      tutSafePathProb: null,\n      tutRiskyPathProb1: null,\n      tutRiskyPathProb2: null,\n      tutOptChoice: null,\n      tutForceChoice: null,\n      tutPlanChoice: null,\n      taskSafePathOutcome: this.state.taskSafePathOutcome,\n      taskRiskyPathOutcome1: this.state.taskRiskyPathOutcome1,\n      taskRiskyPathOutcome2: this.state.taskRiskyPathOutcome2,\n      taskSafePathProb: this.state.taskSafePathProb,\n      taskRiskyPathProb1: this.state.taskRiskyPathProb1,\n      taskRiskyPathProb2: this.state.taskRiskyPathProb2,\n      taskOptChoice: this.state.taskOptChoice,\n      taskForceChoice: this.state.taskForceChoice,\n      taskPlanChoice: this.state.taskPlanChoice\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/cond_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(saveString)\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n  } //////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////\n  // render time\n\n\n  render() {\n    let text;\n\n    if (this.state.debug === false) {\n      if (this.state.instructScreen === true) {\n        document.addEventListener(\"keyup\", this._handleInstructKey);\n\n        if (this.state.instructScreenText === 1) {\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          document.removeEventListener(\"keyup\", this._handleTaskKey);\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.likeP,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"MISSION START\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2102,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2103,\n                columnNumber: 17\n              }, this), \"You are now ready to start the main mission.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2105,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2106,\n                columnNumber: 17\n              }, this), \"Remember: you can earn a bonus of up to \\xA34 if you complete the mission!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2109,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2110,\n                columnNumber: 17\n              }, this), \"The more coins you earn, the higher your bonus will be.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2112,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2113,\n                columnNumber: 17\n              }, this), \"Please take note of some \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"important changes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2114,\n                columnNumber: 42\n              }, this), \" for the main mission:\", /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"You can only choose the shuttle after\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [this.state.respWaitDur / 1000, \" seconds\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2119,\n                    columnNumber: 21\n                  }, this), \".\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2117,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"You will only have\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [this.state.timerCountDur, \" seconds\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2123,\n                    columnNumber: 21\n                  }, this), \" to plan which choice to make each time.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2121,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"A timer will be shown. If the timer runs out, you will\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"lose 1 coin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2128,\n                    columnNumber: 21\n                  }, this), \".\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2126,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"We will only ask you to select the connecting room images in its correct order \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2132,\n                    columnNumber: 39\n                  }, this), \"of the\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"spaceship that you believe you will end up in\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2134,\n                    columnNumber: 21\n                  }, this), \" \", \"SOME of the time.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2130,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2116,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"NEXT \\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2141,\n                  columnNumber: 20\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2140,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2101,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2100,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 2) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.likeP,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"MISSION START\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2150,\n                columnNumber: 17\n              }, this), \"As a refresher, the outcome rooms you can find:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.outcomePic[0],\n                  alt: \"outcome1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2153,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0 = \\xA0+\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.coin,\n                  src: this.state.img_coin,\n                  alt: \"coin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2159,\n                  columnNumber: 19\n                }, this), \" \", \"(gain)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2165,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.outcomePic[1],\n                  alt: \"outcome2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2166,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0 = \\xA0-\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.coin,\n                  src: this.state.img_coin,\n                  alt: \"coin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2172,\n                  columnNumber: 19\n                }, this), \" \", \"(lose)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2178,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.outcomePic[2],\n                  alt: \"outcome3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2179,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0 = \\xA0none\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2152,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u2190 BACK\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2187,\n                  columnNumber: 20\n                }, this), \"] [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"NEXT \\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2187,\n                  columnNumber: 46\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2186,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2149,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2148,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 3) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.likeP,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"MISSION START\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2196,\n                columnNumber: 17\n              }, this), \"And the connecting room order of the spaceships are:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.spaceshipSmall,\n                  children: \"Spaceship A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2199,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[0],\n                  alt: \"statePic1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2200,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[1],\n                  alt: \"statePic2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2206,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[2],\n                  alt: \"statePic3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2212,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2217,\n                  columnNumber: 19\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2217,\n                  columnNumber: 26\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.spaceshipSmall,\n                  children: \"Spaceship B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2218,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[3],\n                  alt: \"statePic4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2219,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[4],\n                  alt: \"statePic5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2225,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[5],\n                  alt: \"statePic6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2231,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2236,\n                  columnNumber: 19\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2236,\n                  columnNumber: 26\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.spaceshipSmall,\n                  children: \"Spaceship C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2237,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[6],\n                  alt: \"statePic7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2238,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[7],\n                  alt: \"statePic8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2244,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[8],\n                  alt: \"statePic9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2250,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2198,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u2190 BACK\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2257,\n                  columnNumber: 20\n                }, this), \"] [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"NEXT \\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2257,\n                  columnNumber: 46\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2256,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2195,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2194,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 4) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.likeP,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"MISSION START\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2266,\n                columnNumber: 17\n              }, this), \"You will make \", this.state.trialTotal, \" shuttle journeys in total across \", this.state.trialBlockTotal, \" blocks.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2269,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2270,\n                columnNumber: 17\n              }, this), \"This means you will make\\xA0\", this.state.trialTotal / this.state.trialBlockTotal, \" shuttle journeys in each block.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2275,\n                columnNumber: 17\n              }, this), \"In the\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"first \", this.state.trialForced, \" shuttle journeys of every block\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2277,\n                columnNumber: 17\n              }, this), \", only the \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"reliable shuttle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2280,\n                columnNumber: 28\n              }, this), \" option will be available and\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2282,\n                columnNumber: 17\n              }, this), \"you will be shown the connecting and outcome room images.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2284,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2285,\n                columnNumber: 17\n              }, this), \"Thereafter, both shuttles will be available and\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"no images will be shown\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2287,\n                columnNumber: 17\n              }, this), \".\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2288,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2289,\n                columnNumber: 17\n              }, this), \"You will have to use your \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"memory\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2290,\n                columnNumber: 43\n              }, this), \" to decipher the clues and make your choices.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2292,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2293,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"YOUR MISSION:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2294,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Recall the spaceship connecting rooms and figure out which spaceship you should board to gain or avoid losing coins.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2296,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Then, decide if it is worth the risk take the reliable or unreliable shuttle according to their probabilties.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2300,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2295,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"If you are ready to begin, please press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"SPACEBAR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2307,\n                  columnNumber: 19\n                }, this), \"].\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2305,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u2190 BACK\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2310,\n                  columnNumber: 20\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2309,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2265,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2264,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 5) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"MID-MISSION\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2319,\n                columnNumber: 17\n              }, this), \"You have completed \", this.state.trialBlock, \" out of\\xA0\", this.state.trialBlockTotal, \" blocks!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2322,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2323,\n                columnNumber: 17\n              }, this), \"You may take a short break.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2325,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2326,\n                columnNumber: 17\n              }, this), \"Remember: the first \", this.state.trialForced, \" shuttle journeys will only have the \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"reliable shuttle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2328,\n                columnNumber: 36\n              }, this), \" option available.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2330,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2331,\n                columnNumber: 17\n              }, this), \"You should take the opportunity to refresh your memory of the room and outcome images.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2334,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"If you are ready to continue, please press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"SPACEBAR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2337,\n                  columnNumber: 19\n                }, this), \"].\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2335,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2318,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2317,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 6) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"MISSION END\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2346,\n                columnNumber: 17\n              }, this), \"Well done! You have completed all blocks!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2348,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2348,\n                columnNumber: 24\n              }, this), \"You earned \", this.state.coins, \" coins in your mission!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2350,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2350,\n                columnNumber: 24\n              }, this), \"This will be converted into a bonus at the end of the task.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2352,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2352,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"Press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"SPACEBAR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2354,\n                  columnNumber: 30\n                }, this), \"] to continue.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2353,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2345,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2344,\n            columnNumber: 13\n          }, this);\n        }\n      } else if (this.state.instructScreen === false) {\n        if (this.state.taskScreen === true) {\n          document.removeEventListener(\"keyup\", this._handleInstructKey);\n\n          if (this.state.trialNum <= this.state.trialTotal) {\n            if (this.state.pathPlay === false && this.state.planPlay === false) {\n              text = /*#__PURE__*/_jsxDEV(\"div\", {\n                children: this.taskStart(this.state.trialNum)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2368,\n                columnNumber: 22\n              }, this);\n            } // the planning screen\n            else if (this.state.pathPlay === false && this.state.planPlay === true) {\n              document.addEventListener(\"keyup\", this._handlePlanKey);\n              document.removeEventListener(\"keyup\", this._handleTaskKey);\n              text = /*#__PURE__*/_jsxDEV(\"div\", {\n                children: this.planStart()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2377,\n                columnNumber: 22\n              }, this);\n            } else if (this.state.pathPlay === true && this.state.planPlay === false) {\n              document.removeEventListener(\"keyup\", this._handlePlanKey);\n              document.removeEventListener(\"keyup\", this._handleTaskKey);\n              text = /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.main,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.counter,\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    className: styles.counter,\n                    src: this.state.img_counter,\n                    alt: \"counter\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2387,\n                    columnNumber: 21\n                  }, this), this.state.trialNum, \"/\", this.state.trialTotal]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2386,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.coins,\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    className: styles.counter,\n                    src: this.state.img_coin,\n                    alt: \"coin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2395,\n                    columnNumber: 21\n                  }, this), this.state.coins]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2394,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: styles.center,\n                    children: [\"Spaceship \", this.state.whichShip]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2403,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: styles.centerTwo,\n                    children: this.state.stateNum\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2406,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2409,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: styles.centerThree,\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: styles.outcomeValue,\n                      children: this.state.outcomeValue\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2411,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: styles.stateLarge,\n                      src: this.state.stateShown,\n                      alt: \"state\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2414,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2410,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2420,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: styles.centerThree,\n                    children: [this.state.taskOutcome1, \" \", this.state.taskOutcomeValue, \"\\xA0\", this.state.taskOutcome2]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2421,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2425,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2402,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2385,\n                columnNumber: 17\n              }, this);\n            } //\n\n          } else {\n            // finish all trials - go to end screen\n            setTimeout(function () {\n              this.passMission();\n            }.bind(this), 0);\n          } //\n\n        }\n      }\n    } else if (this.state.debug === true) {\n      document.addEventListener(\"keyup\", this._handleDebugKey);\n      text = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.main,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.center,\n            children: \"DEBUG MODE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2448,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2449,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.centerTwo,\n            children: [\"Press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"SPACEBAR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2451,\n              columnNumber: 26\n            }, this), \"] to skip to next section.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2450,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2447,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2446,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.spacebg,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.astro3,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: this.state.img_astrodude3,\n          alt: \"astrodude\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2461,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2460,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.textblock,\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2463,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2459,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(ExptTask);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/alisaloosen/Documents/GitHub/replay-task/src/Components/ExptTask.js"],"names":["React","withRouter","DATABASE_URL","CountdownCircleTimer","styles","renderTime","remainingTime","timer","timerValue","timerText","shuffle","array","currentIndex","length","temporaryValue","randomIndex","Math","floor","random","getOutPos1","num","getOutPos2","getRandomInt","min","max","minimum","ceil","maximum","pathToGo","probability","arraysEqual","a","b","Array","isArray","every","el","ix","inArray","needle","haystack","count","i","roundTo","n","digits","undefined","multiplicator","pow","parseFloat","toFixed","test","round","shuttleIndex","cueOutPosIndx","cueShutPosIndx","paths","forcedPaths","trialBlockTotal","trialForced","trialForcedTotal","trialTotal","trialInBlock","ExptTask","Component","constructor","props","componentDidMount","window","scrollTo","randNum","StructToRender","require","taskSafePathOutcome","taskRiskyPathOutcome1","taskRiskyPathOutcome2","taskSafePathProb","taskRiskyPathProb1","taskRiskyPathProb2","taskSafePathEV","taskRiskyPathEV1","taskRiskyPathEV2","taskGambleEV","taskChoiceEV","taskOptChoice","taskForceChoice","taskPlanChoice","setState","structNum","setTimeout","condSave","bind","mounted","_handleInstructKey","event","key_pressed","keyCode","handleInstructLocal","_handleDebugKey","pressed","handleDebugKeyLocal","_handleTaskKey","time_pressed","performance","now","taskCheck","_handlePlanKey","planCheck","userID","location","state","date","startTime","shuttlePic","shuttleWord","img_fix","img_astrodude1","img_astrodude2","img_astrodude3","img_counter","img_coinSmall","img_coin","img_pathInstruct1","stateHolder","statePic","stateWord","outcomePic","outcomeWord","outcomeVal","outcomeIndx","stateIndx","pathOne","pathTwo","pathThree","currentDate","Date","timeString","toTimeString","taskSessionTry","taskSession","instructScreenText","sectionTime","instructScreen","taskScreen","trialBlock","trialNum","trialNumInBlock","trialTime","trialRT","trialKeypress","trialScore","shuttleChoice","stateNum","stateShown","stateDur","outcomeDur","respWaitDur","fixDur","coins","choice1Fade","choice2Fade","pathPlay","pathProb","keyChoice","pathRoute","taskOutcomeValue","taskForcedChoiceText1","taskForcedChoiceText2","timerCountDur","timerKey","debug","lateResponse","taskStart","planStart","addEventListener","e","target","document","body","preventDefault","curText","whichButton","missionThree","nextBlock","nextMission","pathTrans","outcome","pathIndx","ShuttlePos","pathProbEnd","shuttleChoiceFade","SafePath","RiskyPath1","RiskyPath2","console","log","planTime","selectPlanStates","playStateOne","path1","path2","rand","bothPath","concat","planPlay","statePlan1","statePlan2","statePlan3","statePlan4","statePlan5","statePlan6","keyChoiceAll","planCurrentChoice","statePlan1Style","statePlan2Style","statePlan3Style","statePlan4Style","statePlan5Style","statePlan6Style","planChoices","planChoicesWords","planRT","statePlanChosen","samePathOne","samePathTwo","samePathThree","planPathChosen","planCor","planFeedback","text","main","counter","centerTwo","centerThree","setTrialVar","missionCont","removeEventListener","forcedPath","SafeRand1","SafeRand2","SafePathShuttlePic","SafePathOutPic","Risky1Rand1","Risky1Rand2","RiskyPath1ShuttlePic","RiskyPath1OutPic","Risky2Rand1","Risky2Rand2","RiskyPath2ShuttlePic","RiskyPath2OutPic","Prob1","Prob2","Shuttle1","Shuttle2","Shuttle1Word","Shuttle2Word","ShuttlePicWord","pathProbBoth","shuttlePreChoice","neuVal","SafeOut","SafeVal","Risky1Out","Risky1Val","Risky2Out","Risky2Val","OutcomeVal1","OutcomeVal2","OutcomeVal3","OutcomePic1","OutcomePic2","OutcomePic3","LastStatePic1","LastStatePic2","LastStatePic3","statePlan","allowResp","timerOn","pathNum","taskPathPicWord","taskOutcomeWord","taskOutcomeIndx","outcomeValue","taskSave","likeP","cueScreen","shuttle","pathRoutePic1","whichShip","pathPicWord","taskOutcome1","taskOutcome2","playFix","playStateTwo","playStateThree","playOutcome","pathRoutePic2","pathRoutePic3","trialOutcomeValence","saveString","trialShuttleWord","trialShuttle","trialShuttlePos","trialShuttleProb","trialLastStatePic","trialOutcomePic","trialOutcomeVal","trialSafePath","trialRiskyPath1","trialRiskyPath2","trialSafeProb","trialRiskyProb1","trialRiskyProb2","trialSafeValue","trialRiskyValue1","trialRiskyValue2","trialSafePathEV","trialRiskyPathEV1","trialRiskyPathEV2","trialGambleEV","trialChoiceEV","trialPlan","trialPlanRT","trialPlanChoice","trialPlanChoiceWords","trialPlanPathChosen","trialPlanCor","trialPathProb","trialGambleChoice","trialPathProbChosen","trialPath","trialPathPicWord","trialPathIndx","trialOutcomePicWord","trialOutcomeIndx","trialOutcomeMag","trialOutcomeValue","trialOptimalChoice","trialCoins","fetch","method","headers","Accept","JSON","stringify","endBlock","passMission","calBonus","bonus","saveBonus","taskCoins","taskBonus","history","push","pathname","componentWillUnmount","callback","tutForcedPaths","tutSafePathOutcome","tutRiskyPathOutcome1","tutRiskyPathOutcome2","tutSafePathProb","tutRiskyPathProb1","tutRiskyPathProb2","tutOptChoice","tutForceChoice","tutPlanChoice","render","center","stateSmall","coin","spaceshipSmall","stateLarge","spacebg","astro3","textblock"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { DATABASE_URL } from \"./config\";\n\nimport { CountdownCircleTimer } from \"react-countdown-circle-timer\";\n\nimport styles from \"./style/taskStyle.module.css\";\n\n/////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// GLOBAL FUNCTIONS\n\nconst renderTime = ({ remainingTime }) => {\n  if (remainingTime === 0) {\n    return <div className={styles.timer}>Too late!</div>;\n  }\n\n  return (\n    <div className={styles.timer}>\n      <span className={styles.timerValue}>{10 - remainingTime}</span>\n      <span className={styles.timerText}>sec</span>\n    </div>\n  );\n};\n\nfunction shuffle(array) {\n  var currentIndex = array.length,\n    temporaryValue,\n    randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\n// var isArray =\n//   Array.isArray ||\n//   function (value) {\n//     return {}.toString.call(value) !== \"[object Array]\";\n//   };\n//\n// function shuffleSame() {\n//   var arrLength = 0;\n//   var argsLength = arguments.length;\n//   var rnd, tmp, argsIndex;\n//\n//   for (var index = 0; index < argsLength; index += 1) {\n//     if (!isArray(arguments[index])) {\n//       throw new TypeError(\"Argument is not an array.\");\n//     }\n//\n//     if (index === 0) {\n//       arrLength = arguments[0].length;\n//     }\n//\n//     if (arrLength !== arguments[index].length) {\n//       throw new RangeError(\"Array lengths do not match.\");\n//     }\n//   }\n//\n//   while (arrLength) {\n//     rnd = Math.round(Math.random() * arrLength);\n//     arrLength -= 1;\n//     for (argsIndex = 0; argsIndex < argsLength; argsIndex += 1) {\n//       tmp = arguments[argsIndex][arrLength];\n//       arguments[argsIndex][arrLength] = arguments[argsIndex][rnd];\n//       arguments[argsIndex][rnd] = tmp;\n//     }\n//   }\n// }\n\nfunction getOutPos1() {\n  var num = Math.random();\n  if (num < 0.33) return 1;\n  //probability 0.3\n  else return 0; //probability 0.1\n}\n\nfunction getOutPos2() {\n  var num = Math.random();\n  if (num < 0.5) return 1;\n  //probability 0.5\n  else return 2; //probability 0.5\n}\n\nfunction getRandomInt(min, max) {\n  const minimum = Math.ceil(min);\n  const maximum = Math.floor(max);\n\n  return Math.floor(Math.random() * (maximum - minimum + 1)) + minimum;\n}\n\nfunction pathToGo(probability) {\n  var num = Math.random();\n  if (num < probability) return 1;\n  else return 0;\n}\n\nfunction arraysEqual(a, b) {\n  a = Array.isArray(a) ? a : [];\n  b = Array.isArray(b) ? b : [];\n  return a.length === b.length && a.every((el, ix) => el === b[ix]);\n}\n\nfunction inArray(needle, haystack) {\n  var count = haystack.length;\n  for (var i = 0; i < count; i++) {\n    if (haystack[i] === needle) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction roundTo(n, digits) {\n  if (digits === undefined) {\n    digits = 0;\n  }\n\n  var multiplicator = Math.pow(10, digits);\n  n = parseFloat((n * multiplicator).toFixed(11));\n  var test = Math.round(n) / multiplicator;\n  return +test.toFixed(digits);\n}\n//////////////////////////////////////////////////////////////////////////////\n\nvar shuttleIndex = [0, 1]; //0 - safe, 1 - risky\nvar cueOutPosIndx = [0, 1, 2]; //0-- top, 1 - middle, 2 - bottom\nvar cueShutPosIndx = [0, 1]; //0 - left, 1 - right\nvar paths = [1, 2, 3];\n\nvar forcedPaths = [1, 2, 3];\nshuffle(forcedPaths);\n\nvar trialBlockTotal = 2; //the full length is 8\nvar trialForced = 3;\nvar trialForcedTotal = trialForced * trialBlockTotal;\nvar trialTotal = 26 + trialForcedTotal; //usually its 104 +\n\nvar trialInBlock = trialTotal / trialBlockTotal;\n\n/////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// REACT COMPONENT START\nclass ExptTask extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const userID = this.props.location.state.userID;\n    const date = this.props.location.state.date;\n    const startTime = this.props.location.state.startTime;\n\n    const shuttlePic = this.props.location.state.shuttlePic;\n    const shuttleWord = this.props.location.state.shuttleWord;\n    const img_fix = this.props.location.state.img_fix;\n    const img_astrodude1 = this.props.location.state.img_astrodude1;\n    const img_astrodude2 = this.props.location.state.img_astrodude2;\n    const img_astrodude3 = this.props.location.state.img_astrodude3;\n    const img_counter = this.props.location.state.img_counter;\n    const img_coinSmall = this.props.location.state.img_coinSmall;\n    const img_coin = this.props.location.state.img_coin;\n    const img_pathInstruct1 = this.props.location.state.img_pathInstruct1;\n    const stateHolder = this.props.location.state.stateHolder;\n\n    const statePic = this.props.location.state.statePic;\n    const stateWord = this.props.location.state.stateWord;\n\n    const outcomePic = this.props.location.state.outcomePic;\n    const outcomeWord = this.props.location.state.outcomeWord;\n    const outcomeVal = this.props.location.state.outcomeVal;\n    const outcomeIndx = this.props.location.state.outcomeIndx;\n\n    const stateIndx = this.props.location.state.stateIndx; //[0, 1, 2, 3, 4, 5, 6, 7, 8];\n\n    const pathOne = this.props.location.state.pathOne; //[0, 1, 2];\n    const pathTwo = this.props.location.state.pathTwo; //[3, 4, 5];\n    const pathThree = this.props.location.state.pathThree; //[6, 7, 8];\n\n    var currentDate = new Date(); // maybe change to local\n    var timeString = currentDate.toTimeString();\n\n    /////////////////////////////////////////////////////////////////////////////////\n    // SET COMPONENT STATES\n    this.state = {\n      userID: userID,\n      date: date,\n      startTime: startTime,\n      taskSessionTry: 1,\n      taskSession: \"ExptTask\",\n      instructScreenText: 1,\n      sectionTime: timeString,\n\n      img_fix: img_fix,\n      img_astrodude1: img_astrodude1,\n      img_astrodude2: img_astrodude2,\n      img_astrodude3: img_astrodude3,\n      img_counter: img_counter,\n      img_coinSmall: img_coinSmall,\n      img_coin: img_coin,\n      img_pathInstruct1: img_pathInstruct1,\n\n      instructScreen: true,\n      taskScreen: false,\n\n      trialTotal: trialTotal,\n      trialForced: trialForced, //3 of the trials are forced choice\n      trialBlock: 1,\n      trialBlockTotal: trialBlockTotal,\n      trialNum: 0,\n      trialNumInBlock: 0,\n      trialInBlock: trialInBlock,\n      trialTime: 0,\n      trialRT: 0,\n      trialKeypress: 0,\n      trialScore: 0,\n\n      shuttleChoice: 0, //1 or 2\n      shuttleWord: shuttleWord,\n      shuttlePic: shuttlePic,\n      stateWord: stateWord,\n      statePic: statePic,\n      stateIndx: stateIndx,\n      stateNum: \"\",\n      stateShown: null,\n      stateDur: 2000,\n      outcomeDur: 2000,\n      respWaitDur: 3000,\n      fixDur: 250,\n      stateHolder: stateHolder,\n\n      outcomePic: outcomePic,\n      outcomeWord: outcomeWord,\n      outcomeVal: outcomeVal,\n      outcomeIndx: outcomeIndx,\n\n      coins: 0, //this is basically trialScore but long running tally..\n\n      choice1Fade: styles.shuttleChoice,\n      choice2Fade: styles.shuttleChoice,\n\n      pathPlay: false,\n      pathProb: 0,\n      keyChoice: 0, //press left or right\n\n      shuttleIndex: shuttleIndex,\n      cueOutPosIndx: cueOutPosIndx,\n      cueShutPosIndx: cueShutPosIndx,\n      paths: paths,\n      pathOne: pathOne,\n      pathTwo: pathTwo,\n      pathThree: pathThree,\n      pathRoute: [],\n      forcedPaths: forcedPaths,\n\n      taskOutcomeValue: null,\n      taskForcedChoiceText1: [],\n      taskForcedChoiceText2: [],\n\n      timerCountDur: 10,\n      timerKey: 0,\n\n      StructToRender: \"\",\n\n      debug: false,\n    };\n\n    this.handleInstructLocal = this.handleInstructLocal.bind(this);\n    this.handleDebugKeyLocal = this.handleDebugKeyLocal.bind(this);\n    this.lateResponse = this.lateResponse.bind(this);\n    this.taskStart = this.taskStart.bind(this);\n    this.planStart = this.planStart.bind(this);\n\n    /* prevents page from going down when space bar is hit .*/\n    window.addEventListener(\"keydown\", function (e) {\n      if (e.keyCode === 32 && e.target === document.body) {\n        e.preventDefault();\n      }\n    });\n  }\n  /////////////////////////////////////////////////////////////////////////////////\n  // END COMPONENT STATE\n\n  componentDidMount = () => {\n    window.scrollTo(0, 0);\n\n    // Variables for tutorial\n    //taskStruct 0-2: values, 3-5: probability, 6-8: EVs, 9: risky EV, 10: safe - risky EV, 11: optimal answer (1:safe, 2: risky)\n\n    var randNum = \"struct_\" + getRandomInt(1, 5);\n    var StructToRender = require(\"./taskStruct/\" + randNum + \".json\");\n\n    var taskSafePathOutcome = StructToRender[0];\n    var taskRiskyPathOutcome1 = StructToRender[1];\n    var taskRiskyPathOutcome2 = StructToRender[2];\n\n    var taskSafePathProb = StructToRender[3];\n    var taskRiskyPathProb1 = StructToRender[4];\n    var taskRiskyPathProb2 = StructToRender[5];\n\n    var taskSafePathEV = StructToRender[6];\n    var taskRiskyPathEV1 = StructToRender[7];\n    var taskRiskyPathEV2 = StructToRender[8];\n\n    var taskGambleEV = StructToRender[9]; //Risky EV1+EV2\n    var taskChoiceEV = StructToRender[10]; //SafeEV - (RiskyEV1+EV2)\n\n    var taskOptChoice = StructToRender[11];\n    var taskForceChoice = StructToRender[12];\n\n    var taskPlanChoice = StructToRender[13];\n\n    this.setState({\n      structNum: randNum,\n      StructToRender: StructToRender,\n      taskSafePathOutcome: taskSafePathOutcome,\n      taskRiskyPathOutcome1: taskRiskyPathOutcome1,\n      taskRiskyPathOutcome2: taskRiskyPathOutcome2,\n\n      taskSafePathProb: taskSafePathProb,\n      taskRiskyPathProb1: taskRiskyPathProb1,\n      taskRiskyPathProb2: taskRiskyPathProb2,\n\n      taskSafePathEV: taskSafePathEV,\n      taskRiskyPathEV1: taskRiskyPathEV1,\n      taskRiskyPathEV2: taskRiskyPathEV2,\n\n      taskGambleEV: taskGambleEV, //Risky EV1+EV2\n      taskChoiceEV: taskChoiceEV, //SafeEV - (RiskyEV1+EV2)\n\n      taskOptChoice: taskOptChoice,\n      taskForceChoice: taskForceChoice,\n      taskPlanChoice: taskPlanChoice,\n    });\n\n    //send the outcomeTask conditions?\n    setTimeout(\n      function () {\n        this.condSave();\n      }.bind(this),\n      0\n    );\n\n    setTimeout(\n      function () {\n        this.setState({\n          mounted: 1,\n        });\n      }.bind(this),\n      5000\n    );\n  };\n\n  handleInstructLocal(key_pressed) {\n    var curText = this.state.instructScreenText;\n    var whichButton = key_pressed;\n\n    if (whichButton === 4 && curText > 1 && curText <= 4) {\n      this.setState({ instructScreenText: curText - 1 });\n    } else if (whichButton === 5 && curText < 4) {\n      this.setState({ instructScreenText: curText + 1 });\n    } else if (curText === 4 && whichButton === 10) {\n      //start task\n      setTimeout(\n        function () {\n          this.missionThree();\n        }.bind(this),\n        0\n      );\n    } else if (curText === 5 && whichButton === 10) {\n      //into rest block\n      setTimeout(\n        function () {\n          this.nextBlock();\n        }.bind(this),\n        0\n      );\n    } else if (curText === 6 && whichButton === 10) {\n      //into rest block\n      setTimeout(\n        function () {\n          this.nextMission();\n        }.bind(this),\n        0\n      );\n    }\n  }\n\n  // handle key key_pressed\n  _handleInstructKey = (event) => {\n    var key_pressed;\n\n    switch (event.keyCode) {\n      case 37:\n        //    this is left arrow\n        key_pressed = 4;\n        this.handleInstructLocal(key_pressed);\n        break;\n      case 39:\n        //    this is right arrow\n        key_pressed = 5;\n        this.handleInstructLocal(key_pressed);\n        break;\n      case 32:\n        //    this is SPACEBAR\n        key_pressed = 10;\n        this.handleInstructLocal(key_pressed);\n        break;\n      default:\n    }\n  };\n\n  handleDebugKeyLocal(pressed) {\n    var whichButton = pressed;\n\n    if (whichButton === 10) {\n      setTimeout(\n        function () {\n          this.nextMission();\n        }.bind(this),\n        0\n      );\n    }\n  }\n\n  _handleDebugKey = (event) => {\n    var pressed;\n\n    switch (event.keyCode) {\n      case 32:\n        //    this is SPACEBAR\n        pressed = 10;\n        this.handleDebugKeyLocal(pressed);\n        break;\n      default:\n    }\n  };\n\n  _handleTaskKey = (event) => {\n    var pressed;\n    var time_pressed;\n\n    switch (event.keyCode) {\n      case 37:\n        //    this is left arrow\n        pressed = 1;\n        time_pressed = Math.round(performance.now());\n        this.taskCheck(pressed, time_pressed);\n        break;\n      case 39:\n        //    this is right arrow\n        pressed = 2;\n        time_pressed = Math.round(performance.now());\n        this.taskCheck(pressed, time_pressed);\n        break;\n      default:\n    }\n  };\n\n  _handlePlanKey = (event) => {\n    var pressed;\n    var time_pressed;\n\n    switch (event.keyCode) {\n      case 49:\n        //    this is num 1\n        pressed = 1;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 50:\n        //     this is num 2\n        pressed = 2;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 51:\n        //    this is num 1\n        pressed = 3;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 52:\n        //     this is num 2\n        pressed = 4;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 53:\n        //    this is num 1\n        pressed = 5;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 54:\n        //     this is num 2\n        pressed = 6;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n\n      case 97:\n        pressed = 1;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 98:\n        pressed = 2;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 99:\n        pressed = 3;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 100:\n        pressed = 4;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 101:\n        pressed = 5;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 102:\n        pressed = 6;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      default:\n    }\n  };\n\n  // function to play choice feedback, and then go play path\n  taskCheck(pressed, time_pressed) {\n    var trialRT = time_pressed - this.state.trialTime;\n    var keyChoice = pressed;\n    var choice1Fade = this.state.choice1Fade;\n    var choice2Fade = this.state.choice2Fade;\n    var trialNum = this.state.trialNum;\n    var pathRoute = this.state.pathRoute;\n    var pathProb;\n    var pathTrans;\n    var outcome;\n    var pathIndx;\n    var ShuttlePos = this.state.ShuttlePos; //[0,1] means safe/risky vs [0,1] means risky, safe\n    var pathProbEnd;\n\n    // if choose left\n    if (keyChoice === 1) {\n      choice1Fade = styles.shuttleChoice;\n      choice2Fade = styles.shuttleChoiceFade;\n      if (ShuttlePos[0] === 0) {\n        //I choose the safe choice\n        pathRoute = this.state.SafePath;\n        outcome = this.state.taskSafePathOutcome[trialNum - 1];\n        pathIndx = 1;\n        pathProb = 1;\n        pathProbEnd = 1;\n        pathTrans = null;\n      } else if (ShuttlePos[0] === 1) {\n        //I choose the risky choice\n        //Then Let's roll on the probability\n        pathProb = this.state.taskRiskyPathProb2[trialNum - 1]; //this is the smaller prob\n        pathTrans = pathToGo(pathProb); // 0 (Risk1) or 1 (Risk2)\n        pathIndx = 2;\n\n        if (pathTrans === 0) {\n          pathRoute = this.state.RiskyPath1;\n          outcome = this.state.taskRiskyPathOutcome1[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb1[trialNum - 1];\n        } else if (pathTrans === 1) {\n          pathRoute = this.state.RiskyPath2;\n          outcome = this.state.taskRiskyPathOutcome2[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb2[trialNum - 1];\n        } else {\n          pathRoute = \"error\";\n          outcome = \"error\";\n          pathProbEnd = \"error\";\n        }\n      }\n\n      //if choose right\n    } else if (keyChoice === 2) {\n      choice1Fade = styles.shuttleChoiceFade;\n      choice2Fade = styles.shuttleChoice;\n      if (ShuttlePos[1] === 0) {\n        //I choose the safe choice\n        pathRoute = this.state.SafePath;\n        outcome = this.state.taskSafePathOutcome[trialNum - 1];\n        pathIndx = 1;\n        pathProb = 1;\n        pathProbEnd = 1;\n        pathTrans = null;\n      } else if (ShuttlePos[1] === 1) {\n        //I choose the risky choice\n        //Then Let's roll on the probability\n        pathProb = this.state.taskRiskyPathProb2[trialNum - 1]; //this is the smaller prob\n        pathTrans = pathToGo(pathProb); // 0 (Risk1) or 1 (Risk2)\n        pathIndx = 2;\n        if (pathTrans === 0) {\n          pathRoute = this.state.RiskyPath1;\n          outcome = this.state.taskRiskyPathOutcome1[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb1[trialNum - 1];\n        } else if (pathTrans === 1) {\n          pathRoute = this.state.RiskyPath2;\n          outcome = this.state.taskRiskyPathOutcome2[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb2[trialNum - 1];\n        } else {\n          pathRoute = \"error\";\n          outcome = \"error\";\n          pathProbEnd = \"error\";\n        }\n      }\n    } else {\n      //if neither left or right, then nothing happens\n      console.log(\"Choice not made.\");\n    }\n\n    if (\n      (this.state.trialNumInBlock <= this.state.trialForced &&\n        pathIndx !== this.state.taskForceChoice[trialNum - 1]) ||\n      outcome === null\n    ) {\n      //if the trial the forced, keyChoice has to be the same as the dictated asnwer, else it wil not move on\n    } else {\n      // free choice trials\n\n      this.setState({\n        trialRT: trialRT,\n        keyChoice: keyChoice,\n        choice1Fade: choice1Fade,\n        choice2Fade: choice2Fade,\n        pathProb: pathProb,\n        pathRoute: pathRoute,\n        outcome: outcome,\n        pathIndx: pathIndx,\n        pathProbEnd: pathProbEnd,\n      });\n\n      if (this.state.taskPlanChoice[trialNum - 1] === 1) {\n        //if it is a planning choice trial, then go to the planning screen\n        var planTime = Math.round(performance.now()) + 500;\n\n        this.setState({\n          planTime: planTime,\n        });\n\n        setTimeout(\n          function () {\n            this.selectPlanStates();\n          }.bind(this),\n          500\n        );\n      } else {\n        setTimeout(\n          function () {\n            this.playStateOne();\n          }.bind(this),\n          500\n        );\n      }\n    }\n  }\n\n  selectPlanStates() {\n    //if choose safe option, then state shown is 100% path and a random other path\n    //if choose risky option, then state shown is between the risky paths\n    var path1;\n    var path2;\n\n    if (this.state.pathIndx === 1) {\n      var rand = getRandomInt(1, 2);\n      //safe choice\n      if (rand === 1) {\n        path1 = this.state.SafePath;\n        path2 = this.state.RiskyPath1;\n      } else {\n        path1 = this.state.SafePath;\n        path2 = this.state.RiskyPath2;\n      }\n    } else if (this.state.pathIndx === 2) {\n      path1 = this.state.RiskyPath1;\n      path2 = this.state.RiskyPath2;\n    }\n\n    var bothPath = shuffle(path1.concat(path2));\n\n    this.setState({\n      planPlay: true,\n      pathPlay: false,\n      bothPath: bothPath, //[0,2,8,1,6,7]\n      statePlan1: this.state.statePic[bothPath[0]],\n      statePlan2: this.state.statePic[bothPath[1]],\n      statePlan3: this.state.statePic[bothPath[2]],\n      statePlan4: this.state.statePic[bothPath[3]],\n      statePlan5: this.state.statePic[bothPath[4]],\n      statePlan6: this.state.statePic[bothPath[5]],\n    });\n  }\n\n  planCheck(pressed, time_pressed) {\n    var trialRT = time_pressed - this.state.planTime;\n    var keyChoice = pressed;\n    var keyChoiceAll = this.state.keyChoiceAll; //havent made this array yet\n\n    // console.log(\"keyChoice: \" + keyChoice);\n    // console.log(\"keyChoiceAll: \" + keyChoiceAll);\n\n    if (inArray(keyChoice, keyChoiceAll)) {\n      // if the key choice has already been chosen before, do nothing\n    } else {\n      var planCurrentChoice = this.state.planCurrentChoice + 1;\n      var statePlan1Style = this.state.statePlan1Style;\n      var statePlan2Style = this.state.statePlan2Style;\n      var statePlan3Style = this.state.statePlan3Style;\n      var statePlan4Style = this.state.statePlan4Style;\n      var statePlan5Style = this.state.statePlan5Style;\n      var statePlan6Style = this.state.statePlan6Style;\n      var planChoices = this.state.planChoices;\n      var planChoicesWords = this.state.planChoicesWords;\n      var planRT = this.state.planRT;\n      var coins = this.state.coins;\n\n      keyChoiceAll[planCurrentChoice - 2] = keyChoice;\n\n      if (keyChoice === 1) {\n        statePlan1Style = styles.statePlanChosen;\n      } else if (keyChoice === 2) {\n        statePlan2Style = styles.statePlanChosen;\n      } else if (keyChoice === 3) {\n        statePlan3Style = styles.statePlanChosen;\n      } else if (keyChoice === 4) {\n        statePlan4Style = styles.statePlanChosen;\n      } else if (keyChoice === 5) {\n        statePlan5Style = styles.statePlanChosen;\n      } else if (keyChoice === 6) {\n        statePlan6Style = styles.statePlanChosen;\n      }\n\n      planChoices[planCurrentChoice - 2] = this.state.bothPath[keyChoice - 1];\n      planChoicesWords[planCurrentChoice - 2] = this.state.stateWord[\n        this.state.bothPath[keyChoice - 1]\n      ];\n      planRT[planCurrentChoice - 2] = trialRT;\n\n      var planTime = Math.round(performance.now());\n\n      this.setState({\n        planPlay: true,\n        pathPlay: false,\n        statePlan1Style: statePlan1Style,\n        statePlan2Style: statePlan2Style,\n        statePlan3Style: statePlan3Style,\n        statePlan4Style: statePlan4Style,\n        statePlan5Style: statePlan5Style,\n        statePlan6Style: statePlan6Style,\n        planCurrentChoice: planCurrentChoice,\n        planChoices: planChoices,\n        planChoicesWords: planChoicesWords,\n        planRT: planRT,\n        planTime: planTime,\n        keyChoiceAll: keyChoiceAll,\n      });\n\n      //finish choosing 3 choices\n      if (planCurrentChoice === 4) {\n        // check if correct?\n        // the order has to be right!\n        var samePathOne = arraysEqual(planChoices, this.state.pathOne);\n        var samePathTwo = arraysEqual(planChoices, this.state.pathTwo);\n        var samePathThree = arraysEqual(planChoices, this.state.pathThree);\n\n        if (\n          samePathOne === true ||\n          samePathTwo === true ||\n          samePathThree === true\n        ) {\n          // if correct, which path did they think they were gonna go?\n          var planPathChosen;\n\n          if (arraysEqual(planChoices, this.state.SafePath)) {\n            planPathChosen = this.state.taskSafePathProb[\n              this.state.trialNum - 1\n            ];\n          } else if (arraysEqual(planChoices, this.state.RiskyPath1)) {\n            planPathChosen = this.state.taskRiskyPathProb1[\n              this.state.trialNum - 1\n            ];\n          } else if (arraysEqual(planChoices, this.state.RiskyPath2)) {\n            planPathChosen = this.state.taskRiskyPathProb2[\n              this.state.trialNum - 1\n            ];\n          }\n\n          this.setState({\n            planCor: 1,\n            planFeedback: \"Correct order! No coins lost!\",\n            coins: coins,\n            planPathChosen: planPathChosen,\n            planCurrentChoice: 3, //keep the number on screen\n          });\n        } else {\n          coins = coins - 1;\n          this.setState({\n            planCor: 0,\n            planFeedback: \"No such order! You lose 1 coin!\",\n            coins: coins,\n            planPathChosen: null, //failed to choose correct path\n            planCurrentChoice: 3,\n          });\n        }\n\n        setTimeout(\n          function () {\n            this.playStateOne();\n          }.bind(this),\n          1000\n        );\n      }\n    }\n  }\n\n  planStart() {\n    let text = (\n      <div className={styles.main}>\n        <div className={styles.counter}>\n          <img\n            className={styles.counter}\n            src={this.state.img_counter}\n            alt=\"counter\"\n          />\n          {this.state.trialNum}/{this.state.trialTotal}\n        </div>\n        <div className={styles.coins}>\n          <img\n            className={styles.counter}\n            src={this.state.img_coin}\n            alt=\"coin\"\n          />\n          {this.state.coins}\n        </div>\n        <p>\n          <span className={styles.centerTwo}>\n            Choose the room images of the spaceship{\" \"}\n            <strong>you believe you will end up in</strong> in order.\n          </span>\n          <br />\n\n          <span className={styles.centerThree}>\n            Which is <strong>Room {this.state.planCurrentChoice}</strong>?\n          </span>\n          <br />\n          <span className={styles.centerTwo}>\n            1 -{\" \"}\n            <img\n              className={this.state.statePlan1Style}\n              src={this.state.statePlan1}\n              alt=\"state1\"\n            />\n            &nbsp; &nbsp; 2 -{\" \"}\n            <img\n              className={this.state.statePlan2Style}\n              src={this.state.statePlan2}\n              alt=\"state2\"\n            />\n            &nbsp; &nbsp; 3 -{\" \"}\n            <img\n              className={this.state.statePlan3Style}\n              src={this.state.statePlan3}\n              alt=\"state3\"\n            />\n            <br />\n            <br />4 -{\" \"}\n            <img\n              className={this.state.statePlan4Style}\n              src={this.state.statePlan4}\n              alt=\"state4\"\n            />\n            &nbsp; &nbsp; 5 -{\" \"}\n            <img\n              className={this.state.statePlan5Style}\n              src={this.state.statePlan5}\n              alt=\"state5\"\n            />\n            &nbsp; &nbsp; 6 -{\" \"}\n            <img\n              className={this.state.statePlan6Style}\n              src={this.state.statePlan6}\n              alt=\"state6\"\n            />\n          </span>\n          <br />\n          <span className={styles.centerTwo}>{this.state.planFeedback}</span>\n        </p>\n      </div>\n    );\n\n    return <div>{text}</div>;\n  }\n\n  missionThree() {\n    var trialTime = Math.round(performance.now());\n\n    this.setState({\n      pathPlay: false,\n      planPlay: false,\n      trialNum: 0,\n      trialNumInBlock: 0,\n      trialTime: trialTime,\n      trialRT: 0,\n      trialKeypress: 0,\n      trialScore: 0,\n    });\n\n    setTimeout(\n      function () {\n        this.setTrialVar();\n      }.bind(this),\n      0\n    );\n  }\n\n  missionCont() {\n    var trialTime = Math.round(performance.now());\n\n    this.setState({\n      instructScreen: false,\n      taskScreen: true,\n      pathPlay: false,\n      planPlay: false,\n      trialTime: trialTime,\n    });\n\n    setTimeout(\n      function () {\n        this.setTrialVar();\n      }.bind(this),\n      0\n    );\n  }\n\n  setTrialVar() {\n    // disable the task key\n    document.removeEventListener(\"keyup\", this._handleTaskKey);\n\n    // decide Left/Right position for shuttle option (I should save this later)\n    var trialTime = Math.round(performance.now());\n    var trialNum = this.state.trialNum + 1;\n    var trialNumInBlock = this.state.trialNumInBlock + 1;\n    var cueShutPosIndx = this.state.cueShutPosIndx; //0,1\n    shuffle(cueShutPosIndx);\n\n    // decide top/mid/bot position for outcome cues\n    var cueOutPosIndx = this.state.cueOutPosIndx; //0,1,2\n    shuffle(cueOutPosIndx);\n\n    var taskSafePathOutcome = this.state.taskSafePathOutcome[trialNum - 1];\n    var taskRiskyPathOutcome1 = this.state.taskRiskyPathOutcome1[trialNum - 1];\n    var taskRiskyPathOutcome2 = this.state.taskRiskyPathOutcome2[trialNum - 1];\n\n    var taskSafePathProb = this.state.taskSafePathProb[trialNum - 1];\n    var taskRiskyPathProb1 = this.state.taskRiskyPathProb1[trialNum - 1];\n    var taskRiskyPathProb2 = this.state.taskRiskyPathProb2[trialNum - 1];\n\n    var taskForcedChoiceText1 = this.state.taskForcedChoiceText1;\n    var taskForcedChoiceText2 = this.state.taskForcedChoiceText2;\n\n    // var taskOptChoice = this.state.taskOptChoice[trialNum - 1];\n    var taskForceChoice = this.state.taskForceChoice[trialNum - 1];\n\n    var SafePath;\n    var RiskyPath1;\n    var RiskyPath2;\n\n    var paths = this.state.paths; //1,2,3\n    shuffle(paths);\n\n    //  var bool = trialNumInBlock <= this.state.trialForced;\n    // console.log(\"Still Forced Choice? \" + bool);\n    // console.log(\"trialNumInBlock \" + trialNumInBlock);\n    // console.log(\"trialForced \" + this.state.trialForced);\n\n    if (trialNumInBlock <= this.state.trialForced) {\n      //if it is a forced choice then the safe path will play each of the paths twice\n      // console.log(\"Forced Choice\");\n      var forcedPath = this.state.forcedPaths[trialNumInBlock - 1];\n\n      if (forcedPath === 1) {\n        SafePath = this.state.pathOne;\n        RiskyPath1 = this.state.pathTwo;\n        RiskyPath2 = this.state.pathThree;\n      } else if (forcedPath === 2) {\n        SafePath = this.state.pathTwo;\n        RiskyPath1 = this.state.pathOne;\n        RiskyPath2 = this.state.pathThree;\n      } else if (forcedPath === 3) {\n        SafePath = this.state.pathThree;\n        RiskyPath1 = this.state.pathTwo;\n        RiskyPath2 = this.state.pathOne;\n      }\n    } else if (trialNumInBlock > this.state.trialForced) {\n      // shuffle the paths - this is random when not a forced choice\n      // decide which paths are which options\n      // console.log(\"Free Choice\");\n      if ((paths[0] === 1) & (paths[1] === 2) & (paths[2] === 3)) {\n        //this means safe is spaceship 1, risky 1 is spaceship 2 and risky 2 is spaceship 3\n        SafePath = this.state.pathOne;\n        RiskyPath1 = this.state.pathTwo;\n        RiskyPath2 = this.state.pathThree;\n      } else if ((paths[0] === 1) & (paths[1] === 3) & (paths[2] === 2)) {\n        SafePath = this.state.pathOne;\n        RiskyPath1 = this.state.pathThree;\n        RiskyPath2 = this.state.pathTwo;\n      } else if ((paths[0] === 2) & (paths[1] === 1) & (paths[2] === 3)) {\n        SafePath = this.state.pathTwo;\n        RiskyPath1 = this.state.pathOne;\n        RiskyPath2 = this.state.pathThree;\n      } else if ((paths[0] === 2) & (paths[1] === 3) & (paths[2] === 1)) {\n        SafePath = this.state.pathTwo;\n        RiskyPath1 = this.state.pathThree;\n        RiskyPath2 = this.state.pathOne;\n      } else if ((paths[0] === 3) & (paths[1] === 1) & (paths[2] === 2)) {\n        SafePath = this.state.pathThree;\n        RiskyPath1 = this.state.pathOne;\n        RiskyPath2 = this.state.pathTwo;\n      } else if ((paths[0] === 3) & (paths[1] === 2) & (paths[2] === 1)) {\n        SafePath = this.state.pathThree; //[6,7,8]\n        RiskyPath1 = this.state.pathTwo; //[3,4,5]\n        RiskyPath2 = this.state.pathOne; //[0,1,2]\n      }\n    }\n    //shuttle Pic is either first (0) or second (1) state, with 33% probability for the latter\n    var SafeRand1 = getOutPos1();\n    var SafeRand2;\n    if (SafeRand1 === 1) {\n      SafeRand2 = 2; //if it is the second state, then only the third state can be the outcome Pic\n    } else {\n      SafeRand2 = getOutPos2(); //if it is the first state, then second OR third state can be the outcome Pic\n    }\n\n    console.log(\"Trial No: \" + trialNum);\n    // console.log(\"Path: \" + paths);\n    // console.log(\"SafePath: \" + SafePath);\n    // console.log(\"RiskyPath1: \" + RiskyPath1);\n    // console.log(\"RiskyPath2: \" + RiskyPath2);\n    // console.log(\"Path: \" + paths);\n    // console.log(\"SafeRand1: \" + SafeRand1);\n    // console.log(\"SafeRand2: \" + SafeRand2);\n\n    // the shuttlePic can be the first or second state, while the path outcome can be the second or third state\n    var SafePathShuttlePic = SafePath[SafeRand1];\n    var SafePathOutPic = SafePath[SafeRand2];\n\n    var Risky1Rand1 = getOutPos1();\n    var Risky1Rand2;\n    if (Risky1Rand1 === 1) {\n      Risky1Rand2 = 2; //if it is the second state, then only the third state can be the outcome Pic\n    } else {\n      Risky1Rand2 = getOutPos2(); //if it is the first state, then second OR third state can be the outcome Pic\n    }\n\n    var RiskyPath1ShuttlePic = RiskyPath1[Risky1Rand1];\n    var RiskyPath1OutPic = RiskyPath1[Risky1Rand2];\n\n    var Risky2Rand1 = getOutPos1();\n    var Risky2Rand2;\n    if (Risky2Rand1 === 1) {\n      Risky2Rand2 = 2; //if it is the second state, then only the third state can be the outcome Pic\n    } else {\n      Risky2Rand2 = getOutPos2(); //if it is the first state, then second OR third state can be the outcome Pic\n    }\n\n    var RiskyPath2ShuttlePic = RiskyPath2[Risky2Rand1];\n    var RiskyPath2OutPic = RiskyPath2[Risky2Rand2];\n\n    // shuffle the shuttle option\n    var Prob1;\n    var Prob2;\n    var Shuttle1;\n    var Shuttle2;\n    var Shuttle1Word;\n    var Shuttle2Word;\n    var ShuttlePicWord;\n    var pathProbBoth;\n\n    var choice1Fade = styles.shuttlePreChoice;\n    var choice2Fade = styles.shuttlePreChoice;\n\n    if (cueShutPosIndx[0] === 0) {\n      //safe one is left choice\n      Prob1 = taskSafePathProb * 100 + \"%\";\n      Prob2 = taskRiskyPathProb1 * 100 + \"%/\" + taskRiskyPathProb2 * 100 + \"%\";\n      pathProbBoth = [Prob1, Prob2];\n      Shuttle1 = this.state.shuttlePic[0];\n      Shuttle2 = this.state.shuttlePic[1];\n      Shuttle1Word = this.state.stateWord[SafePathShuttlePic];\n      ShuttlePicWord = [this.state.shuttleWord[0], this.state.shuttleWord[1]];\n      Shuttle2Word =\n        this.state.stateWord[RiskyPath1ShuttlePic] +\n        \"/\" +\n        this.state.stateWord[RiskyPath2ShuttlePic];\n\n      // console.log(\"taskForceChoice: \" + taskForceChoice);\n\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        taskForcedChoiceText1 = \"Let us take the reliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the ← key]\";\n        // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoiceFade;\n      } else if (\n        trialNumInBlock <= this.state.trialForced &&\n        taskForceChoice === 2\n      ) {\n        taskForcedChoiceText1 = \"Let us take the unreliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the → key]\";\n        // choice1Fade = styles.shuttleChoiceFade;\n        // choice2Fade = styles.shuttleChoice;\n      } else {\n        taskForcedChoiceText1 = [];\n        taskForcedChoiceText2 = \"[Press the ← or → key to choose]\";\n        // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoice;\n      }\n    } else if (cueShutPosIndx[0] === 1) {\n      Prob1 = taskRiskyPathProb1 * 100 + \"%/\" + taskRiskyPathProb2 * 100 + \"%\";\n      Prob2 = taskSafePathProb * 100 + \"%\";\n      pathProbBoth = [Prob1, Prob2];\n      ShuttlePicWord = [this.state.shuttleWord[1], this.state.shuttleWord[0]];\n      Shuttle1 = this.state.shuttlePic[1];\n      Shuttle2 = this.state.shuttlePic[0];\n      Shuttle1Word =\n        this.state.stateWord[RiskyPath1ShuttlePic] +\n        \"/\" +\n        this.state.stateWord[RiskyPath2ShuttlePic];\n      Shuttle2Word = this.state.stateWord[SafePathShuttlePic];\n      //safe one is right choice\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        taskForcedChoiceText1 = \"Let us take the reliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the → key]\";\n        // choice1Fade = styles.shuttleChoiceFade;\n        // choice2Fade = styles.shuttleChoice;\n      } else if (\n        trialNumInBlock <= this.state.trialForced &&\n        taskForceChoice === 2\n      ) {\n        taskForcedChoiceText1 = \"Let us take the unreliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the ← key]\";\n        // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoiceFade;\n      } else {\n        taskForcedChoiceText1 = [];\n        taskForcedChoiceText2 = \"[Press the ← or → key to choose]\";\n        // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoice;\n      }\n    }\n\n    var neuVal = getRandomInt(1, 5);\n    var SafeOut;\n    var SafeVal;\n\n    if (taskSafePathOutcome > 0) {\n      SafeOut = this.state.outcomeWord[0];\n      SafeVal = taskSafePathOutcome / this.state.outcomeVal[0];\n    } else if (taskSafePathOutcome < 0) {\n      SafeOut = this.state.outcomeWord[1];\n      SafeVal = taskSafePathOutcome / this.state.outcomeVal[1];\n    } else if (taskSafePathOutcome === 0) {\n      //if this is neutral, then random a number\n      SafeOut = this.state.outcomeWord[2];\n      SafeVal = neuVal;\n    }\n\n    var Risky1Out;\n    var Risky1Val;\n    if (taskRiskyPathOutcome1 > 0) {\n      Risky1Out = this.state.outcomeWord[0];\n      Risky1Val = taskRiskyPathOutcome1 / this.state.outcomeVal[0];\n    } else if (taskRiskyPathOutcome1 < 0) {\n      Risky1Out = this.state.outcomeWord[1];\n      Risky1Val = taskRiskyPathOutcome1 / this.state.outcomeVal[1];\n    } else if (taskRiskyPathOutcome1 === 0) {\n      Risky1Out = this.state.outcomeWord[2];\n      Risky1Val = neuVal;\n    }\n\n    var Risky2Out;\n    var Risky2Val;\n    if (taskRiskyPathOutcome2 > 0) {\n      Risky2Out = this.state.outcomeWord[0];\n      Risky2Val = taskRiskyPathOutcome2 / this.state.outcomeVal[0];\n    } else if (taskRiskyPathOutcome2 < 0) {\n      Risky2Out = this.state.outcomeWord[1];\n      Risky2Val = taskRiskyPathOutcome2 / this.state.outcomeVal[1];\n    } else if (taskRiskyPathOutcome2 === 0) {\n      Risky2Out = this.state.outcomeWord[2];\n      Risky2Val = neuVal;\n    }\n\n    var OutcomeVal1;\n    var OutcomeVal2;\n    var OutcomeVal3;\n    var OutcomePic1;\n    var OutcomePic2;\n    var OutcomePic3;\n    var LastStatePic1;\n    var LastStatePic2;\n    var LastStatePic3;\n    // outcome cues\n    if (\n      (cueOutPosIndx[0] === 0) &\n      (cueOutPosIndx[1] === 1) &\n      (cueOutPosIndx[2] === 2)\n    ) {\n      //this means safe is spaceship 1, risky 1 is spaceship 2 and risky 2 is spaceship 3\n      LastStatePic1 = this.state.stateWord[SafePathOutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath2OutPic];\n      OutcomePic1 = SafeOut;\n      OutcomePic2 = Risky1Out;\n      OutcomePic3 = Risky2Out;\n      OutcomeVal1 = SafeVal;\n      OutcomeVal2 = Risky1Val;\n      OutcomeVal3 = Risky2Val;\n    } else if (\n      (cueOutPosIndx[0] === 0) &\n      (cueOutPosIndx[1] === 2) &\n      (cueOutPosIndx[2] === 1)\n    ) {\n      LastStatePic1 = this.state.stateWord[SafePathOutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath1OutPic];\n      OutcomePic1 = SafeOut;\n      OutcomePic2 = Risky2Out;\n      OutcomePic3 = Risky1Out;\n      OutcomeVal1 = SafeVal;\n      OutcomeVal2 = Risky2Val;\n      OutcomeVal3 = Risky1Val;\n    } else if (\n      (cueOutPosIndx[0] === 1) &\n      (cueOutPosIndx[1] === 0) &\n      (cueOutPosIndx[2] === 2)\n    ) {\n      LastStatePic1 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic2 = this.state.stateWord[SafePathOutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath2OutPic];\n      OutcomePic1 = Risky1Out;\n      OutcomePic2 = SafeOut;\n      OutcomePic3 = Risky2Out;\n      OutcomeVal1 = Risky1Val;\n      OutcomeVal2 = SafeVal;\n      OutcomeVal3 = Risky2Val;\n    } else if (\n      (cueOutPosIndx[0] === 1) &\n      (cueOutPosIndx[1] === 2) &\n      (cueOutPosIndx[2] === 0)\n    ) {\n      LastStatePic1 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic3 = this.state.stateWord[SafePathOutPic];\n      OutcomePic1 = Risky1Out;\n      OutcomePic2 = Risky2Out;\n      OutcomePic3 = SafeOut;\n      OutcomeVal1 = Risky1Val;\n      OutcomeVal2 = Risky2Val;\n      OutcomeVal3 = SafeVal;\n    } else if (\n      (cueOutPosIndx[0] === 2) &\n      (cueOutPosIndx[1] === 0) &\n      (cueOutPosIndx[2] === 1)\n    ) {\n      LastStatePic1 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic2 = this.state.stateWord[SafePathOutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath1OutPic];\n      OutcomePic1 = Risky2Out;\n      OutcomePic2 = SafeOut;\n      OutcomePic3 = Risky1Out;\n      OutcomeVal1 = Risky2Val;\n      OutcomeVal2 = SafeVal;\n      OutcomeVal3 = Risky1Val;\n    } else if (\n      (cueOutPosIndx[0] === 2) &\n      (cueOutPosIndx[1] === 1) &\n      (cueOutPosIndx[2] === 0)\n    ) {\n      LastStatePic1 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic3 = this.state.stateWord[SafePathOutPic];\n      OutcomePic1 = Risky2Out;\n      OutcomePic2 = Risky1Out;\n      OutcomePic3 = SafeOut;\n      OutcomeVal1 = Risky2Val;\n      OutcomeVal2 = Risky1Val;\n      OutcomeVal3 = SafeVal;\n    }\n\n    // console.log(\"text: \" + taskForcedChoiceText1);\n    // console.log(\"text: \" + taskForcedChoiceText2);\n    var timerKey = this.state.timerKey + 1;\n\n    this.setState({\n      Shuttle1Word: Shuttle1Word,\n      Shuttle1: Shuttle1,\n      Shuttle2Word: Shuttle2Word,\n      Shuttle2: Shuttle2,\n      ShuttlePos: cueShutPosIndx,\n      ShuttlePicWord: ShuttlePicWord,\n      Prob1: Prob1,\n      Prob2: Prob2,\n\n      LastStatePic1: LastStatePic1,\n      LastStatePic2: LastStatePic2,\n      LastStatePic3: LastStatePic3,\n\n      OutcomePic1: OutcomePic1,\n      OutcomePic2: OutcomePic2,\n      OutcomePic3: OutcomePic3,\n      OutcomeVal1: OutcomeVal1,\n      OutcomeVal2: OutcomeVal2,\n      OutcomeVal3: OutcomeVal3,\n\n      SafePath: SafePath,\n      RiskyPath1: RiskyPath1,\n      RiskyPath2: RiskyPath2,\n\n      neuVal: neuVal, //just for the trual value\n\n      taskForcedChoiceText1: taskForcedChoiceText1,\n      taskForcedChoiceText2: taskForcedChoiceText2,\n\n      choice1Fade: choice1Fade,\n      choice2Fade: choice2Fade,\n\n      pathPlay: false,\n\n      trialNum: trialNum,\n      trialNumInBlock: trialNumInBlock,\n      trialTime: trialTime,\n      timerKey: timerKey,\n      pathProbBoth: pathProbBoth,\n\n      planCurrentChoice: 1,\n      statePlan1Style: styles.statePlan,\n      statePlan2Style: styles.statePlan,\n      statePlan3Style: styles.statePlan,\n      statePlan4Style: styles.statePlan,\n      statePlan5Style: styles.statePlan,\n      statePlan6Style: styles.statePlan,\n      planChoices: [],\n      planRT: [],\n      planCor: null,\n      planChoicesWords: [],\n      keyChoiceAll: [],\n      planPathChosen: null,\n      planFeedback: \"Press the [number key] to select the room.\",\n    });\n\n    if (trialNum === 1) {\n      this.setState({\n        instructScreen: false,\n        taskScreen: true,\n      });\n    }\n\n    setTimeout(\n      function () {\n        this.allowResp();\n      }.bind(this),\n      this.state.respWaitDur\n    );\n  }\n\n  allowResp() {\n    document.addEventListener(\"keyup\", this._handleTaskKey);\n    var taskForceChoice = this.state.taskForceChoice[this.state.trialNum - 1];\n    var trialNumInBlock = this.state.trialNumInBlock;\n    var choice1Fade = this.state.choice1Fade;\n    var choice2Fade = this.state.choice2Fade;\n\n    if (this.state.ShuttlePos[0] === 0) {\n      //safe one is left choice\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoiceFade;\n      } else if (\n        trialNumInBlock <= this.state.trialForced &&\n        taskForceChoice === 2\n      ) {\n        choice1Fade = styles.shuttleChoiceFade;\n        choice2Fade = styles.shuttleChoice;\n      } else {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoice;\n      }\n    } else if (this.state.ShuttlePos[0] === 1) {\n      //safe one is right choice\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        choice1Fade = styles.shuttleChoiceFade;\n        choice2Fade = styles.shuttleChoice;\n      } else if (\n        trialNumInBlock <= this.state.trialForced &&\n        taskForceChoice === 2\n      ) {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoiceFade;\n      } else {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoice;\n      }\n    }\n\n    this.setState({\n      choice1Fade: choice1Fade,\n      choice2Fade: choice2Fade,\n    });\n  }\n\n  lateResponse() {\n    document.removeEventListener(\"keyup\", this._handleTaskKey);\n    var coins = this.state.coins - 1;\n    var trialRT = Math.round(performance.now()) - this.state.trialTime;\n\n    this.setState({\n      choice1Fade: styles.shuttleChoiceFade,\n      choice2Fade: styles.shuttleChoiceFade,\n      taskForcedChoiceText1: \"You lose 1 coin!\",\n      taskForcedChoiceText2: \"Please respond faster.\",\n      trialRT: trialRT,\n      coins: coins,\n      timerOn: false,\n      keyChoice: 0, //meaning that they didn't press at all\n      pathProb: null,\n      pathRoute: null,\n      outcome: null,\n      pathIndx: null,\n      pathProbEnd: null,\n      pathNum: null,\n      taskPathPicWord: null,\n      taskOutcomeWord: null,\n      taskOutcomeIndx: null,\n      outcomeValue: null, //i can see what number 0 is\n      taskOutcomeValue: -1, //actual value\n    });\n\n    setTimeout(\n      function () {\n        this.taskSave();\n      }.bind(this),\n      0\n    );\n  }\n\n  taskStart(trialNum) {\n    var choice1Fade = this.state.choice1Fade;\n    var choice2Fade = this.state.choice2Fade;\n\n    let text = (\n      <div className={styles.main}>\n        <div className={styles.counter}>\n          <img\n            className={styles.counter}\n            src={this.state.img_counter}\n            alt=\"counter\"\n          />\n          {this.state.trialNum}/{this.state.trialTotal}\n        </div>\n        <div className={styles.coins}>\n          <img\n            className={styles.counter}\n            src={this.state.img_coin}\n            alt=\"coin\"\n          />\n          {this.state.coins}\n        </div>\n        <span className={styles.likeP}>\n          <span className={styles.centerThree}>\n            <span className={styles.cueScreen}>\n              {this.state.LastStatePic1} - {this.state.OutcomeVal1}&nbsp;\n              {this.state.OutcomePic1}\n              <br />\n              {this.state.LastStatePic2} - {this.state.OutcomeVal2}&nbsp;\n              {this.state.OutcomePic2}\n              <br />\n              {this.state.LastStatePic3} - {this.state.OutcomeVal3}&nbsp;\n              {this.state.OutcomePic3}\n            </span>\n          </span>\n          <br />\n          <span className={styles.centerThree}>\n            <span className={choice1Fade}>\n              {this.state.Prob1}\n              <br /> {this.state.Shuttle1Word} <br />\n              <img\n                className={styles.shuttle}\n                src={this.state.Shuttle1}\n                alt=\"shuttle1\"\n              />\n            </span>\n            &nbsp; &nbsp; &nbsp; &nbsp;\n            <span className={choice2Fade}>\n              {this.state.Prob2}\n              <br /> {this.state.Shuttle2Word} <br />\n              <img\n                className={styles.shuttle}\n                src={this.state.Shuttle2}\n                alt=\"shuttle2\"\n              />\n            </span>\n            <br /> <br />\n          </span>\n          <span className={styles.centerThree}>\n            <CountdownCircleTimer\n              isPlaying\n              key={this.state.timerKey}\n              duration={this.state.timerCountDur}\n              size={100}\n              colors={[[\"#004777\", 0.3], [\"#F7B801\", 0.6], [\"#A30000\"]]}\n              onComplete={() => {\n                this.lateResponse();\n                return [false];\n              }}\n            >\n              {renderTime}\n            </CountdownCircleTimer>\n          </span>\n          <span className={styles.centerTwo}>\n            {this.state.taskForcedChoiceText1}\n          </span>\n          <span className={styles.centerTwo}>\n            {this.state.taskForcedChoiceText2}\n          </span>\n        </span>\n      </div>\n    );\n\n    return <div>{text}</div>;\n  }\n\n  playStateOne() {\n    // if it is null, it means you were too late!!! this helps catch the inconsistent time out\n    if (this.state.pathRoute !== null) {\n      document.removeEventListener(\"keyup\", this._handleTaskKey);\n      var pathRoutePic1 = this.state.pathRoute[0]; //[0,1,2] or [3,4,5] or [6,7,8]\n      var pathNum;\n      var whichShip;\n      var pathPicWord;\n      if (pathRoutePic1 === 0) {\n        pathNum = 1;\n        whichShip = \"A\";\n        pathPicWord = [\n          this.state.stateWord[0],\n          this.state.stateWord[1],\n          this.state.stateWord[2],\n        ];\n      } else if (pathRoutePic1 === 3) {\n        pathNum = 2;\n        whichShip = \"B\";\n        pathPicWord = [\n          this.state.stateWord[3],\n          this.state.stateWord[4],\n          this.state.stateWord[5],\n        ];\n      } else if (pathRoutePic1 === 6) {\n        pathNum = 3;\n        whichShip = \"C\";\n        pathPicWord = [\n          this.state.stateWord[6],\n          this.state.stateWord[7],\n          this.state.stateWord[8],\n        ];\n      }\n      var statePic;\n\n      if (this.state.trialNumInBlock <= this.state.trialForced) {\n        statePic = this.state.statePic[pathRoutePic1];\n      } else {\n        statePic = this.state.stateHolder[0];\n      }\n\n      // console.log(\"trialNumInBlock: \" + this.state.trialNumInBlock);\n      // console.log(\"trialForced: \" + this.state.trialForced);\n      // console.log(\"statePic: \" + statePic);\n\n      this.setState({\n        planPlay: false,\n        pathPlay: true,\n        stateNum: \"Room 1\",\n        stateShown: statePic,\n        pathNum: pathNum,\n        whichShip: whichShip,\n        outcomeValue: null,\n        taskPathPicWord: pathPicWord,\n        taskOutcome1: [],\n        taskOutcome2: [],\n        taskOutcomeValue: null,\n      });\n\n      setTimeout(\n        function () {\n          this.playFix();\n        }.bind(this),\n        this.state.stateDur\n      );\n    } else {\n      setTimeout(\n        function () {\n          this.lateResponse();\n        }.bind(this),\n        1\n      );\n    }\n  }\n\n  playFix() {\n    this.setState({\n      stateShown: this.state.img_fix,\n    });\n\n    if (this.state.stateNum === \"Room 1\") {\n      setTimeout(\n        function () {\n          this.playStateTwo();\n        }.bind(this),\n        this.state.fixDur\n      );\n    } else if (this.state.stateNum === \"Room 2\") {\n      setTimeout(\n        function () {\n          this.playStateThree();\n        }.bind(this),\n        this.state.fixDur\n      );\n    } else if (this.state.stateNum === \"Room 3\") {\n      setTimeout(\n        function () {\n          this.playOutcome();\n        }.bind(this),\n        this.state.fixDur\n      );\n    }\n  }\n\n  playStateTwo() {\n    var pathRoutePic2 = this.state.pathRoute[1]; //[0,1,2] or [3,4,5] or [6,7,8]\n    var statePic;\n\n    if (this.state.trialNumInBlock <= this.state.trialForced) {\n      statePic = this.state.statePic[pathRoutePic2];\n    } else {\n      statePic = this.state.stateHolder[1];\n    }\n\n    this.setState({\n      stateNum: \"Room 2\",\n      stateShown: statePic,\n    });\n\n    setTimeout(\n      function () {\n        this.playFix();\n      }.bind(this),\n      this.state.stateDur\n    );\n  }\n\n  playStateThree() {\n    var pathRoutePic3 = this.state.pathRoute[2]; //[0,1,2] or [3,4,5] or [6,7,8]\n    var statePic;\n\n    if (this.state.trialNumInBlock <= this.state.trialForced) {\n      statePic = this.state.statePic[pathRoutePic3];\n    } else {\n      statePic = this.state.stateHolder[0];\n    }\n\n    this.setState({\n      stateNum: \"Room 3\",\n      stateShown: statePic,\n    });\n\n    setTimeout(\n      function () {\n        this.playFix();\n      }.bind(this),\n      this.state.stateDur\n    );\n  }\n\n  playOutcome() {\n    var outcome = this.state.outcome;\n    var outcomePic;\n    var outcomeValue = this.state.outcomeValue;\n    //that is, if it is tutorial, i explictly say the outcome\n    var taskOutcome1 = this.state.taskOutcome1;\n    var coins = this.state.coins + outcome;\n    var taskOutcomeValue = this.state.taskOutcomeValue;\n    var outcomeWord;\n    var outcomeIndx;\n\n    if (outcome > 0) {\n      outcomeIndx = 0;\n      outcomeWord = this.state.outcomeWord[0];\n\n      if (this.state.trialNumInBlock <= this.state.trialForced) {\n        outcomePic = this.state.outcomePic[0];\n      } else {\n        outcomePic = this.state.stateHolder[1];\n      }\n\n      outcomeValue = outcome / this.state.outcomeVal[0];\n      taskOutcomeValue = outcomeValue;\n      taskOutcome1 = \"You gain\";\n    } else if (outcome < 0) {\n      outcomeIndx = 1;\n      outcomeWord = this.state.outcomeWord[1];\n\n      if (this.state.trialNumInBlock <= this.state.trialForced) {\n        outcomePic = this.state.outcomePic[1];\n      } else {\n        outcomePic = this.state.stateHolder[1];\n      }\n\n      outcomeValue = outcome / this.state.outcomeVal[1];\n      taskOutcomeValue = outcomeValue;\n      taskOutcome1 = \"You lose\";\n    } else if (outcome === 0) {\n      outcomeIndx = 2;\n      outcomeWord = this.state.outcomeWord[2];\n\n      if (this.state.trialNumInBlock <= this.state.trialForced) {\n        outcomePic = this.state.outcomePic[2];\n      } else {\n        outcomePic = this.state.stateHolder[1];\n      }\n\n      outcomeValue = this.state.neuVal;\n      taskOutcomeValue = outcome;\n      taskOutcome1 = \"You gain/lose\";\n    }\n\n    this.setState({\n      stateNum: \"You find:\",\n      stateShown: outcomePic,\n      outcomeValue: outcomeValue,\n      taskOutcome1: taskOutcome1,\n      taskOutcomeValue: taskOutcomeValue,\n      taskOutcome2: \"coin(s)!\",\n      coins: coins,\n      taskOutcomeWord: outcomeWord,\n      taskOutcomeIndx: outcomeIndx,\n    });\n\n    setTimeout(\n      function () {\n        this.taskSave();\n      }.bind(this),\n      this.state.outcomeDur\n    );\n  }\n\n  taskSave() {\n    var userID = this.state.userID;\n    var trialForced;\n\n    var trialOutcomeValence;\n\n    if (this.state.outcome === 0) {\n      trialOutcomeValence = 0;\n    } else if (this.state.outcome === null) {\n      //this only comes from late response\n      trialOutcomeValence = null;\n    } else {\n      trialOutcomeValence = this.state.outcome / this.state.taskOutcomeValue;\n    }\n\n    if (this.state.trialNumInBlock <= this.state.trialForced) {\n      trialForced = true;\n    } else {\n      trialForced = false;\n    }\n\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      sectionTime: this.state.sectionTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      trialTime: this.state.trialTime,\n      trialNum: this.state.trialNum,\n      trialBlock: this.state.trialBlock,\n      trialNumInBlock: this.state.trialNumInBlock,\n      trialForced: trialForced, // true if it is a forced trial\n      trialShuttleWord: [this.state.Shuttle1Word, this.state.Shuttle2Word],\n      trialShuttle: this.state.ShuttlePicWord,\n      trialShuttlePos: this.state.ShuttlePos,\n      trialShuttleProb: [this.state.Prob1, this.state.Prob2],\n      trialLastStatePic: [\n        this.state.LastStatePic1,\n        this.state.LastStatePic2,\n        this.state.LastStatePic3,\n      ],\n      trialOutcomePic: [\n        this.state.OutcomePic1,\n        this.state.OutcomePic2,\n        this.state.OutcomePic3,\n      ],\n      trialOutcomeVal: [\n        this.state.OutcomeVal1,\n        this.state.OutcomeVal2,\n        this.state.OutcomeVal2,\n      ],\n      trialSafePath: this.state.SafePath,\n      trialRiskyPath1: this.state.RiskyPath1,\n      trialRiskyPath2: this.state.RiskyPath2,\n\n      trialSafeProb: this.state.taskSafePathProb[this.state.trialNum - 1],\n      trialRiskyProb1: this.state.taskRiskyPathProb1[this.state.trialNum - 1],\n      trialRiskyProb2: this.state.taskRiskyPathProb2[this.state.trialNum - 1],\n\n      trialSafeValue: this.state.taskSafePathOutcome[this.state.trialNum - 1],\n      trialRiskyValue1: this.state.taskRiskyPathOutcome1[\n        this.state.trialNum - 1\n      ],\n      trialRiskyValue2: this.state.taskRiskyPathOutcome2[\n        this.state.trialNum - 1\n      ],\n\n      trialSafePathEV: this.state.taskSafePathEV[this.state.trialNum - 1],\n      trialRiskyPathEV1: this.state.taskRiskyPathEV1[this.state.trialNum - 1],\n      trialRiskyPathEV2: this.state.taskRiskyPathEV2[this.state.trialNum - 1],\n      trialGambleEV: this.state.taskGambleEV[this.state.trialNum - 1], //Risky EV1+EV2\n      trialChoiceEV: this.state.taskChoiceEV[this.state.trialNum - 1], //SafeEV - (RiskyEV1+EV2)\n\n      trialPlan: this.state.taskPlanChoice[this.state.trialNum - 1], //0 for not a plan trial, 1 for a plan trial\n      trialPlanRT: this.state.planRT,\n      trialPlanChoice: this.state.planChoices,\n      trialPlanChoiceWords: this.state.planChoicesWords,\n      trialPlanPathChosen: this.state.planPathChosen,\n      trialPlanCor: this.state.planCor,\n\n      trialPathProb: this.state.pathProbBoth, //this is whether they chose 100 or 50/50, etc\n      trialRT: this.state.trialRT,\n      trialKeypress: this.state.keyChoice, //press left or right\n      trialGambleChoice: this.state.pathIndx, //press 1- safe or 2 -risky\n      trialPathProbChosen: this.state.pathProbEnd, //this is whether they chose 100 or 50/50, etc\n      trialPath: this.state.pathNum, //this should be which path\n      trialPathPicWord: this.state.taskPathPicWord,\n      trialPathIndx: this.state.pathRoute,\n      trialOutcomePicWord: this.state.taskOutcomeWord,\n      trialOutcomeIndx: this.state.taskOutcomeIndx,\n      trialOutcomeValence: trialOutcomeValence, //1, -1 or 0\n      trialOutcomeMag: this.state.outcomeValue, //i can see what number 0 is\n      trialOutcomeValue: this.state.taskOutcomeValue, //actual value\n      trialOptimalChoice: this.state.taskOptChoice[this.state.trialNum - 1],\n      trialCoins: this.state.coins,\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/task_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(saveString),\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n\n    // console.log(\"trialInBlock: \" + this.state.trialInBlock);\n\n    if (\n      this.state.trialNumInBlock >= this.state.trialInBlock &&\n      this.state.trialNum !== this.state.trialTotal\n    ) {\n      //end of block, send to resting screen\n      setTimeout(\n        function () {\n          this.endBlock();\n        }.bind(this),\n        this.state.outcomeDur\n      );\n    } else {\n      setTimeout(\n        function () {\n          this.setTrialVar();\n        }.bind(this),\n        this.state.outcomeDur\n      );\n    }\n  }\n\n  endBlock() {\n    this.setState({\n      instructScreen: true,\n      taskScreen: false,\n      instructScreenText: 5,\n    });\n  }\n\n  nextBlock() {\n    var trialBlock = this.state.trialBlock + 1;\n    var forcedPaths = this.state.forcedPaths;\n\n    shuffle(forcedPaths);\n\n    this.setState({\n      instructScreen: false,\n      taskScreen: true,\n      trialNumInBlock: 0, //reset for next block\n      trialBlock: trialBlock,\n      forcedPaths: forcedPaths,\n    });\n\n    setTimeout(\n      function () {\n        this.setTrialVar();\n      }.bind(this),\n      5\n    );\n  }\n\n  passMission() {\n    this.setState({\n      instructScreen: true,\n      taskScreen: false,\n      instructScreenText: 6,\n    });\n\n    setTimeout(\n      function () {\n        this.calBonus();\n      }.bind(this),\n      0\n    );\n  }\n\n  calBonus() {\n    var coins = this.state.coins;\n    var bonus = (coins / (0.4 * this.state.trialTotal)) * 4;\n\n    // if you earn negative then no bonus at all?\n    if (bonus < 0) {\n      bonus = 0;\n    } else {\n      bonus = roundTo(bonus, 2); //2 dec pl\n    }\n    this.setState({\n      bonus: bonus,\n    });\n\n    setTimeout(\n      function () {\n        this.saveBonus();\n      }.bind(this),\n      0\n    );\n  }\n\n  saveBonus() {\n    var userID = this.state.userID;\n\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      sectionTime: this.state.sectionTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      taskCoins: this.state.coins,\n      taskBonus: this.state.bonus,\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/bonus_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(saveString),\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n  }\n\n  nextMission() {\n    document.removeEventListener(\"keyup\", this._handleInstructKey);\n    document.removeEventListener(\"keyup\", this._handleDebugKey);\n    this.props.history.push({\n      pathname: `/Questionnaires`,\n      state: {\n        userID: this.state.userID,\n        date: this.state.date,\n        startTime: this.state.startTime,\n        bonus: this.state.bonus,\n\n        img_astrodude1: this.state.img_astrodude1,\n        shuttlePic: this.state.shuttlePic,\n      },\n    });\n  }\n\n  componentWillUnmount() {\n    // fix Warning: Can't perform a React state update on an unmounted component\n    this.setState = (state, callback) => {\n      return;\n    };\n  }\n\n  condSave() {\n    var userID = this.state.userID;\n    var currentDate = new Date(); // maybe change to local\n    var sectionTime = currentDate.toTimeString();\n    var trialTime = Math.round(performance.now());\n\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime, // this is when they start the expt\n      sectionTime: sectionTime, //this is if they somehow refresh the page...\n      trialTime: trialTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      structNum: this.state.structNum,\n\n      outcomeWord: null,\n      outcomeVal: null,\n      outcomeIndx: null,\n\n      stateWord: null,\n      stateIndx: null,\n      pathOne: null,\n      pathTwo: null,\n      pathThree: null,\n\n      tutForcedPaths: null,\n      tutSafePathOutcome: null,\n      tutRiskyPathOutcome1: null,\n      tutRiskyPathOutcome2: null,\n      tutSafePathProb: null,\n      tutRiskyPathProb1: null,\n      tutRiskyPathProb2: null,\n      tutOptChoice: null,\n      tutForceChoice: null,\n      tutPlanChoice: null,\n\n      taskSafePathOutcome: this.state.taskSafePathOutcome,\n      taskRiskyPathOutcome1: this.state.taskRiskyPathOutcome1,\n      taskRiskyPathOutcome2: this.state.taskRiskyPathOutcome2,\n      taskSafePathProb: this.state.taskSafePathProb,\n      taskRiskyPathProb1: this.state.taskRiskyPathProb1,\n      taskRiskyPathProb2: this.state.taskRiskyPathProb2,\n      taskOptChoice: this.state.taskOptChoice,\n      taskForceChoice: this.state.taskForceChoice,\n      taskPlanChoice: this.state.taskPlanChoice,\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/cond_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(saveString),\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n  }\n  //////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////\n  // render time\n\n  render() {\n    let text;\n    if (this.state.debug === false) {\n      if (this.state.instructScreen === true) {\n        document.addEventListener(\"keyup\", this._handleInstructKey);\n        if (this.state.instructScreenText === 1) {\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          document.removeEventListener(\"keyup\", this._handleTaskKey);\n          text = (\n            <div className={styles.main}>\n              <span className={styles.likeP}>\n                <span className={styles.center}>MISSION START</span>\n                <br />\n                You are now ready to start the main mission.\n                <br />\n                <br />\n                Remember: you can earn a bonus of up to £4 if you complete the\n                mission!\n                <br />\n                <br />\n                The more coins you earn, the higher your bonus will be.\n                <br />\n                <br />\n                Please take note of some <strong>important changes</strong> for\n                the main mission:\n                <ul>\n                  <li>\n                    You can only choose the shuttle after&nbsp;\n                    <strong>{this.state.respWaitDur / 1000} seconds</strong>.\n                  </li>\n                  <li>\n                    You will only have&nbsp;\n                    <strong>{this.state.timerCountDur} seconds</strong> to plan\n                    which choice to make each time.\n                  </li>\n                  <li>\n                    A timer will be shown. If the timer runs out, you will&nbsp;\n                    <strong>lose 1 coin</strong>.\n                  </li>\n                  <li>\n                    We will only ask you to select the connecting room images in\n                    its correct order <br />\n                    of the{\" \"}\n                    <strong>\n                      spaceship that you believe you will end up in\n                    </strong>{\" \"}\n                    SOME of the time.\n                  </li>\n                </ul>\n                <span className={styles.centerTwo}>\n                  [<strong>NEXT →</strong>]\n                </span>\n              </span>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 2) {\n          text = (\n            <div className={styles.main}>\n              <span className={styles.likeP}>\n                <span className={styles.center}>MISSION START</span>\n                As a refresher, the outcome rooms you can find:\n                <span className={styles.centerTwo}>\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.outcomePic[0]}\n                    alt=\"outcome1\"\n                  />\n                  &nbsp;&nbsp; = &nbsp;+{\" \"}\n                  <img\n                    className={styles.coin}\n                    src={this.state.img_coin}\n                    alt=\"coin\"\n                  />{\" \"}\n                  (gain)\n                  <br />\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.outcomePic[1]}\n                    alt=\"outcome2\"\n                  />\n                  &nbsp;&nbsp; = &nbsp;-{\" \"}\n                  <img\n                    className={styles.coin}\n                    src={this.state.img_coin}\n                    alt=\"coin\"\n                  />{\" \"}\n                  (lose)\n                  <br />\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.outcomePic[2]}\n                    alt=\"outcome3\"\n                  />\n                  &nbsp;&nbsp; = &nbsp;none\n                </span>\n                <span className={styles.centerTwo}>\n                  [<strong>← BACK</strong>] [<strong>NEXT →</strong>]\n                </span>\n              </span>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 3) {\n          text = (\n            <div className={styles.main}>\n              <span className={styles.likeP}>\n                <span className={styles.center}>MISSION START</span>\n                And the connecting room order of the spaceships are:\n                <span className={styles.centerTwo}>\n                  <span className={styles.spaceshipSmall}>Spaceship A</span>\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[0]}\n                    alt=\"statePic1\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[1]}\n                    alt=\"statePic2\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[2]}\n                    alt=\"statePic3\"\n                  />\n                  <br /> <br />\n                  <span className={styles.spaceshipSmall}>Spaceship B</span>\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[3]}\n                    alt=\"statePic4\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[4]}\n                    alt=\"statePic5\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[5]}\n                    alt=\"statePic6\"\n                  />\n                  <br /> <br />\n                  <span className={styles.spaceshipSmall}>Spaceship C</span>\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[6]}\n                    alt=\"statePic7\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[7]}\n                    alt=\"statePic8\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[8]}\n                    alt=\"statePic9\"\n                  />\n                </span>\n                <span className={styles.centerTwo}>\n                  [<strong>← BACK</strong>] [<strong>NEXT →</strong>]\n                </span>\n              </span>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 4) {\n          text = (\n            <div className={styles.main}>\n              <span className={styles.likeP}>\n                <span className={styles.center}>MISSION START</span>\n                You will make {this.state.trialTotal} shuttle journeys in total\n                across {this.state.trialBlockTotal} blocks.\n                <br />\n                <br />\n                This means you will make&nbsp;\n                {this.state.trialTotal / this.state.trialBlockTotal} shuttle\n                journeys in each block.\n                <br />\n                <br />\n                In the&nbsp;\n                <strong>\n                  first {this.state.trialForced} shuttle journeys of every block\n                </strong>\n                , only the <strong>reliable shuttle</strong> option will be\n                available and\n                <br />\n                you will be shown the connecting and outcome room images.\n                <br />\n                <br />\n                Thereafter, both shuttles will be available and&nbsp;\n                <strong>no images will be shown</strong>.\n                <br />\n                <br />\n                You will have to use your <strong>memory</strong> to decipher\n                the clues and make your choices.\n                <br />\n                <br />\n                <strong>YOUR MISSION:</strong>\n                <ul>\n                  <li>\n                    Recall the spaceship connecting rooms and figure out which\n                    spaceship you should board to gain or avoid losing coins.\n                  </li>\n                  <li>\n                    Then, decide if it is worth the risk take the reliable or\n                    unreliable shuttle according to their probabilties.\n                  </li>\n                </ul>\n                <span className={styles.centerTwo}>\n                  If you are ready to begin, please press the [\n                  <strong>SPACEBAR</strong>].\n                </span>\n                <span className={styles.centerTwo}>\n                  [<strong>← BACK</strong>]\n                </span>\n              </span>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 5) {\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>MID-MISSION</span>\n                You have completed {this.state.trialBlock} out of&nbsp;\n                {this.state.trialBlockTotal} blocks!\n                <br />\n                <br />\n                You may take a short break.\n                <br />\n                <br />\n                Remember: the first {this.state.trialForced} shuttle journeys\n                will only have the <strong>reliable shuttle</strong> option\n                available.\n                <br />\n                <br />\n                You should take the opportunity to refresh your memory of the\n                room and outcome images.\n                <br />\n                <span className={styles.centerTwo}>\n                  If you are ready to continue, please press the [\n                  <strong>SPACEBAR</strong>].\n                </span>\n              </p>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 6) {\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>MISSION END</span>\n                Well done! You have completed all blocks!\n                <br /> <br />\n                You earned {this.state.coins} coins in your mission!\n                <br /> <br />\n                This will be converted into a bonus at the end of the task.\n                <br /> <br />\n                <span className={styles.centerTwo}>\n                  Press the [<strong>SPACEBAR</strong>] to continue.\n                </span>\n              </p>\n            </div>\n          );\n        }\n      } else if (this.state.instructScreen === false) {\n        if (this.state.taskScreen === true) {\n          document.removeEventListener(\"keyup\", this._handleInstructKey);\n          if (this.state.trialNum <= this.state.trialTotal) {\n            if (\n              this.state.pathPlay === false &&\n              this.state.planPlay === false\n            ) {\n              text = <div>{this.taskStart(this.state.trialNum)}</div>;\n            }\n            // the planning screen\n            else if (\n              this.state.pathPlay === false &&\n              this.state.planPlay === true\n            ) {\n              document.addEventListener(\"keyup\", this._handlePlanKey);\n              document.removeEventListener(\"keyup\", this._handleTaskKey);\n              text = <div>{this.planStart()}</div>;\n            } else if (\n              this.state.pathPlay === true &&\n              this.state.planPlay === false\n            ) {\n              document.removeEventListener(\"keyup\", this._handlePlanKey);\n              document.removeEventListener(\"keyup\", this._handleTaskKey);\n              text = (\n                <div className={styles.main}>\n                  <div className={styles.counter}>\n                    <img\n                      className={styles.counter}\n                      src={this.state.img_counter}\n                      alt=\"counter\"\n                    />\n                    {this.state.trialNum}/{this.state.trialTotal}\n                  </div>\n                  <div className={styles.coins}>\n                    <img\n                      className={styles.counter}\n                      src={this.state.img_coin}\n                      alt=\"coin\"\n                    />\n                    {this.state.coins}\n                  </div>\n                  <p>\n                    <span className={styles.center}>\n                      Spaceship {this.state.whichShip}\n                    </span>\n                    <span className={styles.centerTwo}>\n                      {this.state.stateNum}\n                    </span>\n                    <br />\n                    <span className={styles.centerThree}>\n                      <span className={styles.outcomeValue}>\n                        {this.state.outcomeValue}\n                      </span>\n                      <img\n                        className={styles.stateLarge}\n                        src={this.state.stateShown}\n                        alt=\"state\"\n                      />\n                    </span>\n                    <br />\n                    <span className={styles.centerThree}>\n                      {this.state.taskOutcome1} {this.state.taskOutcomeValue}\n                      &nbsp;{this.state.taskOutcome2}\n                    </span>\n                    <br />\n                  </p>\n                </div>\n              );\n            }\n            //\n          } else {\n            // finish all trials - go to end screen\n            setTimeout(\n              function () {\n                this.passMission();\n              }.bind(this),\n              0\n            );\n          }\n          //\n        }\n      }\n    } else if (this.state.debug === true) {\n      document.addEventListener(\"keyup\", this._handleDebugKey);\n      text = (\n        <div className={styles.main}>\n          <p>\n            <span className={styles.center}>DEBUG MODE</span>\n            <br />\n            <span className={styles.centerTwo}>\n              Press the [<strong>SPACEBAR</strong>] to skip to next section.\n            </span>\n          </p>\n        </div>\n      );\n    }\n\n    return (\n      <div className={styles.spacebg}>\n        <span className={styles.astro3}>\n          <img src={this.state.img_astrodude3} alt=\"astrodude\" />\n        </span>\n        <div className={styles.textblock}>{text}</div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(ExptTask);\n"]},"metadata":{},"sourceType":"module"}