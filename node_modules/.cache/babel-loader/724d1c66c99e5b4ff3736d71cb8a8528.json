{"ast":null,"code":"var _jsxFileName = \"/Users/alisaloosen/Documents/GitHub/GalacticalShift/src/Components/ExptTask.js\";\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { DATABASE_URL } from \"./config\";\nimport { CountdownCircleTimer } from \"react-countdown-circle-timer\";\nimport styles from \"./style/taskStyle.module.css\"; /////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// GLOBAL FUNCTIONS\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst renderTime = ({\n  remainingTime\n}) => {\n  if (remainingTime === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.timer,\n      children: \"Too late!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.timer,\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: styles.timerValue,\n      children: 20 - remainingTime\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: styles.timerText,\n      children: \"sec\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n};\n\nfunction shuffle(array) {\n  var currentIndex = array.length,\n      temporaryValue,\n      randomIndex; // While there remain elements to shuffle...\n\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1; // And swap it with the current element.\n\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\nfunction getOutPos1() {\n  var num = Math.random();\n  if (num < 0.33) return 1; //probability 0.3\n  else return 0; //probability 0.1\n}\n\nfunction getOutPos2() {\n  var num = Math.random();\n  if (num < 0.5) return 1; //probability 0.5\n  else return 2; //probability 0.5\n}\n\nfunction getRandomInt(min, max) {\n  const minimum = Math.ceil(min);\n  const maximum = Math.floor(max);\n  return Math.floor(Math.random() * (maximum - minimum + 1)) + minimum;\n}\n\nfunction pathToGo(probability) {\n  var num = Math.random();\n  if (num < probability) return 1;else return 0;\n}\n\nfunction arraysEqual(a, b) {\n  a = Array.isArray(a) ? a : [];\n  b = Array.isArray(b) ? b : [];\n  return a.length === b.length && a.every((el, ix) => el === b[ix]);\n}\n\nfunction inArray(needle, haystack) {\n  var count = haystack.length;\n\n  for (var i = 0; i < count; i++) {\n    if (haystack[i] === needle) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction roundTo(n, digits) {\n  if (digits === undefined) {\n    digits = 0;\n  }\n\n  var multiplicator = Math.pow(10, digits);\n  n = parseFloat((n * multiplicator).toFixed(11));\n  var test = Math.round(n) / multiplicator;\n  return +test.toFixed(digits);\n} //////////////////////////////////////////////////////////////////////////////\n\n\nvar shuttleIndex = [0, 1]; //0 - safe, 1 - risky\n\nvar cueOutPosIndx = [0, 1, 2]; //0-- top, 1 - middle, 2 - bottom\n\nvar cueShutPosIndx = [0, 1]; //0 - left, 1 - right\n\nvar paths = [1, 2, 3];\nvar forcedPaths = [1, 2, 3];\nshuffle(forcedPaths);\nvar trialBlockTotal = 6; //the full length is 6\n\nvar trialForced = 3;\nvar trialFree = 14;\nvar trialForcedTotal = trialForced * trialBlockTotal;\nvar trialFreeTotal = trialFree * trialBlockTotal;\nvar trialTotal = trialFreeTotal + trialForcedTotal;\nvar trialInBlock = trialTotal / trialBlockTotal; /////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// REACT COMPONENT START\n\nclass ExptTask extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      window.scrollTo(0, 0); // Variables for tutorial\n      //taskStruct 0-2: values, 3-5: probability, 6-8: EVs, 9: risky EV, 10: safe - risky EV, 11: optimal answer (1:safe, 2: risky)\n      // 12 -outcome structure, 13 - forced choice?, 14 - planning trial, 15 - play long path?\n\n      var randNum = \"struct_\" + getRandomInt(1, 5);\n\n      var StructToRender = require(\"./taskStruct/\" + randNum + \".json\");\n\n      var taskSafePathOutcome = StructToRender[0];\n      var taskRiskyPathOutcome1 = StructToRender[1];\n      var taskRiskyPathOutcome2 = StructToRender[2];\n      var taskSafePathProb = StructToRender[3];\n      var taskRiskyPathProb1 = StructToRender[4];\n      var taskRiskyPathProb2 = StructToRender[5];\n      var taskSafePathEV = StructToRender[6];\n      var taskRiskyPathEV1 = StructToRender[7];\n      var taskRiskyPathEV2 = StructToRender[8];\n      var taskGambleEV = StructToRender[9]; //Risky EV1+EV2\n\n      var taskChoiceEV = StructToRender[10]; //SafeEV - (RiskyEV1+EV2)\n\n      var taskOptChoice = StructToRender[11];\n      var taskOutcomeStruct = StructToRender[12];\n      var taskForceChoice = StructToRender[13];\n      var taskPlanChoice = StructToRender[14];\n      var taskShowPath = StructToRender[15];\n      this.setState({\n        structNum: randNum,\n        StructToRender: StructToRender,\n        taskSafePathOutcome: taskSafePathOutcome,\n        taskRiskyPathOutcome1: taskRiskyPathOutcome1,\n        taskRiskyPathOutcome2: taskRiskyPathOutcome2,\n        taskSafePathProb: taskSafePathProb,\n        taskRiskyPathProb1: taskRiskyPathProb1,\n        taskRiskyPathProb2: taskRiskyPathProb2,\n        taskSafePathEV: taskSafePathEV,\n        taskRiskyPathEV1: taskRiskyPathEV1,\n        taskRiskyPathEV2: taskRiskyPathEV2,\n        taskGambleEV: taskGambleEV,\n        //Risky EV1+EV2\n        taskChoiceEV: taskChoiceEV,\n        //SafeEV - (RiskyEV1+EV2)\n        taskOutcomeStruct: taskOutcomeStruct,\n        taskOptChoice: taskOptChoice,\n        taskForceChoice: taskForceChoice,\n        taskPlanChoice: taskPlanChoice,\n        taskShowPath: taskShowPath\n      }); //send the outcomeTask conditions?\n\n      setTimeout(function () {\n        this.condSave();\n      }.bind(this), 0);\n      setTimeout(function () {\n        this.setState({\n          mounted: 1\n        });\n      }.bind(this), 5000);\n    };\n\n    this._handleInstructKey = event => {\n      var key_pressed;\n\n      switch (event.keyCode) {\n        case 37:\n          //    this is left arrow\n          key_pressed = 4;\n          this.handleInstructLocal(key_pressed);\n          break;\n\n        case 39:\n          //    this is right arrow\n          key_pressed = 5;\n          this.handleInstructLocal(key_pressed);\n          break;\n\n        case 32:\n          //    this is SPACEBAR\n          key_pressed = 10;\n          this.handleInstructLocal(key_pressed);\n          break;\n\n        default:\n      }\n    };\n\n    this._handleDebugKey = event => {\n      var pressed;\n\n      switch (event.keyCode) {\n        case 32:\n          //    this is SPACEBAR\n          pressed = 10;\n          this.handleDebugKeyLocal(pressed);\n          break;\n\n        default:\n      }\n    };\n\n    this._handleTaskKey = event => {\n      var pressed;\n      var time_pressed;\n\n      switch (event.keyCode) {\n        case 37:\n          //    this is left arrow\n          pressed = 1;\n          time_pressed = Math.round(performance.now());\n          this.taskCheck(pressed, time_pressed);\n          break;\n\n        case 39:\n          //    this is right arrow\n          pressed = 2;\n          time_pressed = Math.round(performance.now());\n          this.taskCheck(pressed, time_pressed);\n          break;\n\n        default:\n      }\n    };\n\n    this._handlePlanKey = event => {\n      var pressed;\n      var time_pressed;\n\n      switch (event.keyCode) {\n        case 49:\n          //    this is num 1\n          pressed = 1;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 50:\n          //     this is num 2\n          pressed = 2;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 51:\n          //    this is num 1\n          pressed = 3;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 52:\n          //     this is num 2\n          pressed = 4;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 53:\n          //    this is num 1\n          pressed = 5;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 54:\n          //     this is num 2\n          pressed = 6;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 97:\n          pressed = 1;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 98:\n          pressed = 2;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 99:\n          pressed = 3;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 100:\n          pressed = 4;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 101:\n          pressed = 5;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        case 102:\n          pressed = 6;\n          time_pressed = Math.round(performance.now());\n          this.planCheck(pressed, time_pressed);\n          break;\n\n        default:\n      }\n    };\n\n    this._handleNextTrialKey = event => {\n      var pressed;\n      var time_pressed;\n\n      switch (event.keyCode) {\n        case 32:\n          //    this is SPACEBAR\n          pressed = 10;\n          time_pressed = Math.round(performance.now());\n          this.handleNextTrial(pressed, time_pressed);\n          break;\n\n        default:\n      }\n    };\n\n    const userID = this.props.location.state.userID;\n    const date = this.props.location.state.date;\n    const startTime = this.props.location.state.startTime;\n    const shuttlePic = this.props.location.state.shuttlePic;\n    const shuttleWord = this.props.location.state.shuttleWord;\n    const img_fix = this.props.location.state.img_fix;\n    const img_astrodude1 = this.props.location.state.img_astrodude1;\n    const img_astrodude2 = this.props.location.state.img_astrodude2;\n    const img_astrodude3 = this.props.location.state.img_astrodude3;\n    const img_counter = this.props.location.state.img_counter;\n    const img_coinSmall = this.props.location.state.img_coinSmall;\n    const img_coin = this.props.location.state.img_coin;\n    const img_pathInstruct1 = this.props.location.state.img_pathInstruct1;\n    const stateHolder = this.props.location.state.stateHolder;\n    const statePic = this.props.location.state.statePic;\n    const stateWord = this.props.location.state.stateWord;\n    const outcomePic = this.props.location.state.outcomePic;\n    const outcomeWord = this.props.location.state.outcomeWord;\n    const outcomeVal = this.props.location.state.outcomeVal;\n    const outcomeIndx = this.props.location.state.outcomeIndx;\n    const stateIndx = this.props.location.state.stateIndx; //[0, 1, 2, 3, 4, 5, 6, 7, 8];\n\n    const pathOne = this.props.location.state.pathOne; //[0, 1, 2];\n\n    const pathTwo = this.props.location.state.pathTwo; //[3, 4, 5];\n\n    const pathThree = this.props.location.state.pathThree; //[6, 7, 8];\n\n    var currentDate = new Date(); // maybe change to local\n\n    var timeString = currentDate.toTimeString(); /////////////////////////////////////////////////////////////////////////////////\n    // SET COMPONENT STATES\n\n    this.state = {\n      userID: userID,\n      date: date,\n      startTime: startTime,\n      taskSessionTry: 1,\n      taskSession: \"ExptTask\",\n      instructScreenText: 1,\n      sectionTime: timeString,\n      img_fix: img_fix,\n      img_astrodude1: img_astrodude1,\n      img_astrodude2: img_astrodude2,\n      img_astrodude3: img_astrodude3,\n      img_counter: img_counter,\n      img_coinSmall: img_coinSmall,\n      img_coin: img_coin,\n      img_pathInstruct1: img_pathInstruct1,\n      instructScreen: true,\n      taskScreen: false,\n      trialTotal: trialTotal,\n      trialForced: trialForced,\n      //3 of the trials are forced choice\n      trialBlock: 1,\n      trialBlockTotal: trialBlockTotal,\n      trialNum: 0,\n      trialNumInBlock: 0,\n      trialInBlock: trialInBlock,\n      trialTime: 0,\n      trialRT: 0,\n      trialKeypress: 0,\n      trialScore: 0,\n      shuttleChoice: 0,\n      //1 or 2\n      shuttleWord: shuttleWord,\n      shuttlePic: shuttlePic,\n      stateWord: stateWord,\n      statePic: statePic,\n      stateIndx: stateIndx,\n      stateNum: \"\",\n      stateShown: null,\n      stateDur: 2000,\n      outcomeDur: 2000,\n      respWaitDur: 3000,\n      fixDur: 250,\n      stateHolder: stateHolder,\n      outcomePic: outcomePic,\n      outcomeWord: outcomeWord,\n      outcomeVal: outcomeVal,\n      outcomeIndx: outcomeIndx,\n      coins: 0,\n      //this is basically trialScore but long running tally..\n      choice1Fade: styles.shuttleChoice,\n      choice2Fade: styles.shuttleChoice,\n      playCueScreen: false,\n      playPlanScreen: false,\n      // playTransScreen: false,\n      playPathFull: false,\n      playPathShort: false,\n      playPathOutcomeShort: false,\n      pathProb: 0,\n      keyChoice: 0,\n      //press left or right\n      shuttleIndex: shuttleIndex,\n      cueOutPosIndx: cueOutPosIndx,\n      cueShutPosIndx: cueShutPosIndx,\n      paths: paths,\n      pathOne: pathOne,\n      pathTwo: pathTwo,\n      pathThree: pathThree,\n      pathRoute: [],\n      forcedPaths: forcedPaths,\n      taskOutcomeValue: null,\n      taskForcedChoiceText1: [],\n      taskForcedChoiceText2: [],\n      timerCountDur: 20,\n      timerKey: 0,\n      StructToRender: \"\",\n      debug: false,\n      jitter: [1200, 1300, 1400, 1500, 1600, 1700]\n    };\n    this.handleInstructLocal = this.handleInstructLocal.bind(this);\n    this.handleDebugKeyLocal = this.handleDebugKeyLocal.bind(this);\n    this.handleNextTrial = this.handleNextTrial.bind(this);\n    this.taskStart = this.taskStart.bind(this);\n    this.planStart = this.planStart.bind(this);\n    this.pathStart = this.pathStart.bind(this);\n    this.pathShortStart = this.pathShortStart.bind(this);\n    this.planCheck = this.planCheck.bind(this);\n    this.taskCheck = this.taskCheck.bind(this);\n    /* prevents page from going down when space bar is hit .*/\n\n    window.addEventListener(\"keydown\", function (e) {\n      if (e.keyCode === 32 && e.target === document.body) {\n        e.preventDefault();\n      }\n    });\n  } /////////////////////////////////////////////////////////////////////////////////\n  // END COMPONENT STATE\n\n\n  handleInstructLocal(key_pressed) {\n    var curText = this.state.instructScreenText;\n    var whichButton = key_pressed;\n\n    if (whichButton === 4 && curText > 1 && curText <= 4) {\n      this.setState({\n        instructScreenText: curText - 1\n      });\n    } else if (whichButton === 5 && curText < 4) {\n      this.setState({\n        instructScreenText: curText + 1\n      });\n    } else if (curText === 4 && whichButton === 10) {\n      //start task\n      setTimeout(function () {\n        this.missionThree();\n      }.bind(this), 0);\n    } else if (curText === 5 && whichButton === 10) {\n      //into rest block\n      setTimeout(function () {\n        this.nextBlock();\n      }.bind(this), 0);\n    } else if (curText === 6 && whichButton === 10) {\n      //into rest block\n      setTimeout(function () {\n        this.nextMission();\n      }.bind(this), 0);\n    }\n  } // handle key key_pressed\n\n\n  handleDebugKeyLocal(pressed) {\n    var whichButton = pressed;\n\n    if (whichButton === 10) {\n      setTimeout(function () {\n        this.nextMission();\n      }.bind(this), 0);\n    }\n  }\n\n  // function to play choice feedback, and then go play path\n  taskCheck(pressed, time_pressed) {\n    var trialRT = time_pressed - this.state.trialTime;\n    var keyChoice = pressed;\n    var choice1Fade = this.state.choice1Fade;\n    var choice2Fade = this.state.choice2Fade;\n    var trialNum = this.state.trialNum;\n    var pathRoute = this.state.pathRoute;\n    var pathProb;\n    var pathTrans;\n    var outcome;\n    var pathIndx;\n    var ShuttlePos = this.state.ShuttlePos; //[0,1] means safe/risky vs [0,1] means risky, safe\n\n    var pathProbEnd; // if choose left\n\n    if (keyChoice === 1) {\n      choice1Fade = styles.shuttleChoice;\n      choice2Fade = styles.shuttleChoiceFade;\n\n      if (ShuttlePos[0] === 0) {\n        //I choose the safe choice\n        pathRoute = this.state.SafePath;\n        outcome = this.state.taskSafePathOutcome[trialNum - 1];\n        pathIndx = 1;\n        pathProb = 1;\n        pathProbEnd = 1;\n        pathTrans = null;\n      } else if (ShuttlePos[0] === 1) {\n        //I choose the risky choice\n        //Then Let's roll on the probability\n        pathProb = this.state.taskRiskyPathProb2[trialNum - 1]; //this is the smaller prob\n\n        pathTrans = pathToGo(pathProb); // 0 (Risk1) or 1 (Risk2)\n\n        pathIndx = 2;\n\n        if (pathTrans === 0) {\n          pathRoute = this.state.RiskyPath1;\n          outcome = this.state.taskRiskyPathOutcome1[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb1[trialNum - 1];\n        } else if (pathTrans === 1) {\n          pathRoute = this.state.RiskyPath2;\n          outcome = this.state.taskRiskyPathOutcome2[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb2[trialNum - 1];\n        } else {\n          pathRoute = \"error\";\n          outcome = \"error\";\n          pathProbEnd = \"error\";\n        }\n      } //if choose right\n\n    } else if (keyChoice === 2) {\n      choice1Fade = styles.shuttleChoiceFade;\n      choice2Fade = styles.shuttleChoice;\n\n      if (ShuttlePos[1] === 0) {\n        //I choose the safe choice\n        pathRoute = this.state.SafePath;\n        outcome = this.state.taskSafePathOutcome[trialNum - 1];\n        pathIndx = 1;\n        pathProb = 1;\n        pathProbEnd = 1;\n        pathTrans = null;\n      } else if (ShuttlePos[1] === 1) {\n        //I choose the risky choice\n        //Then Let's roll on the probability\n        pathProb = this.state.taskRiskyPathProb2[trialNum - 1]; //this is the smaller prob\n\n        pathTrans = pathToGo(pathProb); // 0 (Risk1) or 1 (Risk2)\n\n        pathIndx = 2;\n\n        if (pathTrans === 0) {\n          pathRoute = this.state.RiskyPath1;\n          outcome = this.state.taskRiskyPathOutcome1[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb1[trialNum - 1];\n        } else if (pathTrans === 1) {\n          pathRoute = this.state.RiskyPath2;\n          outcome = this.state.taskRiskyPathOutcome2[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb2[trialNum - 1];\n        } else {\n          pathRoute = \"error\";\n          outcome = \"error\";\n          pathProbEnd = \"error\";\n        }\n      }\n    } else {\n      //if neither left or right, then nothing happens\n      console.log(\"Choice not made.\");\n    }\n\n    if (this.state.trialNumInBlock <= this.state.trialForced && pathIndx !== this.state.taskForceChoice[trialNum - 1] || outcome === null) {//if the trial the forced, keyChoice has to be the same as the dictated asnwer, else it wil not move on\n    } else {\n      // free choice trials\n      this.setState({\n        trialRT: trialRT,\n        keyChoice: keyChoice,\n        choice1Fade: choice1Fade,\n        choice2Fade: choice2Fade,\n        pathProb: pathProb,\n        pathRoute: pathRoute,\n        outcome: outcome,\n        pathIndx: pathIndx,\n        pathProbEnd: pathProbEnd\n      });\n\n      if (this.state.taskPlanChoice[trialNum - 1] === 1) {\n        //if it is a planning choice trial, then go to the planning screen\n        var planTime = Math.round(performance.now()) + 500;\n        this.setState({\n          planTime: planTime\n        });\n        setTimeout(function () {\n          this.selectPlanStates();\n        }.bind(this), 500);\n      } else {\n        // setTimeout(\n        //   function () {\n        //     this.transShip();\n        //   }.bind(this),\n        //   500\n        // );\n        if (this.state.taskShowPath[this.state.trialNum - 1] === 1) {\n          setTimeout(function () {\n            this.playStateOne();\n          }.bind(this), 500);\n        } else if (this.state.taskShowPath[this.state.trialNum - 1] === 0) {\n          //if dont show the route, go to a jitter fixation\n          setTimeout(function () {\n            this.jitterFix();\n          }.bind(this), 500);\n        }\n      }\n    }\n  }\n\n  selectPlanStates() {\n    //if choose safe option, then state shown is 100% path and a random other path\n    //if choose risky option, then state shown is between the risky paths\n    var path1;\n    var path2;\n\n    if (this.state.pathIndx === 1) {\n      var rand = getRandomInt(1, 2); //safe choice\n\n      if (rand === 1) {\n        path1 = this.state.SafePath;\n        path2 = this.state.RiskyPath1;\n      } else {\n        path1 = this.state.SafePath;\n        path2 = this.state.RiskyPath2;\n      }\n    } else if (this.state.pathIndx === 2) {\n      path1 = this.state.RiskyPath1;\n      path2 = this.state.RiskyPath2;\n    }\n\n    var bothPath = shuffle(path1.concat(path2));\n    this.setState({\n      playCueScreen: false,\n      playPlanScreen: true,\n      // playTransScreen: false,\n      playPathFull: false,\n      playPathShort: false,\n      playPathOutcomeShort: false,\n      bothPath: bothPath,\n      //[0,2,8,1,6,7]\n      statePlan1: this.state.statePic[bothPath[0]],\n      statePlan2: this.state.statePic[bothPath[1]],\n      statePlan3: this.state.statePic[bothPath[2]],\n      statePlan4: this.state.statePic[bothPath[3]],\n      statePlan5: this.state.statePic[bothPath[4]],\n      statePlan6: this.state.statePic[bothPath[5]]\n    });\n  }\n\n  planCheck(pressed, time_pressed) {\n    var trialRT = time_pressed - this.state.planTime;\n    var keyChoice = pressed;\n    var keyChoiceAll = this.state.keyChoiceAll; //havent made this array yet\n    // console.log(\"keyChoice: \" + keyChoice);\n    // console.log(\"keyChoiceAll: \" + keyChoiceAll);\n\n    if (inArray(keyChoice, keyChoiceAll)) {// if the key choice has already been chosen before, do nothing\n    } else {\n      var planCurrentChoice = this.state.planCurrentChoice + 1;\n      var statePlan1Style = this.state.statePlan1Style;\n      var statePlan2Style = this.state.statePlan2Style;\n      var statePlan3Style = this.state.statePlan3Style;\n      var statePlan4Style = this.state.statePlan4Style;\n      var statePlan5Style = this.state.statePlan5Style;\n      var statePlan6Style = this.state.statePlan6Style;\n      var planChoices = this.state.planChoices;\n      var planChoicesWords = this.state.planChoicesWords;\n      var planRT = this.state.planRT;\n      var coins = this.state.coins;\n      keyChoiceAll[planCurrentChoice - 2] = keyChoice;\n\n      if (keyChoice === 1) {\n        statePlan1Style = styles.statePlanChosen;\n      } else if (keyChoice === 2) {\n        statePlan2Style = styles.statePlanChosen;\n      } else if (keyChoice === 3) {\n        statePlan3Style = styles.statePlanChosen;\n      } else if (keyChoice === 4) {\n        statePlan4Style = styles.statePlanChosen;\n      } else if (keyChoice === 5) {\n        statePlan5Style = styles.statePlanChosen;\n      } else if (keyChoice === 6) {\n        statePlan6Style = styles.statePlanChosen;\n      }\n\n      planChoices[planCurrentChoice - 2] = this.state.bothPath[keyChoice - 1];\n      planChoicesWords[planCurrentChoice - 2] = this.state.stateWord[this.state.bothPath[keyChoice - 1]];\n      planRT[planCurrentChoice - 2] = trialRT;\n      var planTime = Math.round(performance.now());\n      this.setState({\n        playCueScreen: false,\n        playPlanScreen: true,\n        // playTransScreen: false,\n        playPathFull: false,\n        playPathShort: false,\n        playPathOutcomeShort: false,\n        statePlan1Style: statePlan1Style,\n        statePlan2Style: statePlan2Style,\n        statePlan3Style: statePlan3Style,\n        statePlan4Style: statePlan4Style,\n        statePlan5Style: statePlan5Style,\n        statePlan6Style: statePlan6Style,\n        planCurrentChoice: planCurrentChoice,\n        planChoices: planChoices,\n        planChoicesWords: planChoicesWords,\n        planRT: planRT,\n        planTime: planTime,\n        keyChoiceAll: keyChoiceAll\n      }); //finish choosing 3 choices\n\n      if (planCurrentChoice === 4) {\n        // check if correct?\n        // the order has to be right!\n        var samePathOne = arraysEqual(planChoices, this.state.pathOne);\n        var samePathTwo = arraysEqual(planChoices, this.state.pathTwo);\n        var samePathThree = arraysEqual(planChoices, this.state.pathThree);\n\n        if (samePathOne === true || samePathTwo === true || samePathThree === true) {\n          // if correct, which path did they think they were gonna go?\n          var planPathChosen;\n\n          if (arraysEqual(planChoices, this.state.SafePath)) {\n            planPathChosen = this.state.taskSafePathProb[this.state.trialNum - 1];\n          } else if (arraysEqual(planChoices, this.state.RiskyPath1)) {\n            planPathChosen = this.state.taskRiskyPathProb1[this.state.trialNum - 1];\n          } else if (arraysEqual(planChoices, this.state.RiskyPath2)) {\n            planPathChosen = this.state.taskRiskyPathProb2[this.state.trialNum - 1];\n          }\n\n          this.setState({\n            planCor: 1,\n            planFeedback: \"Correct order! No coins lost!\",\n            coins: coins,\n            planPathChosen: planPathChosen,\n            planCurrentChoice: 3 //keep the number on screen\n\n          });\n        } else {\n          coins = coins - 1;\n          this.setState({\n            planCor: 0,\n            planFeedback: \"No such order! You lose 1 coin!\",\n            coins: coins,\n            planPathChosen: null,\n            //failed to choose correct path\n            planCurrentChoice: 3\n          });\n        }\n\n        if (this.state.taskShowPath[this.state.trialNum - 1] === 1) {\n          setTimeout(function () {\n            this.playStateOne();\n          }.bind(this), 1000);\n        } else if (this.state.taskShowPath[this.state.trialNum - 1] === 0) {\n          //if dont show the route, go to a jitter fixation\n          setTimeout(function () {\n            this.jitterFix();\n          }.bind(this), 1000);\n        }\n      }\n    }\n  }\n\n  planStart() {\n    let text = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.counter,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_counter,\n          alt: \"counter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 868,\n          columnNumber: 11\n        }, this), this.state.trialNum, \"/\", this.state.trialTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 867,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.coins,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_coin,\n          alt: \"coin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 876,\n          columnNumber: 11\n        }, this), this.state.coins]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [\"Choose the room images of the spaceship\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"you believe you will end up in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 886,\n            columnNumber: 13\n          }, this), \" in order.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 884,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 888,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: [\"Which is \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"Room \", this.state.planCurrentChoice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 891,\n            columnNumber: 22\n          }, this), \"?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 890,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 893,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: [\"1 -\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: this.state.statePlan1Style,\n            src: this.state.statePlan1,\n            alt: \"state1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 896,\n            columnNumber: 13\n          }, this), \"\\xA0 \\xA0 2 -\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: this.state.statePlan2Style,\n            src: this.state.statePlan2,\n            alt: \"state2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 902,\n            columnNumber: 13\n          }, this), \"\\xA0 \\xA0 3 -\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: this.state.statePlan3Style,\n            src: this.state.statePlan3,\n            alt: \"state3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 908,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 913,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 914,\n            columnNumber: 13\n          }, this), \"4 -\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: this.state.statePlan4Style,\n            src: this.state.statePlan4,\n            alt: \"state4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 915,\n            columnNumber: 13\n          }, this), \"\\xA0 \\xA0 5 -\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: this.state.statePlan5Style,\n            src: this.state.statePlan5,\n            alt: \"state5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 921,\n            columnNumber: 13\n          }, this), \"\\xA0 \\xA0 6 -\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            className: this.state.statePlan6Style,\n            src: this.state.statePlan6,\n            alt: \"state6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 927,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 894,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 933,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: this.state.planFeedback\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 934,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 883,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 866,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 939,\n      columnNumber: 12\n    }, this);\n  }\n\n  jitterFix() {\n    if (this.state.pathRoute !== null) {\n      document.removeEventListener(\"keyup\", this._handleTaskKey);\n      var pathRoutePic1 = this.state.pathRoute[0]; //[0,1,2] or [3,4,5] or [6,7,8]\n\n      var pathNum;\n      var whichShip;\n\n      if (pathRoutePic1 === 0) {\n        pathNum = 1;\n        whichShip = \"A\";\n      } else if (pathRoutePic1 === 3) {\n        pathNum = 2;\n        whichShip = \"B\";\n      } else if (pathRoutePic1 === 6) {\n        pathNum = 3;\n        whichShip = \"C\";\n      }\n\n      this.setState({\n        // playTransScreen: false,\n        playCueScreen: false,\n        playPlanScreen: false,\n        playPathShort: true,\n        playPathFull: false,\n        playPathOutcomeShort: false,\n        stateNum: \" \",\n        pathNum: pathNum,\n        whichShip: whichShip,\n        stateShown: this.state.img_fix,\n        outcomeValue: null,\n        taskOutcome1: [],\n        taskOutcome2: [],\n        taskOutcome3: [],\n        taskOutcomeValue: null\n      });\n      var jitterPos = this.state.jitter;\n      var jitterTime = jitterPos[Math.floor(Math.random() * jitterPos.length)]; //random jitter time\n\n      setTimeout(function () {\n        this.playOutcomeShort();\n      }.bind(this), jitterTime);\n    } else {\n      setTimeout(function () {\n        this.lateResponse();\n      }.bind(this), 1);\n    }\n  }\n\n  playOutcomeShort() {\n    document.addEventListener(\"keyup\", this._handleNextTrialKey);\n    var outcome = this.state.outcome;\n    var coins = this.state.coins + outcome;\n    var taskOutcomeValue = this.state.taskOutcomeValue;\n    var outcomeWord;\n    var outcomeIndx;\n    var outcomeValue;\n\n    if (outcome > 0) {\n      outcomeIndx = 0;\n      outcomeWord = this.state.outcomeWord[0];\n      outcomeValue = outcome / this.state.outcomeVal[0];\n      taskOutcomeValue = outcomeValue;\n    } else if (outcome < 0) {\n      outcomeIndx = 1;\n      outcomeWord = this.state.outcomeWord[1];\n      outcomeValue = outcome / this.state.outcomeVal[1];\n      taskOutcomeValue = outcomeValue;\n    } else if (outcome === 0) {\n      outcomeIndx = 2;\n      outcomeWord = this.state.outcomeWord[2];\n      outcomeValue = this.state.neuVal;\n      taskOutcomeValue = outcome;\n    }\n\n    this.setState({\n      playPathOutcomeShort: true,\n      playPathShort: false,\n      stateNum: \"You receive:\",\n      outcomeValue: outcomeValue,\n      taskOutcome1: [],\n      taskOutcomeValue: taskOutcomeValue,\n      // this is what is displayed...\n      taskOutcome2: [],\n      coins: coins,\n      taskOutcomeWord: outcomeWord,\n      taskOutcomeIndx: outcomeIndx,\n      taskOutcome3: \"[Press the SPACEBAR to continue to the next journey]\"\n    });\n    setTimeout(function () {\n      this.taskSave();\n    }.bind(this), 0);\n  } //just the jitter!\n\n\n  pathShortStart() {\n    let text = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.counter,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_counter,\n          alt: \"counter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1052,\n          columnNumber: 11\n        }, this), this.state.trialNum, \"/\", this.state.trialTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1051,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.coins,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_coin,\n          alt: \"coin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1060,\n          columnNumber: 11\n        }, this), this.state.coins]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1059,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.center,\n          children: \"\\xA0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1068,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: \"\\xA0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1069,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1070,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: styles.stateLarge,\n            src: this.state.stateShown,\n            alt: \"state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1072,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: [this.state.taskOutcome1, \"\\xA0\", this.state.taskOutcome2]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1078,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1083,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: this.state.taskOutcome3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1084,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1085,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1067,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1050,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1090,\n      columnNumber: 12\n    }, this);\n  }\n\n  pathShortOutcomeStart() {\n    let text = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.counter,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_counter,\n          alt: \"counter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1097,\n          columnNumber: 11\n        }, this), this.state.trialNum, \"/\", this.state.trialTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1096,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.coins,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_coin,\n          alt: \"coin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1105,\n          columnNumber: 11\n        }, this), this.state.coins]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.center,\n          children: [\"Spaceship \", this.state.whichShip]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: this.state.stateNum\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1121,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1121,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1122,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1122,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.outcomeValue,\n            children: [this.state.outcome, \"\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n              className: styles.stateSmall,\n              src: this.state.img_coin,\n              alt: \"state\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1127,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1124,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: [this.state.taskOutcome1, \"\\xA0\", this.state.taskOutcome2]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: this.state.taskOutcome3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1095,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1146,\n      columnNumber: 12\n    }, this);\n  }\n\n  missionThree() {\n    var trialTime = Math.round(performance.now());\n    this.setState({\n      playCueScreen: false,\n      playPlanScreen: false,\n      // playTransScreen: false,\n      playPathFull: false,\n      playPathShort: false,\n      playPathOutcomeShort: false,\n      trialNum: 0,\n      trialNumInBlock: 0,\n      trialTime: trialTime,\n      trialRT: 0,\n      trialKeypress: 0,\n      trialScore: 0\n    });\n    setTimeout(function () {\n      this.setTrialVar();\n    }.bind(this), 0);\n  }\n\n  missionCont() {\n    var trialTime = Math.round(performance.now());\n    this.setState({\n      instructScreen: false,\n      taskScreen: true,\n      playCueScreen: false,\n      playPlanScreen: false,\n      // playTransScreen: false,\n      playPathFull: false,\n      playPathShort: false,\n      playPathOutcomeShort: false,\n      trialTime: trialTime\n    });\n    setTimeout(function () {\n      this.setTrialVar();\n    }.bind(this), 0);\n  }\n\n  setTrialVar() {\n    // disable the task key\n    document.removeEventListener(\"keyup\", this._handleTaskKey);\n    document.removeEventListener(\"keyup\", this._handleNextTrialKey); // decide Left/Right position for shuttle option (I should save this later)\n\n    var trialTime = Math.round(performance.now());\n    var trialNum = this.state.trialNum + 1;\n    var trialNumInBlock = this.state.trialNumInBlock + 1;\n    var cueShutPosIndx = this.state.cueShutPosIndx; //0,1\n\n    shuffle(cueShutPosIndx); // decide top/mid/bot position for outcome cues\n\n    var cueOutPosIndx = this.state.cueOutPosIndx; //0,1,2\n\n    shuffle(cueOutPosIndx);\n    var taskSafePathOutcome = this.state.taskSafePathOutcome[trialNum - 1];\n    var taskRiskyPathOutcome1 = this.state.taskRiskyPathOutcome1[trialNum - 1];\n    var taskRiskyPathOutcome2 = this.state.taskRiskyPathOutcome2[trialNum - 1];\n    var taskSafePathProb = this.state.taskSafePathProb[trialNum - 1];\n    var taskRiskyPathProb1 = this.state.taskRiskyPathProb1[trialNum - 1];\n    var taskRiskyPathProb2 = this.state.taskRiskyPathProb2[trialNum - 1];\n    var taskForcedChoiceText1 = this.state.taskForcedChoiceText1;\n    var taskForcedChoiceText2 = this.state.taskForcedChoiceText2; // var taskOptChoice = this.state.taskOptChoice[trialNum - 1];\n\n    var taskForceChoice = this.state.taskForceChoice[trialNum - 1];\n    var SafePath;\n    var RiskyPath1;\n    var RiskyPath2;\n    var paths = this.state.paths; //1,2,3\n\n    shuffle(paths); //  var bool = trialNumInBlock <= this.state.trialForced;\n    // console.log(\"Still Forced Choice? \" + bool);\n    // console.log(\"trialNumInBlock \" + trialNumInBlock);\n    // console.log(\"trialForced \" + this.state.trialForced);\n\n    if (trialNumInBlock <= this.state.trialForced) {\n      //if it is a forced choice then the safe path will play each of the paths twice\n      // console.log(\"Forced Choice\");\n      var forcedPath = this.state.forcedPaths[trialNumInBlock - 1];\n\n      if (forcedPath === 1) {\n        SafePath = this.state.pathOne;\n        RiskyPath1 = this.state.pathTwo;\n        RiskyPath2 = this.state.pathThree;\n      } else if (forcedPath === 2) {\n        SafePath = this.state.pathTwo;\n        RiskyPath1 = this.state.pathOne;\n        RiskyPath2 = this.state.pathThree;\n      } else if (forcedPath === 3) {\n        SafePath = this.state.pathThree;\n        RiskyPath1 = this.state.pathTwo;\n        RiskyPath2 = this.state.pathOne;\n      }\n    } else if (trialNumInBlock > this.state.trialForced) {\n      // shuffle the paths - this is random when not a forced choice\n      // decide which paths are which options\n      // console.log(\"Free Choice\");\n      if (paths[0] === 1 & paths[1] === 2 & paths[2] === 3) {\n        //this means safe is spaceship 1, risky 1 is spaceship 2 and risky 2 is spaceship 3\n        SafePath = this.state.pathOne;\n        RiskyPath1 = this.state.pathTwo;\n        RiskyPath2 = this.state.pathThree;\n      } else if (paths[0] === 1 & paths[1] === 3 & paths[2] === 2) {\n        SafePath = this.state.pathOne;\n        RiskyPath1 = this.state.pathThree;\n        RiskyPath2 = this.state.pathTwo;\n      } else if (paths[0] === 2 & paths[1] === 1 & paths[2] === 3) {\n        SafePath = this.state.pathTwo;\n        RiskyPath1 = this.state.pathOne;\n        RiskyPath2 = this.state.pathThree;\n      } else if (paths[0] === 2 & paths[1] === 3 & paths[2] === 1) {\n        SafePath = this.state.pathTwo;\n        RiskyPath1 = this.state.pathThree;\n        RiskyPath2 = this.state.pathOne;\n      } else if (paths[0] === 3 & paths[1] === 1 & paths[2] === 2) {\n        SafePath = this.state.pathThree;\n        RiskyPath1 = this.state.pathOne;\n        RiskyPath2 = this.state.pathTwo;\n      } else if (paths[0] === 3 & paths[1] === 2 & paths[2] === 1) {\n        SafePath = this.state.pathThree; //[6,7,8]\n\n        RiskyPath1 = this.state.pathTwo; //[3,4,5]\n\n        RiskyPath2 = this.state.pathOne; //[0,1,2]\n      }\n    } //shuttle Pic is either first (0) or second (1) state, with 33% probability for the latter\n\n\n    var SafeRand1 = getOutPos1();\n    var SafeRand2;\n\n    if (SafeRand1 === 1) {\n      SafeRand2 = 2; //if it is the second state, then only the third state can be the outcome Pic\n    } else {\n      SafeRand2 = getOutPos2(); //if it is the first state, then second OR third state can be the outcome Pic\n    }\n\n    console.log(\"Trial No: \" + trialNum); // console.log(\"Path: \" + paths);\n    // console.log(\"SafePath: \" + SafePath);\n    // console.log(\"RiskyPath1: \" + RiskyPath1);\n    // console.log(\"RiskyPath2: \" + RiskyPath2);\n    // console.log(\"Path: \" + paths);\n    // console.log(\"SafeRand1: \" + SafeRand1);\n    // console.log(\"SafeRand2: \" + SafeRand2);\n    // the shuttlePic can be the first or second state, while the path outcome can be the second or third state\n\n    var SafePathShuttlePic = SafePath[SafeRand1];\n    var SafePathOutPic = SafePath[SafeRand2];\n    var Risky1Rand1 = getOutPos1();\n    var Risky1Rand2;\n\n    if (Risky1Rand1 === 1) {\n      Risky1Rand2 = 2; //if it is the second state, then only the third state can be the outcome Pic\n    } else {\n      Risky1Rand2 = getOutPos2(); //if it is the first state, then second OR third state can be the outcome Pic\n    }\n\n    var RiskyPath1ShuttlePic = RiskyPath1[Risky1Rand1];\n    var RiskyPath1OutPic = RiskyPath1[Risky1Rand2];\n    var Risky2Rand1 = getOutPos1();\n    var Risky2Rand2;\n\n    if (Risky2Rand1 === 1) {\n      Risky2Rand2 = 2; //if it is the second state, then only the third state can be the outcome Pic\n    } else {\n      Risky2Rand2 = getOutPos2(); //if it is the first state, then second OR third state can be the outcome Pic\n    }\n\n    var RiskyPath2ShuttlePic = RiskyPath2[Risky2Rand1];\n    var RiskyPath2OutPic = RiskyPath2[Risky2Rand2]; // shuffle the shuttle option\n\n    var Prob1;\n    var Prob2;\n    var Shuttle1;\n    var Shuttle2;\n    var Shuttle1Word;\n    var Shuttle2Word;\n    var ShuttlePicWord;\n    var pathProbBoth;\n    var choice1Fade = styles.shuttlePreChoice;\n    var choice2Fade = styles.shuttlePreChoice;\n\n    if (cueShutPosIndx[0] === 0) {\n      //safe one is left choice\n      Prob1 = taskSafePathProb * 100 + \"%\";\n      Prob2 = taskRiskyPathProb1 * 100 + \"%/\" + taskRiskyPathProb2 * 100 + \"%\";\n      pathProbBoth = [Prob1, Prob2];\n      Shuttle1 = this.state.shuttlePic[0];\n      Shuttle2 = this.state.shuttlePic[1];\n      Shuttle1Word = this.state.stateWord[SafePathShuttlePic];\n      ShuttlePicWord = [this.state.shuttleWord[0], this.state.shuttleWord[1]];\n      Shuttle2Word = this.state.stateWord[RiskyPath1ShuttlePic] + \"/\" + this.state.stateWord[RiskyPath2ShuttlePic]; // console.log(\"taskForceChoice: \" + taskForceChoice);\n\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        taskForcedChoiceText1 = \"Let us take the reliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the ← key]\"; // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoiceFade;\n      } else if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 2) {\n        taskForcedChoiceText1 = \"Let us take the unreliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the → key]\"; // choice1Fade = styles.shuttleChoiceFade;\n        // choice2Fade = styles.shuttleChoice;\n      } else {\n        taskForcedChoiceText1 = [];\n        taskForcedChoiceText2 = \"[Press the ← or → key to choose]\"; // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoice;\n      }\n    } else if (cueShutPosIndx[0] === 1) {\n      Prob1 = taskRiskyPathProb1 * 100 + \"%/\" + taskRiskyPathProb2 * 100 + \"%\";\n      Prob2 = taskSafePathProb * 100 + \"%\";\n      pathProbBoth = [Prob1, Prob2];\n      ShuttlePicWord = [this.state.shuttleWord[1], this.state.shuttleWord[0]];\n      Shuttle1 = this.state.shuttlePic[1];\n      Shuttle2 = this.state.shuttlePic[0];\n      Shuttle1Word = this.state.stateWord[RiskyPath1ShuttlePic] + \"/\" + this.state.stateWord[RiskyPath2ShuttlePic];\n      Shuttle2Word = this.state.stateWord[SafePathShuttlePic]; //safe one is right choice\n\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        taskForcedChoiceText1 = \"Let us take the reliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the → key]\"; // choice1Fade = styles.shuttleChoiceFade;\n        // choice2Fade = styles.shuttleChoice;\n      } else if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 2) {\n        taskForcedChoiceText1 = \"Let us take the unreliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the ← key]\"; // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoiceFade;\n      } else {\n        taskForcedChoiceText1 = [];\n        taskForcedChoiceText2 = \"[Press the ← or → key to choose]\"; // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoice;\n      }\n    }\n\n    var neuVal = getRandomInt(1, 5);\n    var SafeOut;\n    var SafeVal;\n\n    if (taskSafePathOutcome > 0) {\n      SafeOut = this.state.outcomeWord[0];\n      SafeVal = taskSafePathOutcome / this.state.outcomeVal[0];\n    } else if (taskSafePathOutcome < 0) {\n      SafeOut = this.state.outcomeWord[1];\n      SafeVal = taskSafePathOutcome / this.state.outcomeVal[1];\n    } else if (taskSafePathOutcome === 0) {\n      //if this is neutral, then random a number\n      SafeOut = this.state.outcomeWord[2];\n      SafeVal = neuVal;\n    }\n\n    var Risky1Out;\n    var Risky1Val;\n\n    if (taskRiskyPathOutcome1 > 0) {\n      Risky1Out = this.state.outcomeWord[0];\n      Risky1Val = taskRiskyPathOutcome1 / this.state.outcomeVal[0];\n    } else if (taskRiskyPathOutcome1 < 0) {\n      Risky1Out = this.state.outcomeWord[1];\n      Risky1Val = taskRiskyPathOutcome1 / this.state.outcomeVal[1];\n    } else if (taskRiskyPathOutcome1 === 0) {\n      Risky1Out = this.state.outcomeWord[2];\n      Risky1Val = neuVal;\n    }\n\n    var Risky2Out;\n    var Risky2Val;\n\n    if (taskRiskyPathOutcome2 > 0) {\n      Risky2Out = this.state.outcomeWord[0];\n      Risky2Val = taskRiskyPathOutcome2 / this.state.outcomeVal[0];\n    } else if (taskRiskyPathOutcome2 < 0) {\n      Risky2Out = this.state.outcomeWord[1];\n      Risky2Val = taskRiskyPathOutcome2 / this.state.outcomeVal[1];\n    } else if (taskRiskyPathOutcome2 === 0) {\n      Risky2Out = this.state.outcomeWord[2];\n      Risky2Val = neuVal;\n    }\n\n    var OutcomeVal1;\n    var OutcomeVal2;\n    var OutcomeVal3;\n    var OutcomePic1;\n    var OutcomePic2;\n    var OutcomePic3;\n    var LastStatePic1;\n    var LastStatePic2;\n    var LastStatePic3; // outcome cues\n\n    if (cueOutPosIndx[0] === 0 & cueOutPosIndx[1] === 1 & cueOutPosIndx[2] === 2) {\n      //this means safe is spaceship 1, risky 1 is spaceship 2 and risky 2 is spaceship 3\n      LastStatePic1 = this.state.stateWord[SafePathOutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath2OutPic];\n      OutcomePic1 = SafeOut;\n      OutcomePic2 = Risky1Out;\n      OutcomePic3 = Risky2Out;\n      OutcomeVal1 = SafeVal;\n      OutcomeVal2 = Risky1Val;\n      OutcomeVal3 = Risky2Val;\n    } else if (cueOutPosIndx[0] === 0 & cueOutPosIndx[1] === 2 & cueOutPosIndx[2] === 1) {\n      LastStatePic1 = this.state.stateWord[SafePathOutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath1OutPic];\n      OutcomePic1 = SafeOut;\n      OutcomePic2 = Risky2Out;\n      OutcomePic3 = Risky1Out;\n      OutcomeVal1 = SafeVal;\n      OutcomeVal2 = Risky2Val;\n      OutcomeVal3 = Risky1Val;\n    } else if (cueOutPosIndx[0] === 1 & cueOutPosIndx[1] === 0 & cueOutPosIndx[2] === 2) {\n      LastStatePic1 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic2 = this.state.stateWord[SafePathOutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath2OutPic];\n      OutcomePic1 = Risky1Out;\n      OutcomePic2 = SafeOut;\n      OutcomePic3 = Risky2Out;\n      OutcomeVal1 = Risky1Val;\n      OutcomeVal2 = SafeVal;\n      OutcomeVal3 = Risky2Val;\n    } else if (cueOutPosIndx[0] === 1 & cueOutPosIndx[1] === 2 & cueOutPosIndx[2] === 0) {\n      LastStatePic1 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic3 = this.state.stateWord[SafePathOutPic];\n      OutcomePic1 = Risky1Out;\n      OutcomePic2 = Risky2Out;\n      OutcomePic3 = SafeOut;\n      OutcomeVal1 = Risky1Val;\n      OutcomeVal2 = Risky2Val;\n      OutcomeVal3 = SafeVal;\n    } else if (cueOutPosIndx[0] === 2 & cueOutPosIndx[1] === 0 & cueOutPosIndx[2] === 1) {\n      LastStatePic1 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic2 = this.state.stateWord[SafePathOutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath1OutPic];\n      OutcomePic1 = Risky2Out;\n      OutcomePic2 = SafeOut;\n      OutcomePic3 = Risky1Out;\n      OutcomeVal1 = Risky2Val;\n      OutcomeVal2 = SafeVal;\n      OutcomeVal3 = Risky1Val;\n    } else if (cueOutPosIndx[0] === 2 & cueOutPosIndx[1] === 1 & cueOutPosIndx[2] === 0) {\n      LastStatePic1 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic3 = this.state.stateWord[SafePathOutPic];\n      OutcomePic1 = Risky2Out;\n      OutcomePic2 = Risky1Out;\n      OutcomePic3 = SafeOut;\n      OutcomeVal1 = Risky2Val;\n      OutcomeVal2 = Risky1Val;\n      OutcomeVal3 = SafeVal;\n    } // console.log(\"text: \" + taskForcedChoiceText1);\n    // console.log(\"text: \" + taskForcedChoiceText2);\n\n\n    var timerKey = this.state.timerKey + 1;\n    this.setState({\n      Shuttle1Word: Shuttle1Word,\n      Shuttle1: Shuttle1,\n      Shuttle2Word: Shuttle2Word,\n      Shuttle2: Shuttle2,\n      ShuttlePos: cueShutPosIndx,\n      ShuttlePicWord: ShuttlePicWord,\n      Prob1: Prob1,\n      Prob2: Prob2,\n      LastStatePic1: LastStatePic1,\n      LastStatePic2: LastStatePic2,\n      LastStatePic3: LastStatePic3,\n      OutcomePic1: OutcomePic1,\n      OutcomePic2: OutcomePic2,\n      OutcomePic3: OutcomePic3,\n      OutcomeVal1: OutcomeVal1,\n      OutcomeVal2: OutcomeVal2,\n      OutcomeVal3: OutcomeVal3,\n      SafePath: SafePath,\n      RiskyPath1: RiskyPath1,\n      RiskyPath2: RiskyPath2,\n      neuVal: neuVal,\n      //just for the trual value\n      taskForcedChoiceText1: taskForcedChoiceText1,\n      taskForcedChoiceText2: taskForcedChoiceText2,\n      choice1Fade: choice1Fade,\n      choice2Fade: choice2Fade,\n      playCueScreen: true,\n      playPlanScreen: false,\n      // playTransScreen: false,\n      playPathFull: false,\n      playPathShort: false,\n      playPathOutcomeShort: false,\n      trialNum: trialNum,\n      trialNumInBlock: trialNumInBlock,\n      trialTime: trialTime,\n      timerKey: timerKey,\n      pathProbBoth: pathProbBoth,\n      planCurrentChoice: 1,\n      statePlan1Style: styles.statePlan,\n      statePlan2Style: styles.statePlan,\n      statePlan3Style: styles.statePlan,\n      statePlan4Style: styles.statePlan,\n      statePlan5Style: styles.statePlan,\n      statePlan6Style: styles.statePlan,\n      planChoices: [],\n      planRT: [],\n      planCor: null,\n      planChoicesWords: [],\n      keyChoiceAll: [],\n      planPathChosen: null,\n      planFeedback: \"Press the [number key] to select the room.\"\n    });\n\n    if (trialNum === 1) {\n      this.setState({\n        instructScreen: false,\n        taskScreen: true\n      });\n    }\n\n    setTimeout(function () {\n      this.allowResp();\n    }.bind(this), this.state.respWaitDur);\n  }\n\n  allowResp() {\n    document.addEventListener(\"keyup\", this._handleTaskKey);\n    var taskForceChoice = this.state.taskForceChoice[this.state.trialNum - 1];\n    var trialNumInBlock = this.state.trialNumInBlock;\n    var choice1Fade = this.state.choice1Fade;\n    var choice2Fade = this.state.choice2Fade;\n\n    if (this.state.ShuttlePos[0] === 0) {\n      //safe one is left choice\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoiceFade;\n      } else if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 2) {\n        choice1Fade = styles.shuttleChoiceFade;\n        choice2Fade = styles.shuttleChoice;\n      } else {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoice;\n      }\n    } else if (this.state.ShuttlePos[0] === 1) {\n      //safe one is right choice\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        choice1Fade = styles.shuttleChoiceFade;\n        choice2Fade = styles.shuttleChoice;\n      } else if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 2) {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoiceFade;\n      } else {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoice;\n      }\n    }\n\n    this.setState({\n      choice1Fade: choice1Fade,\n      choice2Fade: choice2Fade\n    });\n  }\n\n  lateResponse() {\n    document.addEventListener(\"keyup\", this._handleNextTrialKey);\n    document.removeEventListener(\"keyup\", this._handleTaskKey);\n    var coins = this.state.coins - 1;\n    var trialRT = Math.round(performance.now()) - this.state.trialTime;\n    this.setState({\n      choice1Fade: styles.shuttleChoiceFade,\n      choice2Fade: styles.shuttleChoiceFade,\n      taskForcedChoiceText1: \"You lose 1 coin! Please respond faster.\",\n      taskForcedChoiceText2: \"[Press the SPACEBAR to continue to the next journey]\",\n      trialRT: trialRT,\n      coins: coins,\n      timerOn: false,\n      keyChoice: 0,\n      //meaning that they didn't press at all\n      pathProb: null,\n      pathRoute: null,\n      outcome: null,\n      pathIndx: null,\n      pathProbEnd: null,\n      pathNum: null,\n      taskPathPicWord: null,\n      taskOutcomeWord: null,\n      taskOutcomeIndx: null,\n      outcomeValue: null,\n      //i can see what number 0 is\n      taskOutcomeValue: -1 //actual value\n\n    });\n    setTimeout(function () {\n      this.taskSave();\n    }.bind(this), 0);\n  }\n\n  taskStart(trialNum) {\n    var choice1Fade = this.state.choice1Fade;\n    var choice2Fade = this.state.choice2Fade;\n\n    let text = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.counter,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_counter,\n          alt: \"counter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1723,\n          columnNumber: 11\n        }, this), this.state.trialNum, \"/\", this.state.trialTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1722,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.coins,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_coin,\n          alt: \"coin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1731,\n          columnNumber: 11\n        }, this), this.state.coins]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1730,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.likeP,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.cueScreen,\n            children: [this.state.LastStatePic1, \" - \", this.state.OutcomeVal1, \"\\xA0\", this.state.OutcomePic1, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1743,\n              columnNumber: 15\n            }, this), this.state.LastStatePic2, \" - \", this.state.OutcomeVal2, \"\\xA0\", this.state.OutcomePic2, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1746,\n              columnNumber: 15\n            }, this), this.state.LastStatePic3, \" - \", this.state.OutcomeVal3, \"\\xA0\", this.state.OutcomePic3]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1740,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1739,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1751,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: choice1Fade,\n            children: [this.state.Prob1, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1755,\n              columnNumber: 15\n            }, this), \" \", this.state.Shuttle1Word, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1755,\n              columnNumber: 48\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              className: styles.shuttle,\n              src: this.state.Shuttle1,\n              alt: \"shuttle1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1756,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1753,\n            columnNumber: 13\n          }, this), \"\\xA0 \\xA0 \\xA0 \\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: choice2Fade,\n            children: [this.state.Prob2, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1765,\n              columnNumber: 15\n            }, this), \" \", this.state.Shuttle2Word, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1765,\n              columnNumber: 48\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              className: styles.shuttle,\n              src: this.state.Shuttle2,\n              alt: \"shuttle2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1766,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1763,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1772,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1772,\n            columnNumber: 20\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1752,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: /*#__PURE__*/_jsxDEV(CountdownCircleTimer, {\n            isPlaying: true,\n            duration: this.state.timerCountDur,\n            size: 100,\n            colors: [[\"#004777\", 0.3], [\"#F7B801\", 0.6], [\"#A30000\"]],\n            onComplete: () => {\n              this.lateResponse();\n              return [false];\n            },\n            children: renderTime\n          }, this.state.timerKey, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1775,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1774,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: this.state.taskForcedChoiceText1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1789,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: this.state.taskForcedChoiceText2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1792,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1738,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1721,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1799,\n      columnNumber: 12\n    }, this);\n  }\n\n  playStateOne() {\n    // if it is null, it means you were too late!!! this helps catch the inconsistent time out\n    if (this.state.pathRoute !== null) {\n      document.removeEventListener(\"keyup\", this._handleTaskKey);\n      var pathRoutePic1 = this.state.pathRoute[0]; //[0,1,2] or [3,4,5] or [6,7,8]\n\n      var pathNum;\n      var whichShip;\n      var pathPicWord;\n\n      if (pathRoutePic1 === 0) {\n        pathNum = 1;\n        whichShip = \"A\";\n        pathPicWord = [this.state.stateWord[0], this.state.stateWord[1], this.state.stateWord[2]];\n      } else if (pathRoutePic1 === 3) {\n        pathNum = 2;\n        whichShip = \"B\";\n        pathPicWord = [this.state.stateWord[3], this.state.stateWord[4], this.state.stateWord[5]];\n      } else if (pathRoutePic1 === 6) {\n        pathNum = 3;\n        whichShip = \"C\";\n        pathPicWord = [this.state.stateWord[6], this.state.stateWord[7], this.state.stateWord[8]];\n      }\n\n      var statePic = this.state.statePic[pathRoutePic1];\n      this.setState({\n        playCueScreen: false,\n        playPlanScreen: false,\n        // playTransScreen: false,\n        playPathFull: true,\n        playPathShort: false,\n        playPathOutcomeShort: false,\n        stateNum: \"Room 1\",\n        stateShown: statePic,\n        pathNum: pathNum,\n        whichShip: whichShip,\n        outcomeValue: null,\n        taskPathPicWord: pathPicWord,\n        taskOutcome1: [],\n        taskOutcome2: [],\n        taskOutcomeValue: null,\n        taskOutcome3: []\n      });\n      setTimeout(function () {\n        this.playFix();\n      }.bind(this), this.state.stateDur);\n    } else {\n      setTimeout(function () {\n        this.lateResponse();\n      }.bind(this), 1);\n    }\n  }\n\n  playFix() {\n    this.setState({\n      stateShown: this.state.img_fix\n    });\n\n    if (this.state.stateNum === \"Room 1\") {\n      setTimeout(function () {\n        this.playStateTwo();\n      }.bind(this), this.state.fixDur);\n    } else if (this.state.stateNum === \"Room 2\") {\n      setTimeout(function () {\n        this.playStateThree();\n      }.bind(this), this.state.fixDur);\n    } else if (this.state.stateNum === \"Room 3\") {\n      setTimeout(function () {\n        this.playOutcome();\n      }.bind(this), this.state.fixDur);\n    }\n  }\n\n  playStateTwo() {\n    var pathRoutePic2 = this.state.pathRoute[1]; //[0,1,2] or [3,4,5] or [6,7,8]\n\n    var statePic = this.state.statePic[pathRoutePic2];\n    this.setState({\n      stateNum: \"Room 2\",\n      stateShown: statePic\n    });\n    setTimeout(function () {\n      this.playFix();\n    }.bind(this), this.state.stateDur);\n  }\n\n  playStateThree() {\n    var pathRoutePic3 = this.state.pathRoute[2]; //[0,1,2] or [3,4,5] or [6,7,8]\n\n    var statePic = this.state.statePic[pathRoutePic3];\n    this.setState({\n      stateNum: \"Room 3\",\n      stateShown: statePic\n    });\n    setTimeout(function () {\n      this.playFix();\n    }.bind(this), this.state.stateDur);\n  } //normal path play\n\n\n  pathStart() {\n    let text = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.counter,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_counter,\n          alt: \"counter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1940,\n          columnNumber: 11\n        }, this), this.state.trialNum, \"/\", this.state.trialTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1939,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.coins,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.counter,\n          src: this.state.img_coin,\n          alt: \"coin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1948,\n          columnNumber: 11\n        }, this), this.state.coins]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1947,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.center,\n          children: [\"Spaceship \", this.state.whichShip]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1956,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerTwo,\n          children: this.state.stateNum\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1959,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1960,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.outcomeValue,\n            children: this.state.outcomeValue\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1962,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: styles.stateLarge,\n            src: this.state.stateShown,\n            alt: \"state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1965,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1961,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1971,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: [this.state.taskOutcome1, \" \", this.state.taskOutcomeValue, \"\\xA0\", this.state.taskOutcome2]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1972,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1977,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.centerThree,\n          children: this.state.taskOutcome3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1978,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1979,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1955,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1938,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1984,\n      columnNumber: 12\n    }, this);\n  }\n\n  playOutcome() {\n    document.addEventListener(\"keyup\", this._handleNextTrialKey);\n    var outcome = this.state.outcome;\n    var outcomePic;\n    var outcomeValue = this.state.outcomeValue; //that is, if it is tutorial, i explictly say the outcome\n\n    var taskOutcome1 = this.state.taskOutcome1;\n    var coins = this.state.coins + outcome;\n    var taskOutcomeValue = this.state.taskOutcomeValue;\n    var outcomeWord;\n    var outcomeIndx;\n\n    if (outcome > 0) {\n      outcomeIndx = 0;\n      outcomeWord = this.state.outcomeWord[0];\n\n      if (this.state.trialNumInBlock <= this.state.trialForced) {\n        outcomePic = this.state.outcomePic[0];\n      } else {\n        outcomePic = this.state.stateHolder[1];\n      }\n\n      outcomeValue = outcome / this.state.outcomeVal[0];\n      taskOutcomeValue = outcomeValue;\n      taskOutcome1 = \"You gain\";\n    } else if (outcome < 0) {\n      outcomeIndx = 1;\n      outcomeWord = this.state.outcomeWord[1];\n\n      if (this.state.trialNumInBlock <= this.state.trialForced) {\n        outcomePic = this.state.outcomePic[1];\n      } else {\n        outcomePic = this.state.stateHolder[1];\n      }\n\n      outcomeValue = outcome / this.state.outcomeVal[1];\n      taskOutcomeValue = outcomeValue;\n      taskOutcome1 = \"You lose\";\n    } else if (outcome === 0) {\n      outcomeIndx = 2;\n      outcomeWord = this.state.outcomeWord[2];\n\n      if (this.state.trialNumInBlock <= this.state.trialForced) {\n        outcomePic = this.state.outcomePic[2];\n      } else {\n        outcomePic = this.state.stateHolder[1];\n      }\n\n      outcomeValue = this.state.neuVal;\n      taskOutcomeValue = outcome;\n      taskOutcome1 = \"You gain/lose\";\n    }\n\n    this.setState({\n      stateNum: \"You find:\",\n      stateShown: outcomePic,\n      outcomeValue: outcomeValue,\n      taskOutcome1: taskOutcome1,\n      taskOutcomeValue: taskOutcomeValue,\n      taskOutcome2: \"coin(s)!\",\n      coins: coins,\n      taskOutcomeWord: outcomeWord,\n      taskOutcomeIndx: outcomeIndx,\n      taskOutcome3: \"[Press the SPACEBAR to continue to the next journey]\"\n    });\n    setTimeout(function () {\n      this.taskSave();\n    }.bind(this), 0);\n  }\n\n  taskSave() {\n    var userID = this.state.userID;\n    var trialForced;\n    var trialOutcomeValence;\n\n    if (this.state.outcome === 0) {\n      trialOutcomeValence = 0;\n    } else if (this.state.outcome === null) {\n      //this only comes from late response\n      trialOutcomeValence = null;\n    } else {\n      trialOutcomeValence = this.state.outcome / this.state.taskOutcomeValue;\n    }\n\n    if (this.state.trialNumInBlock <= this.state.trialForced) {\n      trialForced = true;\n    } else {\n      trialForced = false;\n    }\n\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      sectionTime: this.state.sectionTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      trialTime: this.state.trialTime,\n      trialNum: this.state.trialNum,\n      trialBlock: this.state.trialBlock,\n      trialNumInBlock: this.state.trialNumInBlock,\n      trialForced: trialForced,\n      // true if it is a forced trial\n      trialShuttleWord: [this.state.Shuttle1Word, this.state.Shuttle2Word],\n      trialShuttle: this.state.ShuttlePicWord,\n      trialShuttlePos: this.state.ShuttlePos,\n      trialShuttleProb: [this.state.Prob1, this.state.Prob2],\n      trialLastStatePic: [this.state.LastStatePic1, this.state.LastStatePic2, this.state.LastStatePic3],\n      trialOutcomePic: [this.state.OutcomePic1, this.state.OutcomePic2, this.state.OutcomePic3],\n      trialOutcomeVal: [this.state.OutcomeVal1, this.state.OutcomeVal2, this.state.OutcomeVal2],\n      trialSafePath: this.state.SafePath,\n      trialRiskyPath1: this.state.RiskyPath1,\n      trialRiskyPath2: this.state.RiskyPath2,\n      trialSafeProb: this.state.taskSafePathProb[this.state.trialNum - 1],\n      trialRiskyProb1: this.state.taskRiskyPathProb1[this.state.trialNum - 1],\n      trialRiskyProb2: this.state.taskRiskyPathProb2[this.state.trialNum - 1],\n      trialSafeValue: this.state.taskSafePathOutcome[this.state.trialNum - 1],\n      trialRiskyValue1: this.state.taskRiskyPathOutcome1[this.state.trialNum - 1],\n      trialRiskyValue2: this.state.taskRiskyPathOutcome2[this.state.trialNum - 1],\n      trialSafePathEV: this.state.taskSafePathEV[this.state.trialNum - 1],\n      trialRiskyPathEV1: this.state.taskRiskyPathEV1[this.state.trialNum - 1],\n      trialRiskyPathEV2: this.state.taskRiskyPathEV2[this.state.trialNum - 1],\n      trialGambleEV: this.state.taskGambleEV[this.state.trialNum - 1],\n      //Risky EV1+EV2\n      trialChoiceEV: this.state.taskChoiceEV[this.state.trialNum - 1],\n      //SafeEV - (RiskyEV1+EV2)\n      trialPlan: this.state.taskPlanChoice[this.state.trialNum - 1],\n      //0 for not a plan trial, 1 for a plan trial\n      trialPlanRT: this.state.planRT,\n      trialPlanChoice: this.state.planChoices,\n      trialPlanChoiceWords: this.state.planChoicesWords,\n      trialPlanPathChosen: this.state.planPathChosen,\n      trialPlanCor: this.state.planCor,\n      trialPathProb: this.state.pathProbBoth,\n      //this is whether they chose 100 or 50/50, etc\n      trialRT: this.state.trialRT,\n      trialKeypress: this.state.keyChoice,\n      //press left or right\n      trialGambleChoice: this.state.pathIndx,\n      //press 1- safe or 2 -risky\n      trialPathProbChosen: this.state.pathProbEnd,\n      //this is whether they chose 100 or 50/50, etc\n      trialPath: this.state.pathNum,\n      //this should be which path\n      trialPathPicWord: this.state.taskPathPicWord,\n      trialPathIndx: this.state.pathRoute,\n      trialOutcomePicWord: this.state.taskOutcomeWord,\n      trialOutcomeIndx: this.state.taskOutcomeIndx,\n      trialOutcomeValence: trialOutcomeValence,\n      //1, -1 or 0\n      trialOutcomeMag: this.state.outcomeValue,\n      //i can see what number 0 is\n      trialOutcomeValue: this.state.outcome,\n      //actual value\n      trialOptimalChoice: this.state.taskOptChoice[this.state.trialNum - 1],\n      trialCoins: this.state.coins\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/task_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(saveString)\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    } // console.log(\"trialInBlock: \" + this.state.trialInBlock);\n\n  }\n\n  handleNextTrial(pressed, time_pressed) {\n    var whichButton = pressed;\n\n    if (whichButton === 10) {\n      if (this.state.trialNumInBlock >= this.state.trialInBlock && this.state.trialNum !== this.state.trialTotal) {\n        //end of block, send to resting screen\n        setTimeout(function () {\n          this.endBlock();\n        }.bind(this), 0);\n      } else {\n        setTimeout(function () {\n          this.setTrialVar();\n        }.bind(this), 0);\n      }\n    }\n  }\n\n  endBlock() {\n    document.removeEventListener(\"keyup\", this._handleNextTrialKey);\n    this.setState({\n      instructScreen: true,\n      taskScreen: false,\n      instructScreenText: 5\n    });\n  }\n\n  nextBlock() {\n    var trialBlock = this.state.trialBlock + 1;\n    var forcedPaths = this.state.forcedPaths;\n    shuffle(forcedPaths);\n    this.setState({\n      instructScreen: false,\n      taskScreen: true,\n      trialNumInBlock: 0,\n      //reset for next block\n      trialBlock: trialBlock,\n      forcedPaths: forcedPaths\n    });\n    setTimeout(function () {\n      this.setTrialVar();\n    }.bind(this), 5);\n  }\n\n  passMission() {\n    this.setState({\n      instructScreen: true,\n      taskScreen: false,\n      instructScreenText: 6\n    });\n    setTimeout(function () {\n      this.calBonus();\n    }.bind(this), 0);\n  } // There is a default of 2 pounds bonus - for their time?\n\n\n  calBonus() {\n    var coins = this.state.coins;\n    var bonus = coins / (0.4 * this.state.trialTotal) * 2; // if you earn negative then no bonus at all?\n\n    if (bonus < 0) {\n      bonus = 2;\n    } else {\n      bonus = roundTo(bonus, 2) + 2; //2 dec pl\n    }\n\n    this.setState({\n      bonus: bonus\n    });\n    setTimeout(function () {\n      this.saveBonus();\n    }.bind(this), 0);\n  }\n\n  saveBonus() {\n    var userID = this.state.userID;\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      sectionTime: this.state.sectionTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      taskCoins: this.state.coins,\n      taskBonus: this.state.bonus\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/bonus_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(saveString)\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n  }\n\n  nextMission() {\n    document.removeEventListener(\"keyup\", this._handleInstructKey);\n    document.removeEventListener(\"keyup\", this._handleDebugKey);\n    this.props.history.push({\n      pathname: `/Questionnaires`,\n      state: {\n        userID: this.state.userID,\n        date: this.state.date,\n        startTime: this.state.startTime,\n        bonus: this.state.bonus,\n        img_astrodude1: this.state.img_astrodude1,\n        shuttlePic: this.state.shuttlePic\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    // fix Warning: Can't perform a React state update on an unmounted component\n    this.setState = (state, callback) => {\n      return;\n    };\n  }\n\n  condSave() {\n    var userID = this.state.userID;\n    var currentDate = new Date(); // maybe change to local\n\n    var sectionTime = currentDate.toTimeString();\n    var trialTime = Math.round(performance.now());\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      // this is when they start the expt\n      sectionTime: sectionTime,\n      //this is if they somehow refresh the page...\n      trialTime: trialTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      structNum: this.state.structNum,\n      outcomeWord: null,\n      outcomeVal: null,\n      outcomeIndx: null,\n      stateWord: null,\n      stateIndx: null,\n      pathOne: null,\n      pathTwo: null,\n      pathThree: null,\n      tutForcedPaths: null,\n      tutSafePathOutcome: null,\n      tutRiskyPathOutcome1: null,\n      tutRiskyPathOutcome2: null,\n      tutSafePathProb: null,\n      tutRiskyPathProb1: null,\n      tutRiskyPathProb2: null,\n      tutOptChoice: null,\n      tutOutcomeStruct: null,\n      tutForceChoice: null,\n      tutPlanChoice: null,\n      tutShowPath: null,\n      taskSafePathOutcome: this.state.taskSafePathOutcome,\n      taskRiskyPathOutcome1: this.state.taskRiskyPathOutcome1,\n      taskRiskyPathOutcome2: this.state.taskRiskyPathOutcome2,\n      taskSafePathProb: this.state.taskSafePathProb,\n      taskRiskyPathProb1: this.state.taskRiskyPathProb1,\n      taskRiskyPathProb2: this.state.taskRiskyPathProb2,\n      taskOptChoice: this.state.taskOptChoice,\n      taskOutcomeStruct: this.state.taskOutcomeStruct,\n      taskForceChoice: this.state.taskForceChoice,\n      taskPlanChoice: this.state.taskPlanChoice,\n      taskShowPath: this.state.taskShowPath\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/cond_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(saveString)\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n  } //////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////\n  // render time\n\n\n  render() {\n    let text;\n\n    if (this.state.debug === false) {\n      if (this.state.instructScreen === true) {\n        document.addEventListener(\"keyup\", this._handleInstructKey);\n\n        if (this.state.instructScreenText === 1) {\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          document.removeEventListener(\"keyup\", this._handleTaskKey);\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.likeP,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"MISSION START\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2402,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2403,\n                columnNumber: 17\n              }, this), \"You are now ready to start the main mission.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2405,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2406,\n                columnNumber: 17\n              }, this), \"Remember: you can earn a bonus of up to \\xA34 if you complete the mission!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2409,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2410,\n                columnNumber: 17\n              }, this), \"The more coins you earn, the higher your bonus will be.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2412,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2413,\n                columnNumber: 17\n              }, this), \"Please take note of some \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"important changes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2414,\n                columnNumber: 42\n              }, this), \" for the main mission:\", /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"You can only choose the shuttle after\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [this.state.respWaitDur / 1000, \" seconds\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2419,\n                    columnNumber: 21\n                  }, this), \".\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2417,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"You will only have\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [this.state.timerCountDur, \" seconds\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2423,\n                    columnNumber: 21\n                  }, this), \" to plan which choice to make each time.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2421,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"A timer will be shown. If the timer runs out, you will\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"lose 1 coin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2428,\n                    columnNumber: 21\n                  }, this), \".\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2426,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"We will only ask you to select the connecting room images in its correct order \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2432,\n                    columnNumber: 39\n                  }, this), \"of the\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"spaceship that you believe you will end up in\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2434,\n                    columnNumber: 21\n                  }, this), \" \", \"SOME of the time.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2430,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2416,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"NEXT \\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2441,\n                  columnNumber: 20\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2440,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2401,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2400,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 2) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.likeP,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"MISSION START\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2450,\n                columnNumber: 17\n              }, this), \"As a last refresher, the outcome rooms you can find:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.outcomePic[0],\n                  alt: \"outcome1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2453,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0 = \\xA0+\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.coin,\n                  src: this.state.img_coin,\n                  alt: \"coin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2459,\n                  columnNumber: 19\n                }, this), \" \", \"(gain)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2465,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.outcomePic[1],\n                  alt: \"outcome2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2466,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0 = \\xA0-\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.coin,\n                  src: this.state.img_coin,\n                  alt: \"coin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2472,\n                  columnNumber: 19\n                }, this), \" \", \"(lose)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2478,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.outcomePic[2],\n                  alt: \"outcome3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2479,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0 = \\xA0none\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2452,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u2190 BACK\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2487,\n                  columnNumber: 20\n                }, this), \"] [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"NEXT \\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2487,\n                  columnNumber: 46\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2486,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2449,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2448,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 3) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.likeP,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"MISSION START\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2496,\n                columnNumber: 17\n              }, this), \"And the connecting room order of the spaceships are:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.spaceshipSmall,\n                  children: \"Spaceship A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2499,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[0],\n                  alt: \"statePic1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2500,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[1],\n                  alt: \"statePic2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2506,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[2],\n                  alt: \"statePic3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2512,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2517,\n                  columnNumber: 19\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2517,\n                  columnNumber: 26\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.spaceshipSmall,\n                  children: \"Spaceship B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2518,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[3],\n                  alt: \"statePic4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2519,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[4],\n                  alt: \"statePic5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2525,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[5],\n                  alt: \"statePic6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2531,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2536,\n                  columnNumber: 19\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2536,\n                  columnNumber: 26\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.spaceshipSmall,\n                  children: \"Spaceship C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2537,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[6],\n                  alt: \"statePic7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2538,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[7],\n                  alt: \"statePic8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2544,\n                  columnNumber: 19\n                }, this), \"\\xA0\\xA0\\xA0\\xA0\\u2192\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: styles.stateSmall,\n                  src: this.state.statePic[8],\n                  alt: \"statePic9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2550,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2498,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u2190 BACK\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2557,\n                  columnNumber: 20\n                }, this), \"] [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"NEXT \\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2557,\n                  columnNumber: 46\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2556,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2495,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2494,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 4) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles.likeP,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"MISSION START\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2566,\n                columnNumber: 17\n              }, this), \"You will make \", this.state.trialTotal, \" shuttle journeys in total across \", this.state.trialBlockTotal, \" blocks.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2569,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2570,\n                columnNumber: 17\n              }, this), \"This means you will make\\xA0\", this.state.trialTotal / this.state.trialBlockTotal, \" shuttle journeys in each block.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2574,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2575,\n                columnNumber: 17\n              }, this), \"In the\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"first \", this.state.trialForced, \" shuttle journeys of every block\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2577,\n                columnNumber: 17\n              }, this), \", only the \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"reliable shuttle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2580,\n                columnNumber: 28\n              }, this), \" option will be available and\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2582,\n                columnNumber: 17\n              }, this), \"you will be shown the connecting and outcome room images.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2584,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2585,\n                columnNumber: 17\n              }, this), \"Thereafter, both shuttles will be available and\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"no images will be shown\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2587,\n                columnNumber: 17\n              }, this), \".\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2588,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2589,\n                columnNumber: 17\n              }, this), \"You will have to use your \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"memory\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2590,\n                columnNumber: 43\n              }, this), \" to decipher the clues and make your choices.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2592,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2593,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"YOUR MISSION:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2594,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Recall the spaceship connecting rooms and figure out which spaceship you should board to gain or avoid losing coins.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2596,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: \"Then, decide if it is worth the risk take the reliable or unreliable shuttle according to their probabilties.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2600,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2595,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"If you are ready to begin, please press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"SPACEBAR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2607,\n                  columnNumber: 19\n                }, this), \"].\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2605,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"[\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u2190 BACK\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2610,\n                  columnNumber: 20\n                }, this), \"]\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2609,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2565,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2564,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 5) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"MID-MISSION\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2619,\n                columnNumber: 17\n              }, this), \"You have completed \", this.state.trialBlock, \" out of\\xA0\", this.state.trialBlockTotal, \" blocks!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2622,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2623,\n                columnNumber: 17\n              }, this), \"You may take a short break.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2625,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2626,\n                columnNumber: 17\n              }, this), \"Remember: the first \", this.state.trialForced, \" shuttle journeys will only have the \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"reliable shuttle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2628,\n                columnNumber: 36\n              }, this), \" option available.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2630,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2631,\n                columnNumber: 17\n              }, this), \"You should take the opportunity to refresh your memory of the room and outcome images.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2634,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"If you are ready to continue, please press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"SPACEBAR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2637,\n                  columnNumber: 19\n                }, this), \"].\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2635,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2618,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2617,\n            columnNumber: 13\n          }, this);\n        } else if (this.state.instructScreenText === 6) {\n          text = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.main,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.center,\n                children: \"MISSION END\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2646,\n                columnNumber: 17\n              }, this), \"Well done! You have completed all blocks!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2648,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2648,\n                columnNumber: 24\n              }, this), \"You earned \", this.state.coins, \" coins in your mission!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2650,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2650,\n                columnNumber: 24\n              }, this), \"This will be converted into a bonus at the end of the task.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2652,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2652,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.centerTwo,\n                children: [\"Press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"SPACEBAR\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2654,\n                  columnNumber: 30\n                }, this), \"] to continue.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2653,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2645,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2644,\n            columnNumber: 13\n          }, this);\n        }\n      } else if (this.state.instructScreen === false) {\n        if (this.state.taskScreen === true) {\n          document.removeEventListener(\"keyup\", this._handleInstructKey);\n\n          if (this.state.trialNum <= this.state.trialTotal) {\n            if (this.state.playCueScreen === true && this.state.playPlanScreen === false && // this.state.playTransScreen === false &&\n            this.state.playPathFull === false && this.state.playPathShort === false && this.state.playPathOutcomeShort === false) {\n              //cueScreen\n              //document.addEventListener(\"keyup\", this._handleTaskKey);\n              text = /*#__PURE__*/_jsxDEV(\"div\", {\n                children: this.taskStart(this.state.trialNum)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2674,\n                columnNumber: 22\n              }, this);\n            } else if (this.state.playCueScreen === false && this.state.playPlanScreen === true && // this.state.playTransScreen === false &&\n            this.state.playPathFull === false && this.state.playPathShort === false && this.state.playPathOutcomeShort === false) {\n              // the planning screen\n              document.addEventListener(\"keyup\", this._handlePlanKey);\n              document.removeEventListener(\"keyup\", this._handleTaskKey);\n              text = /*#__PURE__*/_jsxDEV(\"div\", {\n                children: this.planStart()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2686,\n                columnNumber: 22\n              }, this);\n            } else if (this.state.playCueScreen === false && this.state.playPlanScreen === false && // this.state.playTransScreen === false &&\n            this.state.playPathFull === true && this.state.playPathShort === false && this.state.playPathOutcomeShort === false) {\n              // the path route with pics\n              document.removeEventListener(\"keyup\", this._handlePlanKey);\n              document.removeEventListener(\"keyup\", this._handleTaskKey);\n              text = /*#__PURE__*/_jsxDEV(\"div\", {\n                children: this.pathStart()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2698,\n                columnNumber: 22\n              }, this);\n            } else if (this.state.playCueScreen === false && this.state.playPlanScreen === false && // this.state.playTransScreen === false &&\n            this.state.playPathFull === false && this.state.playPathShort === true && this.state.playPathOutcomeShort === false) {\n              document.removeEventListener(\"keyup\", this._handlePlanKey);\n              document.removeEventListener(\"keyup\", this._handleTaskKey);\n              text = /*#__PURE__*/_jsxDEV(\"div\", {\n                children: this.pathShortStart()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2709,\n                columnNumber: 22\n              }, this);\n            } else if (this.state.playCueScreen === false && this.state.playPlanScreen === false && // this.state.playTransScreen === false &&\n            this.state.playPathFull === false && this.state.playPathShort === false && this.state.playPathOutcomeShort === true) {\n              // document.removeEventListener(\"keyup\", this._handlePlanKey);\n              // document.removeEventListener(\"keyup\", this._handleTaskKey);\n              text = /*#__PURE__*/_jsxDEV(\"div\", {\n                children: this.pathShortOutcomeStart()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2720,\n                columnNumber: 22\n              }, this);\n            } //\n\n          } else {\n            // finish all trials - go to end screen\n            setTimeout(function () {\n              this.passMission();\n            }.bind(this), 0);\n          } //\n\n        }\n      }\n    } else if (this.state.debug === true) {\n      document.addEventListener(\"keyup\", this._handleDebugKey);\n      text = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.main,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.center,\n            children: \"DEBUG MODE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2740,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2741,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.centerTwo,\n            children: [\"Press the [\", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"SPACEBAR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2743,\n              columnNumber: 26\n            }, this), \"] to skip to next section.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2742,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2739,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2738,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.spacebg,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.astro3,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: this.state.img_astrodude3,\n          alt: \"astrodude\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2753,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2752,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.textblock,\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2755,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2751,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(ExptTask);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/alisaloosen/Documents/GitHub/GalacticalShift/src/Components/ExptTask.js"],"names":["React","withRouter","DATABASE_URL","CountdownCircleTimer","styles","renderTime","remainingTime","timer","timerValue","timerText","shuffle","array","currentIndex","length","temporaryValue","randomIndex","Math","floor","random","getOutPos1","num","getOutPos2","getRandomInt","min","max","minimum","ceil","maximum","pathToGo","probability","arraysEqual","a","b","Array","isArray","every","el","ix","inArray","needle","haystack","count","i","roundTo","n","digits","undefined","multiplicator","pow","parseFloat","toFixed","test","round","shuttleIndex","cueOutPosIndx","cueShutPosIndx","paths","forcedPaths","trialBlockTotal","trialForced","trialFree","trialForcedTotal","trialFreeTotal","trialTotal","trialInBlock","ExptTask","Component","constructor","props","componentDidMount","window","scrollTo","randNum","StructToRender","require","taskSafePathOutcome","taskRiskyPathOutcome1","taskRiskyPathOutcome2","taskSafePathProb","taskRiskyPathProb1","taskRiskyPathProb2","taskSafePathEV","taskRiskyPathEV1","taskRiskyPathEV2","taskGambleEV","taskChoiceEV","taskOptChoice","taskOutcomeStruct","taskForceChoice","taskPlanChoice","taskShowPath","setState","structNum","setTimeout","condSave","bind","mounted","_handleInstructKey","event","key_pressed","keyCode","handleInstructLocal","_handleDebugKey","pressed","handleDebugKeyLocal","_handleTaskKey","time_pressed","performance","now","taskCheck","_handlePlanKey","planCheck","_handleNextTrialKey","handleNextTrial","userID","location","state","date","startTime","shuttlePic","shuttleWord","img_fix","img_astrodude1","img_astrodude2","img_astrodude3","img_counter","img_coinSmall","img_coin","img_pathInstruct1","stateHolder","statePic","stateWord","outcomePic","outcomeWord","outcomeVal","outcomeIndx","stateIndx","pathOne","pathTwo","pathThree","currentDate","Date","timeString","toTimeString","taskSessionTry","taskSession","instructScreenText","sectionTime","instructScreen","taskScreen","trialBlock","trialNum","trialNumInBlock","trialTime","trialRT","trialKeypress","trialScore","shuttleChoice","stateNum","stateShown","stateDur","outcomeDur","respWaitDur","fixDur","coins","choice1Fade","choice2Fade","playCueScreen","playPlanScreen","playPathFull","playPathShort","playPathOutcomeShort","pathProb","keyChoice","pathRoute","taskOutcomeValue","taskForcedChoiceText1","taskForcedChoiceText2","timerCountDur","timerKey","debug","jitter","taskStart","planStart","pathStart","pathShortStart","addEventListener","e","target","document","body","preventDefault","curText","whichButton","missionThree","nextBlock","nextMission","pathTrans","outcome","pathIndx","ShuttlePos","pathProbEnd","shuttleChoiceFade","SafePath","RiskyPath1","RiskyPath2","console","log","planTime","selectPlanStates","playStateOne","jitterFix","path1","path2","rand","bothPath","concat","statePlan1","statePlan2","statePlan3","statePlan4","statePlan5","statePlan6","keyChoiceAll","planCurrentChoice","statePlan1Style","statePlan2Style","statePlan3Style","statePlan4Style","statePlan5Style","statePlan6Style","planChoices","planChoicesWords","planRT","statePlanChosen","samePathOne","samePathTwo","samePathThree","planPathChosen","planCor","planFeedback","text","main","counter","centerTwo","centerThree","removeEventListener","pathRoutePic1","pathNum","whichShip","outcomeValue","taskOutcome1","taskOutcome2","taskOutcome3","jitterPos","jitterTime","playOutcomeShort","lateResponse","neuVal","taskOutcomeWord","taskOutcomeIndx","taskSave","center","stateLarge","pathShortOutcomeStart","stateSmall","setTrialVar","missionCont","forcedPath","SafeRand1","SafeRand2","SafePathShuttlePic","SafePathOutPic","Risky1Rand1","Risky1Rand2","RiskyPath1ShuttlePic","RiskyPath1OutPic","Risky2Rand1","Risky2Rand2","RiskyPath2ShuttlePic","RiskyPath2OutPic","Prob1","Prob2","Shuttle1","Shuttle2","Shuttle1Word","Shuttle2Word","ShuttlePicWord","pathProbBoth","shuttlePreChoice","SafeOut","SafeVal","Risky1Out","Risky1Val","Risky2Out","Risky2Val","OutcomeVal1","OutcomeVal2","OutcomeVal3","OutcomePic1","OutcomePic2","OutcomePic3","LastStatePic1","LastStatePic2","LastStatePic3","statePlan","allowResp","timerOn","taskPathPicWord","likeP","cueScreen","shuttle","pathPicWord","playFix","playStateTwo","playStateThree","playOutcome","pathRoutePic2","pathRoutePic3","trialOutcomeValence","saveString","trialShuttleWord","trialShuttle","trialShuttlePos","trialShuttleProb","trialLastStatePic","trialOutcomePic","trialOutcomeVal","trialSafePath","trialRiskyPath1","trialRiskyPath2","trialSafeProb","trialRiskyProb1","trialRiskyProb2","trialSafeValue","trialRiskyValue1","trialRiskyValue2","trialSafePathEV","trialRiskyPathEV1","trialRiskyPathEV2","trialGambleEV","trialChoiceEV","trialPlan","trialPlanRT","trialPlanChoice","trialPlanChoiceWords","trialPlanPathChosen","trialPlanCor","trialPathProb","trialGambleChoice","trialPathProbChosen","trialPath","trialPathPicWord","trialPathIndx","trialOutcomePicWord","trialOutcomeIndx","trialOutcomeMag","trialOutcomeValue","trialOptimalChoice","trialCoins","fetch","method","headers","Accept","JSON","stringify","endBlock","passMission","calBonus","bonus","saveBonus","taskCoins","taskBonus","history","push","pathname","componentWillUnmount","callback","tutForcedPaths","tutSafePathOutcome","tutRiskyPathOutcome1","tutRiskyPathOutcome2","tutSafePathProb","tutRiskyPathProb1","tutRiskyPathProb2","tutOptChoice","tutOutcomeStruct","tutForceChoice","tutPlanChoice","tutShowPath","render","coin","spaceshipSmall","spacebg","astro3","textblock"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { DATABASE_URL } from \"./config\";\n\nimport { CountdownCircleTimer } from \"react-countdown-circle-timer\";\n\nimport styles from \"./style/taskStyle.module.css\";\n\n/////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// GLOBAL FUNCTIONS\n\nconst renderTime = ({ remainingTime }) => {\n  if (remainingTime === 0) {\n    return <div className={styles.timer}>Too late!</div>;\n  }\n\n  return (\n    <div className={styles.timer}>\n      <span className={styles.timerValue}>{20 - remainingTime}</span>\n      <span className={styles.timerText}>sec</span>\n    </div>\n  );\n};\n\nfunction shuffle(array) {\n  var currentIndex = array.length,\n    temporaryValue,\n    randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\nfunction getOutPos1() {\n  var num = Math.random();\n  if (num < 0.33) return 1;\n  //probability 0.3\n  else return 0; //probability 0.1\n}\n\nfunction getOutPos2() {\n  var num = Math.random();\n  if (num < 0.5) return 1;\n  //probability 0.5\n  else return 2; //probability 0.5\n}\n\nfunction getRandomInt(min, max) {\n  const minimum = Math.ceil(min);\n  const maximum = Math.floor(max);\n\n  return Math.floor(Math.random() * (maximum - minimum + 1)) + minimum;\n}\n\nfunction pathToGo(probability) {\n  var num = Math.random();\n  if (num < probability) return 1;\n  else return 0;\n}\n\nfunction arraysEqual(a, b) {\n  a = Array.isArray(a) ? a : [];\n  b = Array.isArray(b) ? b : [];\n  return a.length === b.length && a.every((el, ix) => el === b[ix]);\n}\n\nfunction inArray(needle, haystack) {\n  var count = haystack.length;\n  for (var i = 0; i < count; i++) {\n    if (haystack[i] === needle) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction roundTo(n, digits) {\n  if (digits === undefined) {\n    digits = 0;\n  }\n\n  var multiplicator = Math.pow(10, digits);\n  n = parseFloat((n * multiplicator).toFixed(11));\n  var test = Math.round(n) / multiplicator;\n  return +test.toFixed(digits);\n}\n//////////////////////////////////////////////////////////////////////////////\n\nvar shuttleIndex = [0, 1]; //0 - safe, 1 - risky\nvar cueOutPosIndx = [0, 1, 2]; //0-- top, 1 - middle, 2 - bottom\nvar cueShutPosIndx = [0, 1]; //0 - left, 1 - right\nvar paths = [1, 2, 3];\n\nvar forcedPaths = [1, 2, 3];\nshuffle(forcedPaths);\n\nvar trialBlockTotal = 6; //the full length is 6\nvar trialForced = 3;\nvar trialFree = 14;\nvar trialForcedTotal = trialForced * trialBlockTotal;\nvar trialFreeTotal = trialFree * trialBlockTotal;\nvar trialTotal = trialFreeTotal + trialForcedTotal;\n\nvar trialInBlock = trialTotal / trialBlockTotal;\n\n/////////////////////////////////////////////////////////////////////////////////\n/////////////////////////////////////////////////////////////////////////////////\n// REACT COMPONENT START\nclass ExptTask extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const userID = this.props.location.state.userID;\n    const date = this.props.location.state.date;\n    const startTime = this.props.location.state.startTime;\n\n    const shuttlePic = this.props.location.state.shuttlePic;\n    const shuttleWord = this.props.location.state.shuttleWord;\n    const img_fix = this.props.location.state.img_fix;\n    const img_astrodude1 = this.props.location.state.img_astrodude1;\n    const img_astrodude2 = this.props.location.state.img_astrodude2;\n    const img_astrodude3 = this.props.location.state.img_astrodude3;\n    const img_counter = this.props.location.state.img_counter;\n    const img_coinSmall = this.props.location.state.img_coinSmall;\n    const img_coin = this.props.location.state.img_coin;\n    const img_pathInstruct1 = this.props.location.state.img_pathInstruct1;\n    const stateHolder = this.props.location.state.stateHolder;\n\n    const statePic = this.props.location.state.statePic;\n    const stateWord = this.props.location.state.stateWord;\n\n    const outcomePic = this.props.location.state.outcomePic;\n    const outcomeWord = this.props.location.state.outcomeWord;\n    const outcomeVal = this.props.location.state.outcomeVal;\n    const outcomeIndx = this.props.location.state.outcomeIndx;\n\n    const stateIndx = this.props.location.state.stateIndx; //[0, 1, 2, 3, 4, 5, 6, 7, 8];\n\n    const pathOne = this.props.location.state.pathOne; //[0, 1, 2];\n    const pathTwo = this.props.location.state.pathTwo; //[3, 4, 5];\n    const pathThree = this.props.location.state.pathThree; //[6, 7, 8];\n\n    var currentDate = new Date(); // maybe change to local\n    var timeString = currentDate.toTimeString();\n\n    /////////////////////////////////////////////////////////////////////////////////\n    // SET COMPONENT STATES\n    this.state = {\n      userID: userID,\n      date: date,\n      startTime: startTime,\n      taskSessionTry: 1,\n      taskSession: \"ExptTask\",\n      instructScreenText: 1,\n      sectionTime: timeString,\n\n      img_fix: img_fix,\n      img_astrodude1: img_astrodude1,\n      img_astrodude2: img_astrodude2,\n      img_astrodude3: img_astrodude3,\n      img_counter: img_counter,\n      img_coinSmall: img_coinSmall,\n      img_coin: img_coin,\n      img_pathInstruct1: img_pathInstruct1,\n\n      instructScreen: true,\n      taskScreen: false,\n\n      trialTotal: trialTotal,\n      trialForced: trialForced, //3 of the trials are forced choice\n      trialBlock: 1,\n      trialBlockTotal: trialBlockTotal,\n      trialNum: 0,\n      trialNumInBlock: 0,\n      trialInBlock: trialInBlock,\n      trialTime: 0,\n      trialRT: 0,\n      trialKeypress: 0,\n      trialScore: 0,\n\n      shuttleChoice: 0, //1 or 2\n      shuttleWord: shuttleWord,\n      shuttlePic: shuttlePic,\n      stateWord: stateWord,\n      statePic: statePic,\n      stateIndx: stateIndx,\n      stateNum: \"\",\n      stateShown: null,\n      stateDur: 2000,\n      outcomeDur: 2000,\n      respWaitDur: 3000,\n      fixDur: 250,\n      stateHolder: stateHolder,\n\n      outcomePic: outcomePic,\n      outcomeWord: outcomeWord,\n      outcomeVal: outcomeVal,\n      outcomeIndx: outcomeIndx,\n\n      coins: 0, //this is basically trialScore but long running tally..\n\n      choice1Fade: styles.shuttleChoice,\n      choice2Fade: styles.shuttleChoice,\n\n      playCueScreen: false,\n      playPlanScreen: false,\n      // playTransScreen: false,\n      playPathFull: false,\n      playPathShort: false,\n      playPathOutcomeShort: false,\n      pathProb: 0,\n      keyChoice: 0, //press left or right\n\n      shuttleIndex: shuttleIndex,\n      cueOutPosIndx: cueOutPosIndx,\n      cueShutPosIndx: cueShutPosIndx,\n      paths: paths,\n      pathOne: pathOne,\n      pathTwo: pathTwo,\n      pathThree: pathThree,\n      pathRoute: [],\n      forcedPaths: forcedPaths,\n\n      taskOutcomeValue: null,\n      taskForcedChoiceText1: [],\n      taskForcedChoiceText2: [],\n\n      timerCountDur: 20,\n      timerKey: 0,\n\n      StructToRender: \"\",\n\n      debug: false,\n      jitter: [1200, 1300, 1400, 1500, 1600, 1700],\n    };\n\n    this.handleInstructLocal = this.handleInstructLocal.bind(this);\n    this.handleDebugKeyLocal = this.handleDebugKeyLocal.bind(this);\n    this.handleNextTrial = this.handleNextTrial.bind(this);\n    this.taskStart = this.taskStart.bind(this);\n    this.planStart = this.planStart.bind(this);\n    this.pathStart = this.pathStart.bind(this);\n    this.pathShortStart = this.pathShortStart.bind(this);\n    this.planCheck = this.planCheck.bind(this);\n    this.taskCheck = this.taskCheck.bind(this);\n\n    /* prevents page from going down when space bar is hit .*/\n    window.addEventListener(\"keydown\", function (e) {\n      if (e.keyCode === 32 && e.target === document.body) {\n        e.preventDefault();\n      }\n    });\n  }\n  /////////////////////////////////////////////////////////////////////////////////\n  // END COMPONENT STATE\n\n  componentDidMount = () => {\n    window.scrollTo(0, 0);\n\n    // Variables for tutorial\n    //taskStruct 0-2: values, 3-5: probability, 6-8: EVs, 9: risky EV, 10: safe - risky EV, 11: optimal answer (1:safe, 2: risky)\n    // 12 -outcome structure, 13 - forced choice?, 14 - planning trial, 15 - play long path?\n\n    var randNum = \"struct_\" + getRandomInt(1, 5);\n    var StructToRender = require(\"./taskStruct/\" + randNum + \".json\");\n\n    var taskSafePathOutcome = StructToRender[0];\n    var taskRiskyPathOutcome1 = StructToRender[1];\n    var taskRiskyPathOutcome2 = StructToRender[2];\n\n    var taskSafePathProb = StructToRender[3];\n    var taskRiskyPathProb1 = StructToRender[4];\n    var taskRiskyPathProb2 = StructToRender[5];\n\n    var taskSafePathEV = StructToRender[6];\n    var taskRiskyPathEV1 = StructToRender[7];\n    var taskRiskyPathEV2 = StructToRender[8];\n\n    var taskGambleEV = StructToRender[9]; //Risky EV1+EV2\n    var taskChoiceEV = StructToRender[10]; //SafeEV - (RiskyEV1+EV2)\n\n    var taskOptChoice = StructToRender[11];\n    var taskOutcomeStruct = StructToRender[12];\n    var taskForceChoice = StructToRender[13];\n    var taskPlanChoice = StructToRender[14];\n    var taskShowPath = StructToRender[15];\n\n    this.setState({\n      structNum: randNum,\n      StructToRender: StructToRender,\n      taskSafePathOutcome: taskSafePathOutcome,\n      taskRiskyPathOutcome1: taskRiskyPathOutcome1,\n      taskRiskyPathOutcome2: taskRiskyPathOutcome2,\n\n      taskSafePathProb: taskSafePathProb,\n      taskRiskyPathProb1: taskRiskyPathProb1,\n      taskRiskyPathProb2: taskRiskyPathProb2,\n\n      taskSafePathEV: taskSafePathEV,\n      taskRiskyPathEV1: taskRiskyPathEV1,\n      taskRiskyPathEV2: taskRiskyPathEV2,\n\n      taskGambleEV: taskGambleEV, //Risky EV1+EV2\n      taskChoiceEV: taskChoiceEV, //SafeEV - (RiskyEV1+EV2)\n      taskOutcomeStruct: taskOutcomeStruct,\n      taskOptChoice: taskOptChoice,\n      taskForceChoice: taskForceChoice,\n      taskPlanChoice: taskPlanChoice,\n      taskShowPath: taskShowPath,\n    });\n\n    //send the outcomeTask conditions?\n    setTimeout(\n      function () {\n        this.condSave();\n      }.bind(this),\n      0\n    );\n\n    setTimeout(\n      function () {\n        this.setState({\n          mounted: 1,\n        });\n      }.bind(this),\n      5000\n    );\n  };\n\n  handleInstructLocal(key_pressed) {\n    var curText = this.state.instructScreenText;\n    var whichButton = key_pressed;\n\n    if (whichButton === 4 && curText > 1 && curText <= 4) {\n      this.setState({ instructScreenText: curText - 1 });\n    } else if (whichButton === 5 && curText < 4) {\n      this.setState({ instructScreenText: curText + 1 });\n    } else if (curText === 4 && whichButton === 10) {\n      //start task\n      setTimeout(\n        function () {\n          this.missionThree();\n        }.bind(this),\n        0\n      );\n    } else if (curText === 5 && whichButton === 10) {\n      //into rest block\n      setTimeout(\n        function () {\n          this.nextBlock();\n        }.bind(this),\n        0\n      );\n    } else if (curText === 6 && whichButton === 10) {\n      //into rest block\n      setTimeout(\n        function () {\n          this.nextMission();\n        }.bind(this),\n        0\n      );\n    }\n  }\n\n  // handle key key_pressed\n  _handleInstructKey = (event) => {\n    var key_pressed;\n\n    switch (event.keyCode) {\n      case 37:\n        //    this is left arrow\n        key_pressed = 4;\n        this.handleInstructLocal(key_pressed);\n        break;\n      case 39:\n        //    this is right arrow\n        key_pressed = 5;\n        this.handleInstructLocal(key_pressed);\n        break;\n      case 32:\n        //    this is SPACEBAR\n        key_pressed = 10;\n        this.handleInstructLocal(key_pressed);\n        break;\n      default:\n    }\n  };\n\n  handleDebugKeyLocal(pressed) {\n    var whichButton = pressed;\n\n    if (whichButton === 10) {\n      setTimeout(\n        function () {\n          this.nextMission();\n        }.bind(this),\n        0\n      );\n    }\n  }\n\n  _handleDebugKey = (event) => {\n    var pressed;\n\n    switch (event.keyCode) {\n      case 32:\n        //    this is SPACEBAR\n        pressed = 10;\n        this.handleDebugKeyLocal(pressed);\n        break;\n      default:\n    }\n  };\n\n  _handleTaskKey = (event) => {\n    var pressed;\n    var time_pressed;\n\n    switch (event.keyCode) {\n      case 37:\n        //    this is left arrow\n        pressed = 1;\n        time_pressed = Math.round(performance.now());\n        this.taskCheck(pressed, time_pressed);\n        break;\n      case 39:\n        //    this is right arrow\n        pressed = 2;\n        time_pressed = Math.round(performance.now());\n        this.taskCheck(pressed, time_pressed);\n        break;\n      default:\n    }\n  };\n\n  _handlePlanKey = (event) => {\n    var pressed;\n    var time_pressed;\n\n    switch (event.keyCode) {\n      case 49:\n        //    this is num 1\n        pressed = 1;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 50:\n        //     this is num 2\n        pressed = 2;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 51:\n        //    this is num 1\n        pressed = 3;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 52:\n        //     this is num 2\n        pressed = 4;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 53:\n        //    this is num 1\n        pressed = 5;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 54:\n        //     this is num 2\n        pressed = 6;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n\n      case 97:\n        pressed = 1;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 98:\n        pressed = 2;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 99:\n        pressed = 3;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 100:\n        pressed = 4;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 101:\n        pressed = 5;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      case 102:\n        pressed = 6;\n        time_pressed = Math.round(performance.now());\n        this.planCheck(pressed, time_pressed);\n        break;\n      default:\n    }\n  };\n\n  _handleNextTrialKey = (event) => {\n    var pressed;\n    var time_pressed;\n\n    switch (event.keyCode) {\n      case 32:\n        //    this is SPACEBAR\n        pressed = 10;\n        time_pressed = Math.round(performance.now());\n        this.handleNextTrial(pressed, time_pressed);\n        break;\n      default:\n    }\n  };\n\n  // function to play choice feedback, and then go play path\n  taskCheck(pressed, time_pressed) {\n    var trialRT = time_pressed - this.state.trialTime;\n    var keyChoice = pressed;\n    var choice1Fade = this.state.choice1Fade;\n    var choice2Fade = this.state.choice2Fade;\n    var trialNum = this.state.trialNum;\n    var pathRoute = this.state.pathRoute;\n    var pathProb;\n    var pathTrans;\n    var outcome;\n    var pathIndx;\n    var ShuttlePos = this.state.ShuttlePos; //[0,1] means safe/risky vs [0,1] means risky, safe\n    var pathProbEnd;\n\n    // if choose left\n    if (keyChoice === 1) {\n      choice1Fade = styles.shuttleChoice;\n      choice2Fade = styles.shuttleChoiceFade;\n      if (ShuttlePos[0] === 0) {\n        //I choose the safe choice\n        pathRoute = this.state.SafePath;\n        outcome = this.state.taskSafePathOutcome[trialNum - 1];\n        pathIndx = 1;\n        pathProb = 1;\n        pathProbEnd = 1;\n        pathTrans = null;\n      } else if (ShuttlePos[0] === 1) {\n        //I choose the risky choice\n        //Then Let's roll on the probability\n        pathProb = this.state.taskRiskyPathProb2[trialNum - 1]; //this is the smaller prob\n        pathTrans = pathToGo(pathProb); // 0 (Risk1) or 1 (Risk2)\n        pathIndx = 2;\n\n        if (pathTrans === 0) {\n          pathRoute = this.state.RiskyPath1;\n          outcome = this.state.taskRiskyPathOutcome1[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb1[trialNum - 1];\n        } else if (pathTrans === 1) {\n          pathRoute = this.state.RiskyPath2;\n          outcome = this.state.taskRiskyPathOutcome2[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb2[trialNum - 1];\n        } else {\n          pathRoute = \"error\";\n          outcome = \"error\";\n          pathProbEnd = \"error\";\n        }\n      }\n\n      //if choose right\n    } else if (keyChoice === 2) {\n      choice1Fade = styles.shuttleChoiceFade;\n      choice2Fade = styles.shuttleChoice;\n      if (ShuttlePos[1] === 0) {\n        //I choose the safe choice\n        pathRoute = this.state.SafePath;\n        outcome = this.state.taskSafePathOutcome[trialNum - 1];\n        pathIndx = 1;\n        pathProb = 1;\n        pathProbEnd = 1;\n        pathTrans = null;\n      } else if (ShuttlePos[1] === 1) {\n        //I choose the risky choice\n        //Then Let's roll on the probability\n        pathProb = this.state.taskRiskyPathProb2[trialNum - 1]; //this is the smaller prob\n        pathTrans = pathToGo(pathProb); // 0 (Risk1) or 1 (Risk2)\n        pathIndx = 2;\n        if (pathTrans === 0) {\n          pathRoute = this.state.RiskyPath1;\n          outcome = this.state.taskRiskyPathOutcome1[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb1[trialNum - 1];\n        } else if (pathTrans === 1) {\n          pathRoute = this.state.RiskyPath2;\n          outcome = this.state.taskRiskyPathOutcome2[trialNum - 1];\n          pathProbEnd = this.state.taskRiskyPathProb2[trialNum - 1];\n        } else {\n          pathRoute = \"error\";\n          outcome = \"error\";\n          pathProbEnd = \"error\";\n        }\n      }\n    } else {\n      //if neither left or right, then nothing happens\n      console.log(\"Choice not made.\");\n    }\n\n    if (\n      (this.state.trialNumInBlock <= this.state.trialForced &&\n        pathIndx !== this.state.taskForceChoice[trialNum - 1]) ||\n      outcome === null\n    ) {\n      //if the trial the forced, keyChoice has to be the same as the dictated asnwer, else it wil not move on\n    } else {\n      // free choice trials\n\n      this.setState({\n        trialRT: trialRT,\n        keyChoice: keyChoice,\n        choice1Fade: choice1Fade,\n        choice2Fade: choice2Fade,\n        pathProb: pathProb,\n        pathRoute: pathRoute,\n        outcome: outcome,\n        pathIndx: pathIndx,\n        pathProbEnd: pathProbEnd,\n      });\n\n      if (this.state.taskPlanChoice[trialNum - 1] === 1) {\n        //if it is a planning choice trial, then go to the planning screen\n        var planTime = Math.round(performance.now()) + 500;\n\n        this.setState({\n          planTime: planTime,\n        });\n\n        setTimeout(\n          function () {\n            this.selectPlanStates();\n          }.bind(this),\n          500\n        );\n      } else {\n        // setTimeout(\n        //   function () {\n        //     this.transShip();\n        //   }.bind(this),\n        //   500\n        // );\n\n        if (this.state.taskShowPath[this.state.trialNum - 1] === 1) {\n          setTimeout(\n            function () {\n              this.playStateOne();\n            }.bind(this),\n            500\n          );\n        } else if (this.state.taskShowPath[this.state.trialNum - 1] === 0) {\n          //if dont show the route, go to a jitter fixation\n          setTimeout(\n            function () {\n              this.jitterFix();\n            }.bind(this),\n            500\n          );\n        }\n      }\n    }\n  }\n\n  selectPlanStates() {\n    //if choose safe option, then state shown is 100% path and a random other path\n    //if choose risky option, then state shown is between the risky paths\n    var path1;\n    var path2;\n\n    if (this.state.pathIndx === 1) {\n      var rand = getRandomInt(1, 2);\n      //safe choice\n      if (rand === 1) {\n        path1 = this.state.SafePath;\n        path2 = this.state.RiskyPath1;\n      } else {\n        path1 = this.state.SafePath;\n        path2 = this.state.RiskyPath2;\n      }\n    } else if (this.state.pathIndx === 2) {\n      path1 = this.state.RiskyPath1;\n      path2 = this.state.RiskyPath2;\n    }\n\n    var bothPath = shuffle(path1.concat(path2));\n\n    this.setState({\n      playCueScreen: false,\n      playPlanScreen: true,\n      // playTransScreen: false,\n      playPathFull: false,\n      playPathShort: false,\n      playPathOutcomeShort: false,\n      bothPath: bothPath, //[0,2,8,1,6,7]\n      statePlan1: this.state.statePic[bothPath[0]],\n      statePlan2: this.state.statePic[bothPath[1]],\n      statePlan3: this.state.statePic[bothPath[2]],\n      statePlan4: this.state.statePic[bothPath[3]],\n      statePlan5: this.state.statePic[bothPath[4]],\n      statePlan6: this.state.statePic[bothPath[5]],\n    });\n  }\n\n  planCheck(pressed, time_pressed) {\n    var trialRT = time_pressed - this.state.planTime;\n    var keyChoice = pressed;\n    var keyChoiceAll = this.state.keyChoiceAll; //havent made this array yet\n\n    // console.log(\"keyChoice: \" + keyChoice);\n    // console.log(\"keyChoiceAll: \" + keyChoiceAll);\n\n    if (inArray(keyChoice, keyChoiceAll)) {\n      // if the key choice has already been chosen before, do nothing\n    } else {\n      var planCurrentChoice = this.state.planCurrentChoice + 1;\n      var statePlan1Style = this.state.statePlan1Style;\n      var statePlan2Style = this.state.statePlan2Style;\n      var statePlan3Style = this.state.statePlan3Style;\n      var statePlan4Style = this.state.statePlan4Style;\n      var statePlan5Style = this.state.statePlan5Style;\n      var statePlan6Style = this.state.statePlan6Style;\n      var planChoices = this.state.planChoices;\n      var planChoicesWords = this.state.planChoicesWords;\n      var planRT = this.state.planRT;\n      var coins = this.state.coins;\n\n      keyChoiceAll[planCurrentChoice - 2] = keyChoice;\n\n      if (keyChoice === 1) {\n        statePlan1Style = styles.statePlanChosen;\n      } else if (keyChoice === 2) {\n        statePlan2Style = styles.statePlanChosen;\n      } else if (keyChoice === 3) {\n        statePlan3Style = styles.statePlanChosen;\n      } else if (keyChoice === 4) {\n        statePlan4Style = styles.statePlanChosen;\n      } else if (keyChoice === 5) {\n        statePlan5Style = styles.statePlanChosen;\n      } else if (keyChoice === 6) {\n        statePlan6Style = styles.statePlanChosen;\n      }\n\n      planChoices[planCurrentChoice - 2] = this.state.bothPath[keyChoice - 1];\n      planChoicesWords[planCurrentChoice - 2] = this.state.stateWord[\n        this.state.bothPath[keyChoice - 1]\n      ];\n      planRT[planCurrentChoice - 2] = trialRT;\n\n      var planTime = Math.round(performance.now());\n\n      this.setState({\n        playCueScreen: false,\n        playPlanScreen: true,\n        // playTransScreen: false,\n        playPathFull: false,\n        playPathShort: false,\n        playPathOutcomeShort: false,\n        statePlan1Style: statePlan1Style,\n        statePlan2Style: statePlan2Style,\n        statePlan3Style: statePlan3Style,\n        statePlan4Style: statePlan4Style,\n        statePlan5Style: statePlan5Style,\n        statePlan6Style: statePlan6Style,\n        planCurrentChoice: planCurrentChoice,\n        planChoices: planChoices,\n        planChoicesWords: planChoicesWords,\n        planRT: planRT,\n        planTime: planTime,\n        keyChoiceAll: keyChoiceAll,\n      });\n\n      //finish choosing 3 choices\n      if (planCurrentChoice === 4) {\n        // check if correct?\n        // the order has to be right!\n        var samePathOne = arraysEqual(planChoices, this.state.pathOne);\n        var samePathTwo = arraysEqual(planChoices, this.state.pathTwo);\n        var samePathThree = arraysEqual(planChoices, this.state.pathThree);\n\n        if (\n          samePathOne === true ||\n          samePathTwo === true ||\n          samePathThree === true\n        ) {\n          // if correct, which path did they think they were gonna go?\n          var planPathChosen;\n\n          if (arraysEqual(planChoices, this.state.SafePath)) {\n            planPathChosen = this.state.taskSafePathProb[\n              this.state.trialNum - 1\n            ];\n          } else if (arraysEqual(planChoices, this.state.RiskyPath1)) {\n            planPathChosen = this.state.taskRiskyPathProb1[\n              this.state.trialNum - 1\n            ];\n          } else if (arraysEqual(planChoices, this.state.RiskyPath2)) {\n            planPathChosen = this.state.taskRiskyPathProb2[\n              this.state.trialNum - 1\n            ];\n          }\n\n          this.setState({\n            planCor: 1,\n            planFeedback: \"Correct order! No coins lost!\",\n            coins: coins,\n            planPathChosen: planPathChosen,\n            planCurrentChoice: 3, //keep the number on screen\n          });\n        } else {\n          coins = coins - 1;\n          this.setState({\n            planCor: 0,\n            planFeedback: \"No such order! You lose 1 coin!\",\n            coins: coins,\n            planPathChosen: null, //failed to choose correct path\n            planCurrentChoice: 3,\n          });\n        }\n\n        if (this.state.taskShowPath[this.state.trialNum - 1] === 1) {\n          setTimeout(\n            function () {\n              this.playStateOne();\n            }.bind(this),\n            1000\n          );\n        } else if (this.state.taskShowPath[this.state.trialNum - 1] === 0) {\n          //if dont show the route, go to a jitter fixation\n          setTimeout(\n            function () {\n              this.jitterFix();\n            }.bind(this),\n            1000\n          );\n        }\n      }\n    }\n  }\n\n  planStart() {\n    let text = (\n      <div className={styles.main}>\n        <div className={styles.counter}>\n          <img\n            className={styles.counter}\n            src={this.state.img_counter}\n            alt=\"counter\"\n          />\n          {this.state.trialNum}/{this.state.trialTotal}\n        </div>\n        <div className={styles.coins}>\n          <img\n            className={styles.counter}\n            src={this.state.img_coin}\n            alt=\"coin\"\n          />\n          {this.state.coins}\n        </div>\n        <p>\n          <span className={styles.centerTwo}>\n            Choose the room images of the spaceship{\" \"}\n            <strong>you believe you will end up in</strong> in order.\n          </span>\n          <br />\n\n          <span className={styles.centerThree}>\n            Which is <strong>Room {this.state.planCurrentChoice}</strong>?\n          </span>\n          <br />\n          <span className={styles.centerTwo}>\n            1 -{\" \"}\n            <img\n              className={this.state.statePlan1Style}\n              src={this.state.statePlan1}\n              alt=\"state1\"\n            />\n            &nbsp; &nbsp; 2 -{\" \"}\n            <img\n              className={this.state.statePlan2Style}\n              src={this.state.statePlan2}\n              alt=\"state2\"\n            />\n            &nbsp; &nbsp; 3 -{\" \"}\n            <img\n              className={this.state.statePlan3Style}\n              src={this.state.statePlan3}\n              alt=\"state3\"\n            />\n            <br />\n            <br />4 -{\" \"}\n            <img\n              className={this.state.statePlan4Style}\n              src={this.state.statePlan4}\n              alt=\"state4\"\n            />\n            &nbsp; &nbsp; 5 -{\" \"}\n            <img\n              className={this.state.statePlan5Style}\n              src={this.state.statePlan5}\n              alt=\"state5\"\n            />\n            &nbsp; &nbsp; 6 -{\" \"}\n            <img\n              className={this.state.statePlan6Style}\n              src={this.state.statePlan6}\n              alt=\"state6\"\n            />\n          </span>\n          <br />\n          <span className={styles.centerTwo}>{this.state.planFeedback}</span>\n        </p>\n      </div>\n    );\n\n    return <div>{text}</div>;\n  }\n\n  jitterFix() {\n    if (this.state.pathRoute !== null) {\n      document.removeEventListener(\"keyup\", this._handleTaskKey);\n      var pathRoutePic1 = this.state.pathRoute[0]; //[0,1,2] or [3,4,5] or [6,7,8]\n      var pathNum;\n      var whichShip;\n\n      if (pathRoutePic1 === 0) {\n        pathNum = 1;\n        whichShip = \"A\";\n      } else if (pathRoutePic1 === 3) {\n        pathNum = 2;\n        whichShip = \"B\";\n      } else if (pathRoutePic1 === 6) {\n        pathNum = 3;\n        whichShip = \"C\";\n      }\n\n      this.setState({\n        // playTransScreen: false,\n        playCueScreen: false,\n        playPlanScreen: false,\n        playPathShort: true,\n        playPathFull: false,\n\n        playPathOutcomeShort: false,\n        stateNum: \" \",\n\n        pathNum: pathNum,\n        whichShip: whichShip,\n        stateShown: this.state.img_fix,\n        outcomeValue: null,\n        taskOutcome1: [],\n        taskOutcome2: [],\n        taskOutcome3: [],\n        taskOutcomeValue: null,\n      });\n\n      var jitterPos = this.state.jitter;\n      var jitterTime = jitterPos[Math.floor(Math.random() * jitterPos.length)]; //random jitter time\n\n      setTimeout(\n        function () {\n          this.playOutcomeShort();\n        }.bind(this),\n        jitterTime\n      );\n    } else {\n      setTimeout(\n        function () {\n          this.lateResponse();\n        }.bind(this),\n        1\n      );\n    }\n  }\n\n  playOutcomeShort() {\n    document.addEventListener(\"keyup\", this._handleNextTrialKey);\n    var outcome = this.state.outcome;\n    var coins = this.state.coins + outcome;\n    var taskOutcomeValue = this.state.taskOutcomeValue;\n    var outcomeWord;\n    var outcomeIndx;\n    var outcomeValue;\n\n    if (outcome > 0) {\n      outcomeIndx = 0;\n      outcomeWord = this.state.outcomeWord[0];\n      outcomeValue = outcome / this.state.outcomeVal[0];\n      taskOutcomeValue = outcomeValue;\n    } else if (outcome < 0) {\n      outcomeIndx = 1;\n      outcomeWord = this.state.outcomeWord[1];\n      outcomeValue = outcome / this.state.outcomeVal[1];\n      taskOutcomeValue = outcomeValue;\n    } else if (outcome === 0) {\n      outcomeIndx = 2;\n      outcomeWord = this.state.outcomeWord[2];\n      outcomeValue = this.state.neuVal;\n      taskOutcomeValue = outcome;\n    }\n\n    this.setState({\n      playPathOutcomeShort: true,\n      playPathShort: false,\n      stateNum: \"You receive:\",\n      outcomeValue: outcomeValue,\n      taskOutcome1: [],\n      taskOutcomeValue: taskOutcomeValue, // this is what is displayed...\n      taskOutcome2: [],\n      coins: coins,\n      taskOutcomeWord: outcomeWord,\n      taskOutcomeIndx: outcomeIndx,\n      taskOutcome3: \"[Press the SPACEBAR to continue to the next journey]\",\n    });\n\n    setTimeout(\n      function () {\n        this.taskSave();\n      }.bind(this),\n      0\n    );\n  }\n\n  //just the jitter!\n  pathShortStart() {\n    let text = (\n      <div className={styles.main}>\n        <div className={styles.counter}>\n          <img\n            className={styles.counter}\n            src={this.state.img_counter}\n            alt=\"counter\"\n          />\n          {this.state.trialNum}/{this.state.trialTotal}\n        </div>\n        <div className={styles.coins}>\n          <img\n            className={styles.counter}\n            src={this.state.img_coin}\n            alt=\"coin\"\n          />\n          {this.state.coins}\n        </div>\n        <p>\n          <span className={styles.center}>&nbsp;</span>\n          <span className={styles.centerTwo}>&nbsp;</span>\n          <br />\n          <span className={styles.centerThree}>\n            <img\n              className={styles.stateLarge}\n              src={this.state.stateShown}\n              alt=\"state\"\n            />\n          </span>\n          <span className={styles.centerThree}>\n            {this.state.taskOutcome1}\n            &nbsp;\n            {this.state.taskOutcome2}\n          </span>\n          <br />\n          <span className={styles.centerThree}>{this.state.taskOutcome3}</span>\n          <br />\n        </p>\n      </div>\n    );\n\n    return <div>{text}</div>;\n  }\n\n  pathShortOutcomeStart() {\n    let text = (\n      <div className={styles.main}>\n        <div className={styles.counter}>\n          <img\n            className={styles.counter}\n            src={this.state.img_counter}\n            alt=\"counter\"\n          />\n          {this.state.trialNum}/{this.state.trialTotal}\n        </div>\n        <div className={styles.coins}>\n          <img\n            className={styles.counter}\n            src={this.state.img_coin}\n            alt=\"coin\"\n          />\n          {this.state.coins}\n        </div>\n        <p>\n          <span className={styles.center}>\n            Spaceship {this.state.whichShip}\n          </span>\n          <span className={styles.centerTwo}>{this.state.stateNum}</span>\n          <br />\n          <br />\n          <br />\n          <br />\n          <br /> <br />\n          <br /> <br />\n          <span className={styles.centerThree}>\n            <span className={styles.outcomeValue}>\n              {this.state.outcome}\n              &nbsp;\n              <img\n                className={styles.stateSmall}\n                src={this.state.img_coin}\n                alt=\"state\"\n              />\n            </span>\n          </span>\n          <span className={styles.centerThree}>\n            {this.state.taskOutcome1}\n            &nbsp;\n            {this.state.taskOutcome2}\n          </span>\n          <br />\n          <span className={styles.centerThree}>{this.state.taskOutcome3}</span>\n          <br />\n        </p>\n      </div>\n    );\n\n    return <div>{text}</div>;\n  }\n\n  missionThree() {\n    var trialTime = Math.round(performance.now());\n\n    this.setState({\n      playCueScreen: false,\n      playPlanScreen: false,\n      // playTransScreen: false,\n      playPathFull: false,\n      playPathShort: false,\n      playPathOutcomeShort: false,\n      trialNum: 0,\n      trialNumInBlock: 0,\n      trialTime: trialTime,\n      trialRT: 0,\n      trialKeypress: 0,\n      trialScore: 0,\n    });\n\n    setTimeout(\n      function () {\n        this.setTrialVar();\n      }.bind(this),\n      0\n    );\n  }\n\n  missionCont() {\n    var trialTime = Math.round(performance.now());\n\n    this.setState({\n      instructScreen: false,\n      taskScreen: true,\n      playCueScreen: false,\n      playPlanScreen: false,\n      // playTransScreen: false,\n      playPathFull: false,\n      playPathShort: false,\n      playPathOutcomeShort: false,\n      trialTime: trialTime,\n    });\n\n    setTimeout(\n      function () {\n        this.setTrialVar();\n      }.bind(this),\n      0\n    );\n  }\n\n  setTrialVar() {\n    // disable the task key\n    document.removeEventListener(\"keyup\", this._handleTaskKey);\n    document.removeEventListener(\"keyup\", this._handleNextTrialKey);\n    // decide Left/Right position for shuttle option (I should save this later)\n    var trialTime = Math.round(performance.now());\n    var trialNum = this.state.trialNum + 1;\n    var trialNumInBlock = this.state.trialNumInBlock + 1;\n    var cueShutPosIndx = this.state.cueShutPosIndx; //0,1\n    shuffle(cueShutPosIndx);\n\n    // decide top/mid/bot position for outcome cues\n    var cueOutPosIndx = this.state.cueOutPosIndx; //0,1,2\n    shuffle(cueOutPosIndx);\n\n    var taskSafePathOutcome = this.state.taskSafePathOutcome[trialNum - 1];\n    var taskRiskyPathOutcome1 = this.state.taskRiskyPathOutcome1[trialNum - 1];\n    var taskRiskyPathOutcome2 = this.state.taskRiskyPathOutcome2[trialNum - 1];\n\n    var taskSafePathProb = this.state.taskSafePathProb[trialNum - 1];\n    var taskRiskyPathProb1 = this.state.taskRiskyPathProb1[trialNum - 1];\n    var taskRiskyPathProb2 = this.state.taskRiskyPathProb2[trialNum - 1];\n\n    var taskForcedChoiceText1 = this.state.taskForcedChoiceText1;\n    var taskForcedChoiceText2 = this.state.taskForcedChoiceText2;\n\n    // var taskOptChoice = this.state.taskOptChoice[trialNum - 1];\n    var taskForceChoice = this.state.taskForceChoice[trialNum - 1];\n\n    var SafePath;\n    var RiskyPath1;\n    var RiskyPath2;\n\n    var paths = this.state.paths; //1,2,3\n    shuffle(paths);\n\n    //  var bool = trialNumInBlock <= this.state.trialForced;\n    // console.log(\"Still Forced Choice? \" + bool);\n    // console.log(\"trialNumInBlock \" + trialNumInBlock);\n    // console.log(\"trialForced \" + this.state.trialForced);\n\n    if (trialNumInBlock <= this.state.trialForced) {\n      //if it is a forced choice then the safe path will play each of the paths twice\n      // console.log(\"Forced Choice\");\n      var forcedPath = this.state.forcedPaths[trialNumInBlock - 1];\n\n      if (forcedPath === 1) {\n        SafePath = this.state.pathOne;\n        RiskyPath1 = this.state.pathTwo;\n        RiskyPath2 = this.state.pathThree;\n      } else if (forcedPath === 2) {\n        SafePath = this.state.pathTwo;\n        RiskyPath1 = this.state.pathOne;\n        RiskyPath2 = this.state.pathThree;\n      } else if (forcedPath === 3) {\n        SafePath = this.state.pathThree;\n        RiskyPath1 = this.state.pathTwo;\n        RiskyPath2 = this.state.pathOne;\n      }\n    } else if (trialNumInBlock > this.state.trialForced) {\n      // shuffle the paths - this is random when not a forced choice\n      // decide which paths are which options\n      // console.log(\"Free Choice\");\n      if ((paths[0] === 1) & (paths[1] === 2) & (paths[2] === 3)) {\n        //this means safe is spaceship 1, risky 1 is spaceship 2 and risky 2 is spaceship 3\n        SafePath = this.state.pathOne;\n        RiskyPath1 = this.state.pathTwo;\n        RiskyPath2 = this.state.pathThree;\n      } else if ((paths[0] === 1) & (paths[1] === 3) & (paths[2] === 2)) {\n        SafePath = this.state.pathOne;\n        RiskyPath1 = this.state.pathThree;\n        RiskyPath2 = this.state.pathTwo;\n      } else if ((paths[0] === 2) & (paths[1] === 1) & (paths[2] === 3)) {\n        SafePath = this.state.pathTwo;\n        RiskyPath1 = this.state.pathOne;\n        RiskyPath2 = this.state.pathThree;\n      } else if ((paths[0] === 2) & (paths[1] === 3) & (paths[2] === 1)) {\n        SafePath = this.state.pathTwo;\n        RiskyPath1 = this.state.pathThree;\n        RiskyPath2 = this.state.pathOne;\n      } else if ((paths[0] === 3) & (paths[1] === 1) & (paths[2] === 2)) {\n        SafePath = this.state.pathThree;\n        RiskyPath1 = this.state.pathOne;\n        RiskyPath2 = this.state.pathTwo;\n      } else if ((paths[0] === 3) & (paths[1] === 2) & (paths[2] === 1)) {\n        SafePath = this.state.pathThree; //[6,7,8]\n        RiskyPath1 = this.state.pathTwo; //[3,4,5]\n        RiskyPath2 = this.state.pathOne; //[0,1,2]\n      }\n    }\n    //shuttle Pic is either first (0) or second (1) state, with 33% probability for the latter\n    var SafeRand1 = getOutPos1();\n    var SafeRand2;\n    if (SafeRand1 === 1) {\n      SafeRand2 = 2; //if it is the second state, then only the third state can be the outcome Pic\n    } else {\n      SafeRand2 = getOutPos2(); //if it is the first state, then second OR third state can be the outcome Pic\n    }\n\n    console.log(\"Trial No: \" + trialNum);\n    // console.log(\"Path: \" + paths);\n    // console.log(\"SafePath: \" + SafePath);\n    // console.log(\"RiskyPath1: \" + RiskyPath1);\n    // console.log(\"RiskyPath2: \" + RiskyPath2);\n    // console.log(\"Path: \" + paths);\n    // console.log(\"SafeRand1: \" + SafeRand1);\n    // console.log(\"SafeRand2: \" + SafeRand2);\n\n    // the shuttlePic can be the first or second state, while the path outcome can be the second or third state\n    var SafePathShuttlePic = SafePath[SafeRand1];\n    var SafePathOutPic = SafePath[SafeRand2];\n\n    var Risky1Rand1 = getOutPos1();\n    var Risky1Rand2;\n    if (Risky1Rand1 === 1) {\n      Risky1Rand2 = 2; //if it is the second state, then only the third state can be the outcome Pic\n    } else {\n      Risky1Rand2 = getOutPos2(); //if it is the first state, then second OR third state can be the outcome Pic\n    }\n\n    var RiskyPath1ShuttlePic = RiskyPath1[Risky1Rand1];\n    var RiskyPath1OutPic = RiskyPath1[Risky1Rand2];\n\n    var Risky2Rand1 = getOutPos1();\n    var Risky2Rand2;\n    if (Risky2Rand1 === 1) {\n      Risky2Rand2 = 2; //if it is the second state, then only the third state can be the outcome Pic\n    } else {\n      Risky2Rand2 = getOutPos2(); //if it is the first state, then second OR third state can be the outcome Pic\n    }\n\n    var RiskyPath2ShuttlePic = RiskyPath2[Risky2Rand1];\n    var RiskyPath2OutPic = RiskyPath2[Risky2Rand2];\n\n    // shuffle the shuttle option\n    var Prob1;\n    var Prob2;\n    var Shuttle1;\n    var Shuttle2;\n    var Shuttle1Word;\n    var Shuttle2Word;\n    var ShuttlePicWord;\n    var pathProbBoth;\n\n    var choice1Fade = styles.shuttlePreChoice;\n    var choice2Fade = styles.shuttlePreChoice;\n\n    if (cueShutPosIndx[0] === 0) {\n      //safe one is left choice\n      Prob1 = taskSafePathProb * 100 + \"%\";\n      Prob2 = taskRiskyPathProb1 * 100 + \"%/\" + taskRiskyPathProb2 * 100 + \"%\";\n      pathProbBoth = [Prob1, Prob2];\n      Shuttle1 = this.state.shuttlePic[0];\n      Shuttle2 = this.state.shuttlePic[1];\n      Shuttle1Word = this.state.stateWord[SafePathShuttlePic];\n      ShuttlePicWord = [this.state.shuttleWord[0], this.state.shuttleWord[1]];\n      Shuttle2Word =\n        this.state.stateWord[RiskyPath1ShuttlePic] +\n        \"/\" +\n        this.state.stateWord[RiskyPath2ShuttlePic];\n\n      // console.log(\"taskForceChoice: \" + taskForceChoice);\n\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        taskForcedChoiceText1 = \"Let us take the reliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the ← key]\";\n        // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoiceFade;\n      } else if (\n        trialNumInBlock <= this.state.trialForced &&\n        taskForceChoice === 2\n      ) {\n        taskForcedChoiceText1 = \"Let us take the unreliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the → key]\";\n        // choice1Fade = styles.shuttleChoiceFade;\n        // choice2Fade = styles.shuttleChoice;\n      } else {\n        taskForcedChoiceText1 = [];\n        taskForcedChoiceText2 = \"[Press the ← or → key to choose]\";\n        // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoice;\n      }\n    } else if (cueShutPosIndx[0] === 1) {\n      Prob1 = taskRiskyPathProb1 * 100 + \"%/\" + taskRiskyPathProb2 * 100 + \"%\";\n      Prob2 = taskSafePathProb * 100 + \"%\";\n      pathProbBoth = [Prob1, Prob2];\n      ShuttlePicWord = [this.state.shuttleWord[1], this.state.shuttleWord[0]];\n      Shuttle1 = this.state.shuttlePic[1];\n      Shuttle2 = this.state.shuttlePic[0];\n      Shuttle1Word =\n        this.state.stateWord[RiskyPath1ShuttlePic] +\n        \"/\" +\n        this.state.stateWord[RiskyPath2ShuttlePic];\n      Shuttle2Word = this.state.stateWord[SafePathShuttlePic];\n      //safe one is right choice\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        taskForcedChoiceText1 = \"Let us take the reliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the → key]\";\n        // choice1Fade = styles.shuttleChoiceFade;\n        // choice2Fade = styles.shuttleChoice;\n      } else if (\n        trialNumInBlock <= this.state.trialForced &&\n        taskForceChoice === 2\n      ) {\n        taskForcedChoiceText1 = \"Let us take the unreliable shuttle.\";\n        taskForcedChoiceText2 = \"[Press the ← key]\";\n        // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoiceFade;\n      } else {\n        taskForcedChoiceText1 = [];\n        taskForcedChoiceText2 = \"[Press the ← or → key to choose]\";\n        // choice1Fade = styles.shuttleChoice;\n        // choice2Fade = styles.shuttleChoice;\n      }\n    }\n\n    var neuVal = getRandomInt(1, 5);\n    var SafeOut;\n    var SafeVal;\n\n    if (taskSafePathOutcome > 0) {\n      SafeOut = this.state.outcomeWord[0];\n      SafeVal = taskSafePathOutcome / this.state.outcomeVal[0];\n    } else if (taskSafePathOutcome < 0) {\n      SafeOut = this.state.outcomeWord[1];\n      SafeVal = taskSafePathOutcome / this.state.outcomeVal[1];\n    } else if (taskSafePathOutcome === 0) {\n      //if this is neutral, then random a number\n      SafeOut = this.state.outcomeWord[2];\n      SafeVal = neuVal;\n    }\n\n    var Risky1Out;\n    var Risky1Val;\n    if (taskRiskyPathOutcome1 > 0) {\n      Risky1Out = this.state.outcomeWord[0];\n      Risky1Val = taskRiskyPathOutcome1 / this.state.outcomeVal[0];\n    } else if (taskRiskyPathOutcome1 < 0) {\n      Risky1Out = this.state.outcomeWord[1];\n      Risky1Val = taskRiskyPathOutcome1 / this.state.outcomeVal[1];\n    } else if (taskRiskyPathOutcome1 === 0) {\n      Risky1Out = this.state.outcomeWord[2];\n      Risky1Val = neuVal;\n    }\n\n    var Risky2Out;\n    var Risky2Val;\n    if (taskRiskyPathOutcome2 > 0) {\n      Risky2Out = this.state.outcomeWord[0];\n      Risky2Val = taskRiskyPathOutcome2 / this.state.outcomeVal[0];\n    } else if (taskRiskyPathOutcome2 < 0) {\n      Risky2Out = this.state.outcomeWord[1];\n      Risky2Val = taskRiskyPathOutcome2 / this.state.outcomeVal[1];\n    } else if (taskRiskyPathOutcome2 === 0) {\n      Risky2Out = this.state.outcomeWord[2];\n      Risky2Val = neuVal;\n    }\n\n    var OutcomeVal1;\n    var OutcomeVal2;\n    var OutcomeVal3;\n    var OutcomePic1;\n    var OutcomePic2;\n    var OutcomePic3;\n    var LastStatePic1;\n    var LastStatePic2;\n    var LastStatePic3;\n    // outcome cues\n    if (\n      (cueOutPosIndx[0] === 0) &\n      (cueOutPosIndx[1] === 1) &\n      (cueOutPosIndx[2] === 2)\n    ) {\n      //this means safe is spaceship 1, risky 1 is spaceship 2 and risky 2 is spaceship 3\n      LastStatePic1 = this.state.stateWord[SafePathOutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath2OutPic];\n      OutcomePic1 = SafeOut;\n      OutcomePic2 = Risky1Out;\n      OutcomePic3 = Risky2Out;\n      OutcomeVal1 = SafeVal;\n      OutcomeVal2 = Risky1Val;\n      OutcomeVal3 = Risky2Val;\n    } else if (\n      (cueOutPosIndx[0] === 0) &\n      (cueOutPosIndx[1] === 2) &\n      (cueOutPosIndx[2] === 1)\n    ) {\n      LastStatePic1 = this.state.stateWord[SafePathOutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath1OutPic];\n      OutcomePic1 = SafeOut;\n      OutcomePic2 = Risky2Out;\n      OutcomePic3 = Risky1Out;\n      OutcomeVal1 = SafeVal;\n      OutcomeVal2 = Risky2Val;\n      OutcomeVal3 = Risky1Val;\n    } else if (\n      (cueOutPosIndx[0] === 1) &\n      (cueOutPosIndx[1] === 0) &\n      (cueOutPosIndx[2] === 2)\n    ) {\n      LastStatePic1 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic2 = this.state.stateWord[SafePathOutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath2OutPic];\n      OutcomePic1 = Risky1Out;\n      OutcomePic2 = SafeOut;\n      OutcomePic3 = Risky2Out;\n      OutcomeVal1 = Risky1Val;\n      OutcomeVal2 = SafeVal;\n      OutcomeVal3 = Risky2Val;\n    } else if (\n      (cueOutPosIndx[0] === 1) &\n      (cueOutPosIndx[1] === 2) &\n      (cueOutPosIndx[2] === 0)\n    ) {\n      LastStatePic1 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic3 = this.state.stateWord[SafePathOutPic];\n      OutcomePic1 = Risky1Out;\n      OutcomePic2 = Risky2Out;\n      OutcomePic3 = SafeOut;\n      OutcomeVal1 = Risky1Val;\n      OutcomeVal2 = Risky2Val;\n      OutcomeVal3 = SafeVal;\n    } else if (\n      (cueOutPosIndx[0] === 2) &\n      (cueOutPosIndx[1] === 0) &\n      (cueOutPosIndx[2] === 1)\n    ) {\n      LastStatePic1 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic2 = this.state.stateWord[SafePathOutPic];\n      LastStatePic3 = this.state.stateWord[RiskyPath1OutPic];\n      OutcomePic1 = Risky2Out;\n      OutcomePic2 = SafeOut;\n      OutcomePic3 = Risky1Out;\n      OutcomeVal1 = Risky2Val;\n      OutcomeVal2 = SafeVal;\n      OutcomeVal3 = Risky1Val;\n    } else if (\n      (cueOutPosIndx[0] === 2) &\n      (cueOutPosIndx[1] === 1) &\n      (cueOutPosIndx[2] === 0)\n    ) {\n      LastStatePic1 = this.state.stateWord[RiskyPath2OutPic];\n      LastStatePic2 = this.state.stateWord[RiskyPath1OutPic];\n      LastStatePic3 = this.state.stateWord[SafePathOutPic];\n      OutcomePic1 = Risky2Out;\n      OutcomePic2 = Risky1Out;\n      OutcomePic3 = SafeOut;\n      OutcomeVal1 = Risky2Val;\n      OutcomeVal2 = Risky1Val;\n      OutcomeVal3 = SafeVal;\n    }\n\n    // console.log(\"text: \" + taskForcedChoiceText1);\n    // console.log(\"text: \" + taskForcedChoiceText2);\n    var timerKey = this.state.timerKey + 1;\n\n    this.setState({\n      Shuttle1Word: Shuttle1Word,\n      Shuttle1: Shuttle1,\n      Shuttle2Word: Shuttle2Word,\n      Shuttle2: Shuttle2,\n      ShuttlePos: cueShutPosIndx,\n      ShuttlePicWord: ShuttlePicWord,\n      Prob1: Prob1,\n      Prob2: Prob2,\n\n      LastStatePic1: LastStatePic1,\n      LastStatePic2: LastStatePic2,\n      LastStatePic3: LastStatePic3,\n\n      OutcomePic1: OutcomePic1,\n      OutcomePic2: OutcomePic2,\n      OutcomePic3: OutcomePic3,\n      OutcomeVal1: OutcomeVal1,\n      OutcomeVal2: OutcomeVal2,\n      OutcomeVal3: OutcomeVal3,\n\n      SafePath: SafePath,\n      RiskyPath1: RiskyPath1,\n      RiskyPath2: RiskyPath2,\n\n      neuVal: neuVal, //just for the trual value\n\n      taskForcedChoiceText1: taskForcedChoiceText1,\n      taskForcedChoiceText2: taskForcedChoiceText2,\n\n      choice1Fade: choice1Fade,\n      choice2Fade: choice2Fade,\n\n      playCueScreen: true,\n      playPlanScreen: false,\n      // playTransScreen: false,\n      playPathFull: false,\n      playPathShort: false,\n      playPathOutcomeShort: false,\n\n      trialNum: trialNum,\n      trialNumInBlock: trialNumInBlock,\n      trialTime: trialTime,\n      timerKey: timerKey,\n      pathProbBoth: pathProbBoth,\n\n      planCurrentChoice: 1,\n      statePlan1Style: styles.statePlan,\n      statePlan2Style: styles.statePlan,\n      statePlan3Style: styles.statePlan,\n      statePlan4Style: styles.statePlan,\n      statePlan5Style: styles.statePlan,\n      statePlan6Style: styles.statePlan,\n      planChoices: [],\n      planRT: [],\n      planCor: null,\n      planChoicesWords: [],\n      keyChoiceAll: [],\n      planPathChosen: null,\n      planFeedback: \"Press the [number key] to select the room.\",\n    });\n\n    if (trialNum === 1) {\n      this.setState({\n        instructScreen: false,\n        taskScreen: true,\n      });\n    }\n\n    setTimeout(\n      function () {\n        this.allowResp();\n      }.bind(this),\n      this.state.respWaitDur\n    );\n  }\n\n  allowResp() {\n    document.addEventListener(\"keyup\", this._handleTaskKey);\n    var taskForceChoice = this.state.taskForceChoice[this.state.trialNum - 1];\n    var trialNumInBlock = this.state.trialNumInBlock;\n    var choice1Fade = this.state.choice1Fade;\n    var choice2Fade = this.state.choice2Fade;\n\n    if (this.state.ShuttlePos[0] === 0) {\n      //safe one is left choice\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoiceFade;\n      } else if (\n        trialNumInBlock <= this.state.trialForced &&\n        taskForceChoice === 2\n      ) {\n        choice1Fade = styles.shuttleChoiceFade;\n        choice2Fade = styles.shuttleChoice;\n      } else {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoice;\n      }\n    } else if (this.state.ShuttlePos[0] === 1) {\n      //safe one is right choice\n      if (trialNumInBlock <= this.state.trialForced && taskForceChoice === 1) {\n        choice1Fade = styles.shuttleChoiceFade;\n        choice2Fade = styles.shuttleChoice;\n      } else if (\n        trialNumInBlock <= this.state.trialForced &&\n        taskForceChoice === 2\n      ) {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoiceFade;\n      } else {\n        choice1Fade = styles.shuttleChoice;\n        choice2Fade = styles.shuttleChoice;\n      }\n    }\n\n    this.setState({\n      choice1Fade: choice1Fade,\n      choice2Fade: choice2Fade,\n    });\n  }\n\n  lateResponse() {\n    document.addEventListener(\"keyup\", this._handleNextTrialKey);\n    document.removeEventListener(\"keyup\", this._handleTaskKey);\n    var coins = this.state.coins - 1;\n    var trialRT = Math.round(performance.now()) - this.state.trialTime;\n\n    this.setState({\n      choice1Fade: styles.shuttleChoiceFade,\n      choice2Fade: styles.shuttleChoiceFade,\n      taskForcedChoiceText1: \"You lose 1 coin! Please respond faster.\",\n      taskForcedChoiceText2:\n        \"[Press the SPACEBAR to continue to the next journey]\",\n      trialRT: trialRT,\n      coins: coins,\n      timerOn: false,\n      keyChoice: 0, //meaning that they didn't press at all\n      pathProb: null,\n      pathRoute: null,\n      outcome: null,\n      pathIndx: null,\n      pathProbEnd: null,\n      pathNum: null,\n      taskPathPicWord: null,\n      taskOutcomeWord: null,\n      taskOutcomeIndx: null,\n      outcomeValue: null, //i can see what number 0 is\n      taskOutcomeValue: -1, //actual value\n    });\n\n    setTimeout(\n      function () {\n        this.taskSave();\n      }.bind(this),\n      0\n    );\n  }\n\n  taskStart(trialNum) {\n    var choice1Fade = this.state.choice1Fade;\n    var choice2Fade = this.state.choice2Fade;\n\n    let text = (\n      <div className={styles.main}>\n        <div className={styles.counter}>\n          <img\n            className={styles.counter}\n            src={this.state.img_counter}\n            alt=\"counter\"\n          />\n          {this.state.trialNum}/{this.state.trialTotal}\n        </div>\n        <div className={styles.coins}>\n          <img\n            className={styles.counter}\n            src={this.state.img_coin}\n            alt=\"coin\"\n          />\n          {this.state.coins}\n        </div>\n        <span className={styles.likeP}>\n          <span className={styles.centerThree}>\n            <span className={styles.cueScreen}>\n              {this.state.LastStatePic1} - {this.state.OutcomeVal1}&nbsp;\n              {this.state.OutcomePic1}\n              <br />\n              {this.state.LastStatePic2} - {this.state.OutcomeVal2}&nbsp;\n              {this.state.OutcomePic2}\n              <br />\n              {this.state.LastStatePic3} - {this.state.OutcomeVal3}&nbsp;\n              {this.state.OutcomePic3}\n            </span>\n          </span>\n          <br />\n          <span className={styles.centerThree}>\n            <span className={choice1Fade}>\n              {this.state.Prob1}\n              <br /> {this.state.Shuttle1Word} <br />\n              <img\n                className={styles.shuttle}\n                src={this.state.Shuttle1}\n                alt=\"shuttle1\"\n              />\n            </span>\n            &nbsp; &nbsp; &nbsp; &nbsp;\n            <span className={choice2Fade}>\n              {this.state.Prob2}\n              <br /> {this.state.Shuttle2Word} <br />\n              <img\n                className={styles.shuttle}\n                src={this.state.Shuttle2}\n                alt=\"shuttle2\"\n              />\n            </span>\n            <br /> <br />\n          </span>\n          <span className={styles.centerThree}>\n            <CountdownCircleTimer\n              isPlaying\n              key={this.state.timerKey}\n              duration={this.state.timerCountDur}\n              size={100}\n              colors={[[\"#004777\", 0.3], [\"#F7B801\", 0.6], [\"#A30000\"]]}\n              onComplete={() => {\n                this.lateResponse();\n                return [false];\n              }}\n            >\n              {renderTime}\n            </CountdownCircleTimer>\n          </span>\n          <span className={styles.centerTwo}>\n            {this.state.taskForcedChoiceText1}\n          </span>\n          <span className={styles.centerTwo}>\n            {this.state.taskForcedChoiceText2}\n          </span>\n        </span>\n      </div>\n    );\n\n    return <div>{text}</div>;\n  }\n\n  playStateOne() {\n    // if it is null, it means you were too late!!! this helps catch the inconsistent time out\n    if (this.state.pathRoute !== null) {\n      document.removeEventListener(\"keyup\", this._handleTaskKey);\n      var pathRoutePic1 = this.state.pathRoute[0]; //[0,1,2] or [3,4,5] or [6,7,8]\n      var pathNum;\n      var whichShip;\n      var pathPicWord;\n      if (pathRoutePic1 === 0) {\n        pathNum = 1;\n        whichShip = \"A\";\n        pathPicWord = [\n          this.state.stateWord[0],\n          this.state.stateWord[1],\n          this.state.stateWord[2],\n        ];\n      } else if (pathRoutePic1 === 3) {\n        pathNum = 2;\n        whichShip = \"B\";\n        pathPicWord = [\n          this.state.stateWord[3],\n          this.state.stateWord[4],\n          this.state.stateWord[5],\n        ];\n      } else if (pathRoutePic1 === 6) {\n        pathNum = 3;\n        whichShip = \"C\";\n        pathPicWord = [\n          this.state.stateWord[6],\n          this.state.stateWord[7],\n          this.state.stateWord[8],\n        ];\n      }\n      var statePic = this.state.statePic[pathRoutePic1];\n\n      this.setState({\n        playCueScreen: false,\n        playPlanScreen: false,\n        // playTransScreen: false,\n        playPathFull: true,\n        playPathShort: false,\n        playPathOutcomeShort: false,\n        stateNum: \"Room 1\",\n        stateShown: statePic,\n        pathNum: pathNum,\n        whichShip: whichShip,\n        outcomeValue: null,\n        taskPathPicWord: pathPicWord,\n        taskOutcome1: [],\n        taskOutcome2: [],\n        taskOutcomeValue: null,\n        taskOutcome3: [],\n      });\n\n      setTimeout(\n        function () {\n          this.playFix();\n        }.bind(this),\n        this.state.stateDur\n      );\n    } else {\n      setTimeout(\n        function () {\n          this.lateResponse();\n        }.bind(this),\n        1\n      );\n    }\n  }\n\n  playFix() {\n    this.setState({\n      stateShown: this.state.img_fix,\n    });\n\n    if (this.state.stateNum === \"Room 1\") {\n      setTimeout(\n        function () {\n          this.playStateTwo();\n        }.bind(this),\n        this.state.fixDur\n      );\n    } else if (this.state.stateNum === \"Room 2\") {\n      setTimeout(\n        function () {\n          this.playStateThree();\n        }.bind(this),\n        this.state.fixDur\n      );\n    } else if (this.state.stateNum === \"Room 3\") {\n      setTimeout(\n        function () {\n          this.playOutcome();\n        }.bind(this),\n        this.state.fixDur\n      );\n    }\n  }\n\n  playStateTwo() {\n    var pathRoutePic2 = this.state.pathRoute[1]; //[0,1,2] or [3,4,5] or [6,7,8]\n    var statePic = this.state.statePic[pathRoutePic2];\n\n    this.setState({\n      stateNum: \"Room 2\",\n      stateShown: statePic,\n    });\n\n    setTimeout(\n      function () {\n        this.playFix();\n      }.bind(this),\n      this.state.stateDur\n    );\n  }\n\n  playStateThree() {\n    var pathRoutePic3 = this.state.pathRoute[2]; //[0,1,2] or [3,4,5] or [6,7,8]\n    var statePic = this.state.statePic[pathRoutePic3];\n\n    this.setState({\n      stateNum: \"Room 3\",\n      stateShown: statePic,\n    });\n\n    setTimeout(\n      function () {\n        this.playFix();\n      }.bind(this),\n      this.state.stateDur\n    );\n  }\n\n  //normal path play\n  pathStart() {\n    let text = (\n      <div className={styles.main}>\n        <div className={styles.counter}>\n          <img\n            className={styles.counter}\n            src={this.state.img_counter}\n            alt=\"counter\"\n          />\n          {this.state.trialNum}/{this.state.trialTotal}\n        </div>\n        <div className={styles.coins}>\n          <img\n            className={styles.counter}\n            src={this.state.img_coin}\n            alt=\"coin\"\n          />\n          {this.state.coins}\n        </div>\n        <p>\n          <span className={styles.center}>\n            Spaceship {this.state.whichShip}\n          </span>\n          <span className={styles.centerTwo}>{this.state.stateNum}</span>\n          <br />\n          <span className={styles.centerThree}>\n            <span className={styles.outcomeValue}>\n              {this.state.outcomeValue}\n            </span>\n            <img\n              className={styles.stateLarge}\n              src={this.state.stateShown}\n              alt=\"state\"\n            />\n          </span>\n          <br />\n          <span className={styles.centerThree}>\n            {this.state.taskOutcome1} {this.state.taskOutcomeValue}\n            &nbsp;\n            {this.state.taskOutcome2}\n          </span>\n          <br />\n          <span className={styles.centerThree}>{this.state.taskOutcome3}</span>\n          <br />\n        </p>\n      </div>\n    );\n\n    return <div>{text}</div>;\n  }\n\n  playOutcome() {\n    document.addEventListener(\"keyup\", this._handleNextTrialKey);\n    var outcome = this.state.outcome;\n    var outcomePic;\n    var outcomeValue = this.state.outcomeValue;\n    //that is, if it is tutorial, i explictly say the outcome\n    var taskOutcome1 = this.state.taskOutcome1;\n    var coins = this.state.coins + outcome;\n    var taskOutcomeValue = this.state.taskOutcomeValue;\n    var outcomeWord;\n    var outcomeIndx;\n\n    if (outcome > 0) {\n      outcomeIndx = 0;\n      outcomeWord = this.state.outcomeWord[0];\n\n      if (this.state.trialNumInBlock <= this.state.trialForced) {\n        outcomePic = this.state.outcomePic[0];\n      } else {\n        outcomePic = this.state.stateHolder[1];\n      }\n\n      outcomeValue = outcome / this.state.outcomeVal[0];\n      taskOutcomeValue = outcomeValue;\n      taskOutcome1 = \"You gain\";\n    } else if (outcome < 0) {\n      outcomeIndx = 1;\n      outcomeWord = this.state.outcomeWord[1];\n\n      if (this.state.trialNumInBlock <= this.state.trialForced) {\n        outcomePic = this.state.outcomePic[1];\n      } else {\n        outcomePic = this.state.stateHolder[1];\n      }\n\n      outcomeValue = outcome / this.state.outcomeVal[1];\n      taskOutcomeValue = outcomeValue;\n      taskOutcome1 = \"You lose\";\n    } else if (outcome === 0) {\n      outcomeIndx = 2;\n      outcomeWord = this.state.outcomeWord[2];\n\n      if (this.state.trialNumInBlock <= this.state.trialForced) {\n        outcomePic = this.state.outcomePic[2];\n      } else {\n        outcomePic = this.state.stateHolder[1];\n      }\n\n      outcomeValue = this.state.neuVal;\n      taskOutcomeValue = outcome;\n      taskOutcome1 = \"You gain/lose\";\n    }\n\n    this.setState({\n      stateNum: \"You find:\",\n      stateShown: outcomePic,\n      outcomeValue: outcomeValue,\n      taskOutcome1: taskOutcome1,\n      taskOutcomeValue: taskOutcomeValue,\n      taskOutcome2: \"coin(s)!\",\n      coins: coins,\n      taskOutcomeWord: outcomeWord,\n      taskOutcomeIndx: outcomeIndx,\n      taskOutcome3: \"[Press the SPACEBAR to continue to the next journey]\",\n    });\n\n    setTimeout(\n      function () {\n        this.taskSave();\n      }.bind(this),\n      0\n    );\n  }\n\n  taskSave() {\n    var userID = this.state.userID;\n    var trialForced;\n\n    var trialOutcomeValence;\n\n    if (this.state.outcome === 0) {\n      trialOutcomeValence = 0;\n    } else if (this.state.outcome === null) {\n      //this only comes from late response\n      trialOutcomeValence = null;\n    } else {\n      trialOutcomeValence = this.state.outcome / this.state.taskOutcomeValue;\n    }\n\n    if (this.state.trialNumInBlock <= this.state.trialForced) {\n      trialForced = true;\n    } else {\n      trialForced = false;\n    }\n\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      sectionTime: this.state.sectionTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      trialTime: this.state.trialTime,\n      trialNum: this.state.trialNum,\n      trialBlock: this.state.trialBlock,\n      trialNumInBlock: this.state.trialNumInBlock,\n      trialForced: trialForced, // true if it is a forced trial\n      trialShuttleWord: [this.state.Shuttle1Word, this.state.Shuttle2Word],\n      trialShuttle: this.state.ShuttlePicWord,\n      trialShuttlePos: this.state.ShuttlePos,\n      trialShuttleProb: [this.state.Prob1, this.state.Prob2],\n      trialLastStatePic: [\n        this.state.LastStatePic1,\n        this.state.LastStatePic2,\n        this.state.LastStatePic3,\n      ],\n      trialOutcomePic: [\n        this.state.OutcomePic1,\n        this.state.OutcomePic2,\n        this.state.OutcomePic3,\n      ],\n      trialOutcomeVal: [\n        this.state.OutcomeVal1,\n        this.state.OutcomeVal2,\n        this.state.OutcomeVal2,\n      ],\n      trialSafePath: this.state.SafePath,\n      trialRiskyPath1: this.state.RiskyPath1,\n      trialRiskyPath2: this.state.RiskyPath2,\n\n      trialSafeProb: this.state.taskSafePathProb[this.state.trialNum - 1],\n      trialRiskyProb1: this.state.taskRiskyPathProb1[this.state.trialNum - 1],\n      trialRiskyProb2: this.state.taskRiskyPathProb2[this.state.trialNum - 1],\n\n      trialSafeValue: this.state.taskSafePathOutcome[this.state.trialNum - 1],\n      trialRiskyValue1: this.state.taskRiskyPathOutcome1[\n        this.state.trialNum - 1\n      ],\n      trialRiskyValue2: this.state.taskRiskyPathOutcome2[\n        this.state.trialNum - 1\n      ],\n\n      trialSafePathEV: this.state.taskSafePathEV[this.state.trialNum - 1],\n      trialRiskyPathEV1: this.state.taskRiskyPathEV1[this.state.trialNum - 1],\n      trialRiskyPathEV2: this.state.taskRiskyPathEV2[this.state.trialNum - 1],\n      trialGambleEV: this.state.taskGambleEV[this.state.trialNum - 1], //Risky EV1+EV2\n      trialChoiceEV: this.state.taskChoiceEV[this.state.trialNum - 1], //SafeEV - (RiskyEV1+EV2)\n\n      trialPlan: this.state.taskPlanChoice[this.state.trialNum - 1], //0 for not a plan trial, 1 for a plan trial\n      trialPlanRT: this.state.planRT,\n      trialPlanChoice: this.state.planChoices,\n      trialPlanChoiceWords: this.state.planChoicesWords,\n      trialPlanPathChosen: this.state.planPathChosen,\n      trialPlanCor: this.state.planCor,\n\n      trialPathProb: this.state.pathProbBoth, //this is whether they chose 100 or 50/50, etc\n      trialRT: this.state.trialRT,\n      trialKeypress: this.state.keyChoice, //press left or right\n      trialGambleChoice: this.state.pathIndx, //press 1- safe or 2 -risky\n      trialPathProbChosen: this.state.pathProbEnd, //this is whether they chose 100 or 50/50, etc\n      trialPath: this.state.pathNum, //this should be which path\n      trialPathPicWord: this.state.taskPathPicWord,\n      trialPathIndx: this.state.pathRoute,\n      trialOutcomePicWord: this.state.taskOutcomeWord,\n      trialOutcomeIndx: this.state.taskOutcomeIndx,\n      trialOutcomeValence: trialOutcomeValence, //1, -1 or 0\n      trialOutcomeMag: this.state.outcomeValue, //i can see what number 0 is\n      trialOutcomeValue: this.state.outcome, //actual value\n      trialOptimalChoice: this.state.taskOptChoice[this.state.trialNum - 1],\n      trialCoins: this.state.coins,\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/task_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(saveString),\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n\n    // console.log(\"trialInBlock: \" + this.state.trialInBlock);\n  }\n\n  handleNextTrial(pressed, time_pressed) {\n    var whichButton = pressed;\n    if (whichButton === 10) {\n      if (\n        this.state.trialNumInBlock >= this.state.trialInBlock &&\n        this.state.trialNum !== this.state.trialTotal\n      ) {\n        //end of block, send to resting screen\n        setTimeout(\n          function () {\n            this.endBlock();\n          }.bind(this),\n          0\n        );\n      } else {\n        setTimeout(\n          function () {\n            this.setTrialVar();\n          }.bind(this),\n          0\n        );\n      }\n    }\n  }\n\n  endBlock() {\n    document.removeEventListener(\"keyup\", this._handleNextTrialKey);\n    this.setState({\n      instructScreen: true,\n      taskScreen: false,\n      instructScreenText: 5,\n    });\n  }\n\n  nextBlock() {\n    var trialBlock = this.state.trialBlock + 1;\n    var forcedPaths = this.state.forcedPaths;\n\n    shuffle(forcedPaths);\n\n    this.setState({\n      instructScreen: false,\n      taskScreen: true,\n      trialNumInBlock: 0, //reset for next block\n      trialBlock: trialBlock,\n      forcedPaths: forcedPaths,\n    });\n\n    setTimeout(\n      function () {\n        this.setTrialVar();\n      }.bind(this),\n      5\n    );\n  }\n\n  passMission() {\n    this.setState({\n      instructScreen: true,\n      taskScreen: false,\n      instructScreenText: 6,\n    });\n\n    setTimeout(\n      function () {\n        this.calBonus();\n      }.bind(this),\n      0\n    );\n  }\n\n  // There is a default of 2 pounds bonus - for their time?\n  calBonus() {\n    var coins = this.state.coins;\n    var bonus = (coins / (0.4 * this.state.trialTotal)) * 2;\n\n    // if you earn negative then no bonus at all?\n    if (bonus < 0) {\n      bonus = 2;\n    } else {\n      bonus = roundTo(bonus, 2) + 2; //2 dec pl\n    }\n\n    this.setState({\n      bonus: bonus,\n    });\n\n    setTimeout(\n      function () {\n        this.saveBonus();\n      }.bind(this),\n      0\n    );\n  }\n\n  saveBonus() {\n    var userID = this.state.userID;\n\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime,\n      sectionTime: this.state.sectionTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      taskCoins: this.state.coins,\n      taskBonus: this.state.bonus,\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/bonus_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(saveString),\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n  }\n\n  nextMission() {\n    document.removeEventListener(\"keyup\", this._handleInstructKey);\n    document.removeEventListener(\"keyup\", this._handleDebugKey);\n    this.props.history.push({\n      pathname: `/Questionnaires`,\n      state: {\n        userID: this.state.userID,\n        date: this.state.date,\n        startTime: this.state.startTime,\n        bonus: this.state.bonus,\n\n        img_astrodude1: this.state.img_astrodude1,\n        shuttlePic: this.state.shuttlePic,\n      },\n    });\n  }\n\n  componentWillUnmount() {\n    // fix Warning: Can't perform a React state update on an unmounted component\n    this.setState = (state, callback) => {\n      return;\n    };\n  }\n\n  condSave() {\n    var userID = this.state.userID;\n    var currentDate = new Date(); // maybe change to local\n    var sectionTime = currentDate.toTimeString();\n    var trialTime = Math.round(performance.now());\n\n    let saveString = {\n      userID: this.state.userID,\n      date: this.state.date,\n      startTime: this.state.startTime, // this is when they start the expt\n      sectionTime: sectionTime, //this is if they somehow refresh the page...\n      trialTime: trialTime,\n      taskSession: this.state.taskSession,\n      taskSessionTry: this.state.taskSessionTry,\n      structNum: this.state.structNum,\n\n      outcomeWord: null,\n      outcomeVal: null,\n      outcomeIndx: null,\n\n      stateWord: null,\n      stateIndx: null,\n      pathOne: null,\n      pathTwo: null,\n      pathThree: null,\n\n      tutForcedPaths: null,\n      tutSafePathOutcome: null,\n      tutRiskyPathOutcome1: null,\n      tutRiskyPathOutcome2: null,\n      tutSafePathProb: null,\n      tutRiskyPathProb1: null,\n      tutRiskyPathProb2: null,\n      tutOptChoice: null,\n      tutOutcomeStruct: null,\n      tutForceChoice: null,\n      tutPlanChoice: null,\n      tutShowPath: null,\n\n      taskSafePathOutcome: this.state.taskSafePathOutcome,\n      taskRiskyPathOutcome1: this.state.taskRiskyPathOutcome1,\n      taskRiskyPathOutcome2: this.state.taskRiskyPathOutcome2,\n      taskSafePathProb: this.state.taskSafePathProb,\n      taskRiskyPathProb1: this.state.taskRiskyPathProb1,\n      taskRiskyPathProb2: this.state.taskRiskyPathProb2,\n      taskOptChoice: this.state.taskOptChoice,\n      taskOutcomeStruct: this.state.taskOutcomeStruct,\n      taskForceChoice: this.state.taskForceChoice,\n      taskPlanChoice: this.state.taskPlanChoice,\n      taskShowPath: this.state.taskShowPath,\n    };\n\n    try {\n      fetch(`${DATABASE_URL}/cond_data/` + userID, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(saveString),\n      });\n    } catch (e) {\n      console.log(\"Cant post?\");\n    }\n  }\n  //////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////////////////////////////////////////////////////////////////////////////////////\n  // render time\n\n  render() {\n    let text;\n    if (this.state.debug === false) {\n      if (this.state.instructScreen === true) {\n        document.addEventListener(\"keyup\", this._handleInstructKey);\n        if (this.state.instructScreenText === 1) {\n          document.addEventListener(\"keyup\", this._handleInstructKey);\n          document.removeEventListener(\"keyup\", this._handleTaskKey);\n          text = (\n            <div className={styles.main}>\n              <span className={styles.likeP}>\n                <span className={styles.center}>MISSION START</span>\n                <br />\n                You are now ready to start the main mission.\n                <br />\n                <br />\n                Remember: you can earn a bonus of up to £4 if you complete the\n                mission!\n                <br />\n                <br />\n                The more coins you earn, the higher your bonus will be.\n                <br />\n                <br />\n                Please take note of some <strong>important changes</strong> for\n                the main mission:\n                <ul>\n                  <li>\n                    You can only choose the shuttle after&nbsp;\n                    <strong>{this.state.respWaitDur / 1000} seconds</strong>.\n                  </li>\n                  <li>\n                    You will only have&nbsp;\n                    <strong>{this.state.timerCountDur} seconds</strong> to plan\n                    which choice to make each time.\n                  </li>\n                  <li>\n                    A timer will be shown. If the timer runs out, you will&nbsp;\n                    <strong>lose 1 coin</strong>.\n                  </li>\n                  <li>\n                    We will only ask you to select the connecting room images in\n                    its correct order <br />\n                    of the{\" \"}\n                    <strong>\n                      spaceship that you believe you will end up in\n                    </strong>{\" \"}\n                    SOME of the time.\n                  </li>\n                </ul>\n                <span className={styles.centerTwo}>\n                  [<strong>NEXT →</strong>]\n                </span>\n              </span>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 2) {\n          text = (\n            <div className={styles.main}>\n              <span className={styles.likeP}>\n                <span className={styles.center}>MISSION START</span>\n                As a last refresher, the outcome rooms you can find:\n                <span className={styles.centerTwo}>\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.outcomePic[0]}\n                    alt=\"outcome1\"\n                  />\n                  &nbsp;&nbsp; = &nbsp;+{\" \"}\n                  <img\n                    className={styles.coin}\n                    src={this.state.img_coin}\n                    alt=\"coin\"\n                  />{\" \"}\n                  (gain)\n                  <br />\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.outcomePic[1]}\n                    alt=\"outcome2\"\n                  />\n                  &nbsp;&nbsp; = &nbsp;-{\" \"}\n                  <img\n                    className={styles.coin}\n                    src={this.state.img_coin}\n                    alt=\"coin\"\n                  />{\" \"}\n                  (lose)\n                  <br />\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.outcomePic[2]}\n                    alt=\"outcome3\"\n                  />\n                  &nbsp;&nbsp; = &nbsp;none\n                </span>\n                <span className={styles.centerTwo}>\n                  [<strong>← BACK</strong>] [<strong>NEXT →</strong>]\n                </span>\n              </span>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 3) {\n          text = (\n            <div className={styles.main}>\n              <span className={styles.likeP}>\n                <span className={styles.center}>MISSION START</span>\n                And the connecting room order of the spaceships are:\n                <span className={styles.centerTwo}>\n                  <span className={styles.spaceshipSmall}>Spaceship A</span>\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[0]}\n                    alt=\"statePic1\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[1]}\n                    alt=\"statePic2\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[2]}\n                    alt=\"statePic3\"\n                  />\n                  <br /> <br />\n                  <span className={styles.spaceshipSmall}>Spaceship B</span>\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[3]}\n                    alt=\"statePic4\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[4]}\n                    alt=\"statePic5\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[5]}\n                    alt=\"statePic6\"\n                  />\n                  <br /> <br />\n                  <span className={styles.spaceshipSmall}>Spaceship C</span>\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[6]}\n                    alt=\"statePic7\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[7]}\n                    alt=\"statePic8\"\n                  />\n                  &nbsp;&nbsp;&nbsp;&nbsp;→&nbsp;&nbsp;&nbsp;&nbsp;\n                  <img\n                    className={styles.stateSmall}\n                    src={this.state.statePic[8]}\n                    alt=\"statePic9\"\n                  />\n                </span>\n                <span className={styles.centerTwo}>\n                  [<strong>← BACK</strong>] [<strong>NEXT →</strong>]\n                </span>\n              </span>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 4) {\n          text = (\n            <div className={styles.main}>\n              <span className={styles.likeP}>\n                <span className={styles.center}>MISSION START</span>\n                You will make {this.state.trialTotal} shuttle journeys in total\n                across {this.state.trialBlockTotal} blocks.\n                <br />\n                <br />\n                This means you will make&nbsp;\n                {this.state.trialTotal / this.state.trialBlockTotal} shuttle\n                journeys in each block.\n                <br />\n                <br />\n                In the&nbsp;\n                <strong>\n                  first {this.state.trialForced} shuttle journeys of every block\n                </strong>\n                , only the <strong>reliable shuttle</strong> option will be\n                available and\n                <br />\n                you will be shown the connecting and outcome room images.\n                <br />\n                <br />\n                Thereafter, both shuttles will be available and&nbsp;\n                <strong>no images will be shown</strong>.\n                <br />\n                <br />\n                You will have to use your <strong>memory</strong> to decipher\n                the clues and make your choices.\n                <br />\n                <br />\n                <strong>YOUR MISSION:</strong>\n                <ul>\n                  <li>\n                    Recall the spaceship connecting rooms and figure out which\n                    spaceship you should board to gain or avoid losing coins.\n                  </li>\n                  <li>\n                    Then, decide if it is worth the risk take the reliable or\n                    unreliable shuttle according to their probabilties.\n                  </li>\n                </ul>\n                <span className={styles.centerTwo}>\n                  If you are ready to begin, please press the [\n                  <strong>SPACEBAR</strong>].\n                </span>\n                <span className={styles.centerTwo}>\n                  [<strong>← BACK</strong>]\n                </span>\n              </span>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 5) {\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>MID-MISSION</span>\n                You have completed {this.state.trialBlock} out of&nbsp;\n                {this.state.trialBlockTotal} blocks!\n                <br />\n                <br />\n                You may take a short break.\n                <br />\n                <br />\n                Remember: the first {this.state.trialForced} shuttle journeys\n                will only have the <strong>reliable shuttle</strong> option\n                available.\n                <br />\n                <br />\n                You should take the opportunity to refresh your memory of the\n                room and outcome images.\n                <br />\n                <span className={styles.centerTwo}>\n                  If you are ready to continue, please press the [\n                  <strong>SPACEBAR</strong>].\n                </span>\n              </p>\n            </div>\n          );\n        } else if (this.state.instructScreenText === 6) {\n          text = (\n            <div className={styles.main}>\n              <p>\n                <span className={styles.center}>MISSION END</span>\n                Well done! You have completed all blocks!\n                <br /> <br />\n                You earned {this.state.coins} coins in your mission!\n                <br /> <br />\n                This will be converted into a bonus at the end of the task.\n                <br /> <br />\n                <span className={styles.centerTwo}>\n                  Press the [<strong>SPACEBAR</strong>] to continue.\n                </span>\n              </p>\n            </div>\n          );\n        }\n      } else if (this.state.instructScreen === false) {\n        if (this.state.taskScreen === true) {\n          document.removeEventListener(\"keyup\", this._handleInstructKey);\n          if (this.state.trialNum <= this.state.trialTotal) {\n            if (\n              this.state.playCueScreen === true &&\n              this.state.playPlanScreen === false &&\n              // this.state.playTransScreen === false &&\n              this.state.playPathFull === false &&\n              this.state.playPathShort === false &&\n              this.state.playPathOutcomeShort === false\n            ) {\n              //cueScreen\n              //document.addEventListener(\"keyup\", this._handleTaskKey);\n              text = <div>{this.taskStart(this.state.trialNum)}</div>;\n            } else if (\n              this.state.playCueScreen === false &&\n              this.state.playPlanScreen === true &&\n              // this.state.playTransScreen === false &&\n              this.state.playPathFull === false &&\n              this.state.playPathShort === false &&\n              this.state.playPathOutcomeShort === false\n            ) {\n              // the planning screen\n              document.addEventListener(\"keyup\", this._handlePlanKey);\n              document.removeEventListener(\"keyup\", this._handleTaskKey);\n              text = <div>{this.planStart()}</div>;\n            } else if (\n              this.state.playCueScreen === false &&\n              this.state.playPlanScreen === false &&\n              // this.state.playTransScreen === false &&\n              this.state.playPathFull === true &&\n              this.state.playPathShort === false &&\n              this.state.playPathOutcomeShort === false\n            ) {\n              // the path route with pics\n              document.removeEventListener(\"keyup\", this._handlePlanKey);\n              document.removeEventListener(\"keyup\", this._handleTaskKey);\n              text = <div>{this.pathStart()}</div>;\n            } else if (\n              this.state.playCueScreen === false &&\n              this.state.playPlanScreen === false &&\n              // this.state.playTransScreen === false &&\n              this.state.playPathFull === false &&\n              this.state.playPathShort === true &&\n              this.state.playPathOutcomeShort === false\n            ) {\n              document.removeEventListener(\"keyup\", this._handlePlanKey);\n              document.removeEventListener(\"keyup\", this._handleTaskKey);\n              text = <div>{this.pathShortStart()}</div>;\n            } else if (\n              this.state.playCueScreen === false &&\n              this.state.playPlanScreen === false &&\n              // this.state.playTransScreen === false &&\n              this.state.playPathFull === false &&\n              this.state.playPathShort === false &&\n              this.state.playPathOutcomeShort === true\n            ) {\n              // document.removeEventListener(\"keyup\", this._handlePlanKey);\n              // document.removeEventListener(\"keyup\", this._handleTaskKey);\n              text = <div>{this.pathShortOutcomeStart()}</div>;\n            }\n            //\n          } else {\n            // finish all trials - go to end screen\n            setTimeout(\n              function () {\n                this.passMission();\n              }.bind(this),\n              0\n            );\n          }\n          //\n        }\n      }\n    } else if (this.state.debug === true) {\n      document.addEventListener(\"keyup\", this._handleDebugKey);\n      text = (\n        <div className={styles.main}>\n          <p>\n            <span className={styles.center}>DEBUG MODE</span>\n            <br />\n            <span className={styles.centerTwo}>\n              Press the [<strong>SPACEBAR</strong>] to skip to next section.\n            </span>\n          </p>\n        </div>\n      );\n    }\n\n    return (\n      <div className={styles.spacebg}>\n        <span className={styles.astro3}>\n          <img src={this.state.img_astrodude3} alt=\"astrodude\" />\n        </span>\n        <div className={styles.textblock}>{text}</div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(ExptTask);\n"]},"metadata":{},"sourceType":"module"}